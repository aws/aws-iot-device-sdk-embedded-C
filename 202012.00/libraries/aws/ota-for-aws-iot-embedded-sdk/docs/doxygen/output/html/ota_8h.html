<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AWS IoT Over-the-air Update: ota.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="foobar.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AWS IoT Over-the-air Update
   &#160;<span id="projectnumber">v2.0.0 (Release Candidate)</span>
   </div>
   <div id="projectbrief">Client library for AWS IoT OTA</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ota_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ota.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>OTA Agent Interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ota__private_8h_source.html">ota_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ota__os__interface_8h_source.html">ota_os_interface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ota__mqtt__interface_8h_source.html">ota_mqtt_interface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ota__http__interface_8h_source.html">ota_http_interface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ota__platform__interface_8h_source.html">ota_platform_interface.h</a>&quot;</code><br />
</div>
<p><a href="ota_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_ota_interfaces__t.html">OtaInterfaces_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Interface for referencing different components.  <a href="struct_ota_interfaces__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_ota_app_buffer__t.html">OtaAppBuffer_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Application Buffer size information.  <a href="struct_ota_app_buffer__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_ota_agent_context__t.html">OtaAgentContext_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The OTA agent is a singleton today. The structure keeps it nice and organized.  <a href="struct_ota_agent_context__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2714f6afa56c8777b5e570a390a69a58"><td class="memItemLeft" align="right" valign="top"><a id="a2714f6afa56c8777b5e570a390a69a58"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#a2714f6afa56c8777b5e570a390a69a58">CONST_STRLEN</a>(s)&#160;&#160;&#160;( ( ( uint32_t ) sizeof( s ) ) - 1UL )</td></tr>
<tr class="memdesc:a2714f6afa56c8777b5e570a390a69a58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluates to the length of a constant string defined like 'static const char str[]= "xyz";. <br /></td></tr>
<tr class="separator:a2714f6afa56c8777b5e570a390a69a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8baee291088322fecd736ff0b03fb730"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#a8baee291088322fecd736ff0b03fb730">OTA_FILE_SIG_KEY_STR_MAX_LENGTH</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a8baee291088322fecd736ff0b03fb730"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga3bedd7e278f89d555a32a7efa8023a28"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__callback__types.html#ga3bedd7e278f89d555a32a7efa8023a28">OtaAppCallback_t</a>) (<a class="el" href="group__ota__enum__types.html#ga96a2e1f5cfad783897e805196eee39a7">OtaJobEvent_t</a> eEvent, const void *pData)</td></tr>
<tr class="memdesc:ga3bedd7e278f89d555a32a7efa8023a28"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA update complete callback function typedef.  <a href="group__ota__callback__types.html#ga3bedd7e278f89d555a32a7efa8023a28">More...</a><br /></td></tr>
<tr class="separator:ga3bedd7e278f89d555a32a7efa8023a28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga986fd84849118742b03dca1152e9a354"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group__ota__enum__types.html#gab8e370b46d0ae5d51879710d533a7314">OtaJobParseErr_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__callback__types.html#ga986fd84849118742b03dca1152e9a354">OtaCustomJobCallback_t</a>) (const char *pcJSON, uint32_t ulMsgLen)</td></tr>
<tr class="memdesc:ga986fd84849118742b03dca1152e9a354"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom Job callback function typedef.  <a href="group__ota__callback__types.html#ga986fd84849118742b03dca1152e9a354">More...</a><br /></td></tr>
<tr class="separator:ga986fd84849118742b03dca1152e9a354"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga7ab3c74dc057383c56c6cb9aa6bf0b2d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> { <br />
&#160;&#160;<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da0c644255eee375cb8e6bd9def0772e02">OtaErrNone</a> = 0, 
<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da0c1dd94b8875896b0a9dd383ba239774">OtaErrUninitialized</a>, 
<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da096a4af841716cf1ee881826d30b5406">OtaErrPanic</a>, 
<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2dae8b91d2bcdd38b2c79bc67122681d5b9">OtaErrInvalidArg</a>, 
<br />
&#160;&#160;<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da2e43587b6c8d6abbdeed09232b8b9696">OtaErrAgentStopped</a>, 
<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da8de27454ca774732ca584803d1ab5888">OtaErrSignalEventFailed</a>, 
<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da494a5dcbd62a41249e5ae1c177b442cb">OtaErrRequestJobFailed</a>, 
<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da750fde72ae523e47fa838cb781dba75f">OtaErrInitFileTransferFailed</a>, 
<br />
&#160;&#160;<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da6d94255e998ae49d916648bb94b7da84">OtaErrRequestFileBlockFailed</a>, 
<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2daa7c1391bb361ec9857470b984cd31346">OtaErrCleanupControlFailed</a>, 
<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2dae40f5144d7881fb9d8a7f403c44a3133">OtaErrCleanupDataFailed</a>, 
<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2dad4008e18cf533002f2f194a491f859e1">OtaErrUpdateJobStatusFailed</a>, 
<br />
&#160;&#160;<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da525ecca44a574d8917760f869853a6ee">OtaErrJobParserError</a>, 
<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da06fb88bd9ddb49038227c63e15a83523">OtaErrInvalidDataProtocol</a>, 
<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da48fcd14a5554b8c0e447403c059bc786">OtaErrMomentumAbort</a>, 
<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da0e99db7052f9c7007083ecc3fc08604c">OtaErrDowngradeNotAllowed</a>, 
<br />
&#160;&#160;<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2dad8a8f3c4637db28866f53fbc91fe6427">OtaErrSameFirmwareVersion</a>, 
<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da38b24044cf02652dbb60efe38864e527">OtaErrImageStateMismatch</a>, 
<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da7dc1d1638189d537ce31ee3ce2d6d55e">OtaErrNoActiveJob</a>, 
<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2dafbd1a370f69e3eb88eff25d4fe9facbd">OtaErrUserAbort</a>, 
<br />
&#160;&#160;<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2dad57de41d65cd3bd5de28228883e83084">OtaErrFailedToEncodeCbor</a>, 
<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da7fa31caf9e7a68df47ddbdb657f7f35d">OtaErrFailedToDecodeCbor</a>, 
<a class="el" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2daf5d3845d8b68e0c91cff60d2a38a2678">OtaErrActivateFailed</a>
<br />
 }</td></tr>
<tr class="memdesc:ga7ab3c74dc057383c56c6cb9aa6bf0b2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The OTA API return status. OTA agent error codes are in the upper 8 bits of the 32 bit OTA error word, OtaErr_t.  <a href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">More...</a><br /></td></tr>
<tr class="separator:ga7ab3c74dc057383c56c6cb9aa6bf0b2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1cb476a5e0ee81fa486f605e64419dcc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__enum__types.html#ga1cb476a5e0ee81fa486f605e64419dcc">OtaState_t</a> { <br />
&#160;&#160;<b>OtaAgentStateNoTransition</b> = -1, 
<b>OtaAgentStateInit</b> = 0, 
<b>OtaAgentStateReady</b>, 
<b>OtaAgentStateRequestingJob</b>, 
<br />
&#160;&#160;<b>OtaAgentStateWaitingForJob</b>, 
<b>OtaAgentStateCreatingFile</b>, 
<b>OtaAgentStateRequestingFileBlock</b>, 
<b>OtaAgentStateWaitingForFileBlock</b>, 
<br />
&#160;&#160;<b>OtaAgentStateClosingFile</b>, 
<b>OtaAgentStateSuspended</b>, 
<b>OtaAgentStateShuttingDown</b>, 
<b>OtaAgentStateStopped</b>, 
<br />
&#160;&#160;<b>OtaAgentStateAll</b>
<br />
 }</td></tr>
<tr class="memdesc:ga1cb476a5e0ee81fa486f605e64419dcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Agent states.  <a href="group__ota__enum__types.html#ga1cb476a5e0ee81fa486f605e64419dcc">More...</a><br /></td></tr>
<tr class="separator:ga1cb476a5e0ee81fa486f605e64419dcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8e370b46d0ae5d51879710d533a7314"><td class="memItemLeft" align="right" valign="top"><a id="gab8e370b46d0ae5d51879710d533a7314"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__enum__types.html#gab8e370b46d0ae5d51879710d533a7314">OtaJobParseErr_t</a> { <br />
&#160;&#160;<b>OtaJobParseErrUnknown</b> = -1, 
<b>OtaJobParseErrNone</b> = 0, 
<b>OtaJobParseErrBusyWithExistingJob</b>, 
<b>OtaJobParseErrNullJob</b>, 
<br />
&#160;&#160;<b>OtaJobParseErrUpdateCurrentJob</b>, 
<b>OtaJobParseErrZeroFileSize</b>, 
<b>OtaJobParseErrNonConformingJobDoc</b>, 
<b>OtaJobParseErrBadModelInitParams</b>, 
<br />
&#160;&#160;<b>OtaJobParseErrNoContextAvailable</b>, 
<b>OtaJobParseErrNoActiveJobs</b>
<br />
 }</td></tr>
<tr class="memdesc:gab8e370b46d0ae5d51879710d533a7314"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA job document parser error codes. <br /></td></tr>
<tr class="separator:gab8e370b46d0ae5d51879710d533a7314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96a2e1f5cfad783897e805196eee39a7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__enum__types.html#ga96a2e1f5cfad783897e805196eee39a7">OtaJobEvent_t</a> { <br />
&#160;&#160;<a class="el" href="group__ota__enum__types.html#gga96a2e1f5cfad783897e805196eee39a7aaf02fd22119771d2980c7af439fa3280">OtaJobEventActivate</a> = 0, 
<a class="el" href="group__ota__enum__types.html#gga96a2e1f5cfad783897e805196eee39a7a549e2b4c48aadc3c2f354647b8fd5728">OtaJobEventFail</a> = 1, 
<a class="el" href="group__ota__enum__types.html#gga96a2e1f5cfad783897e805196eee39a7a04e2c9b7143d34f63905cd052bf9763b">OtaJobEventStartTest</a> = 2, 
<a class="el" href="group__ota__enum__types.html#gga96a2e1f5cfad783897e805196eee39a7abd5b42406265a448d9250890c0360c10">OtaJobEventProcessed</a> = 3, 
<br />
&#160;&#160;<a class="el" href="group__ota__enum__types.html#gga96a2e1f5cfad783897e805196eee39a7a26b36eee239cace8df37d0a9e5874212">OtaJobEventSelfTestFailed</a> = 4, 
<b>OtaLastJobEvent</b> = OtaJobEventStartTest
<br />
 }</td></tr>
<tr class="memdesc:ga96a2e1f5cfad783897e805196eee39a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Job callback events.  <a href="group__ota__enum__types.html#ga96a2e1f5cfad783897e805196eee39a7">More...</a><br /></td></tr>
<tr class="separator:ga96a2e1f5cfad783897e805196eee39a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae5cc1dcc13fbcb32230f552f48b24f03"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#ae5cc1dcc13fbcb32230f552f48b24f03">OTA_Init</a> (<a class="el" href="struct_ota_app_buffer__t.html">OtaAppBuffer_t</a> *pOtaBuffer, <a class="el" href="struct_ota_interfaces__t.html">OtaInterfaces_t</a> *pOtaInterfaces, const uint8_t *pThingName, <a class="el" href="group__ota__callback__types.html#ga3bedd7e278f89d555a32a7efa8023a28">OtaAppCallback_t</a> OtaAppCallback)</td></tr>
<tr class="memdesc:ae5cc1dcc13fbcb32230f552f48b24f03"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Agent initialization function.  <a href="ota_8h.html#ae5cc1dcc13fbcb32230f552f48b24f03">More...</a><br /></td></tr>
<tr class="separator:ae5cc1dcc13fbcb32230f552f48b24f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d50785b9e456a46e24e003f1faaeb53"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga1cb476a5e0ee81fa486f605e64419dcc">OtaState_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#a8d50785b9e456a46e24e003f1faaeb53">OTA_Shutdown</a> (uint32_t ticksToWait)</td></tr>
<tr class="memdesc:a8d50785b9e456a46e24e003f1faaeb53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal to the OTA Agent to shut down.  <a href="ota_8h.html#a8d50785b9e456a46e24e003f1faaeb53">More...</a><br /></td></tr>
<tr class="separator:a8d50785b9e456a46e24e003f1faaeb53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6db3f9cb417cb135cb0e68f5b5f2b11f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga1cb476a5e0ee81fa486f605e64419dcc">OtaState_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#a6db3f9cb417cb135cb0e68f5b5f2b11f">OTA_GetState</a> (void)</td></tr>
<tr class="memdesc:a6db3f9cb417cb135cb0e68f5b5f2b11f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current state of the OTA agent.  <a href="ota_8h.html#a6db3f9cb417cb135cb0e68f5b5f2b11f">More...</a><br /></td></tr>
<tr class="separator:a6db3f9cb417cb135cb0e68f5b5f2b11f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5169ba09148e7f5668a90e776e712f8b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#a5169ba09148e7f5668a90e776e712f8b">OTA_ActivateNewImage</a> (void)</td></tr>
<tr class="memdesc:a5169ba09148e7f5668a90e776e712f8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate the newest MCU image received via OTA.  <a href="ota_8h.html#a5169ba09148e7f5668a90e776e712f8b">More...</a><br /></td></tr>
<tr class="separator:a5169ba09148e7f5668a90e776e712f8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab68cdf65934474e1f3d2cd1046314bea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#ab68cdf65934474e1f3d2cd1046314bea">OTA_SetImageState</a> (<a class="el" href="group__ota__enum__types.html#gad4909faa8b9c8672e7f7bef1bc6b5b84">OtaImageState_t</a> state)</td></tr>
<tr class="memdesc:ab68cdf65934474e1f3d2cd1046314bea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the state of the current MCU image.  <a href="ota_8h.html#ab68cdf65934474e1f3d2cd1046314bea">More...</a><br /></td></tr>
<tr class="separator:ab68cdf65934474e1f3d2cd1046314bea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c5b25f9a7eff3ded8cdf088c2011742"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#gad4909faa8b9c8672e7f7bef1bc6b5b84">OtaImageState_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#a9c5b25f9a7eff3ded8cdf088c2011742">OTA_GetImageState</a> (void)</td></tr>
<tr class="memdesc:a9c5b25f9a7eff3ded8cdf088c2011742"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the state of the currently running MCU image.  <a href="ota_8h.html#a9c5b25f9a7eff3ded8cdf088c2011742">More...</a><br /></td></tr>
<tr class="separator:a9c5b25f9a7eff3ded8cdf088c2011742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1178e8009eb05e6f55f6506b625c9fc2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#a1178e8009eb05e6f55f6506b625c9fc2">OTA_CheckForUpdate</a> (void)</td></tr>
<tr class="memdesc:a1178e8009eb05e6f55f6506b625c9fc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request for the next available OTA job from the job service.  <a href="ota_8h.html#a1178e8009eb05e6f55f6506b625c9fc2">More...</a><br /></td></tr>
<tr class="separator:a1178e8009eb05e6f55f6506b625c9fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65b61ae5dd477e8b2e6c88ea0473c62b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#a65b61ae5dd477e8b2e6c88ea0473c62b">OTA_Suspend</a> (void)</td></tr>
<tr class="memdesc:a65b61ae5dd477e8b2e6c88ea0473c62b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suspend OTA agent operations .  <a href="ota_8h.html#a65b61ae5dd477e8b2e6c88ea0473c62b">More...</a><br /></td></tr>
<tr class="separator:a65b61ae5dd477e8b2e6c88ea0473c62b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d40388ac87e4ac93288de37c98a138"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#ae9d40388ac87e4ac93288de37c98a138">OTA_Resume</a> (void)</td></tr>
<tr class="memdesc:ae9d40388ac87e4ac93288de37c98a138"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume OTA agent operations .  <a href="ota_8h.html#ae9d40388ac87e4ac93288de37c98a138">More...</a><br /></td></tr>
<tr class="separator:ae9d40388ac87e4ac93288de37c98a138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3a0cfdc8694a606a1d736b2f54fb113"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#ab3a0cfdc8694a606a1d736b2f54fb113">OTA_EventProcessingTask</a> (void *pUnused)</td></tr>
<tr class="memdesc:ab3a0cfdc8694a606a1d736b2f54fb113"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA agent event processing loop.  <a href="ota_8h.html#ab3a0cfdc8694a606a1d736b2f54fb113">More...</a><br /></td></tr>
<tr class="separator:ab3a0cfdc8694a606a1d736b2f54fb113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2564144f284db077b8947ba58a6a72bb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#a2564144f284db077b8947ba58a6a72bb">OTA_SignalEvent</a> (const <a class="el" href="struct_ota_event_msg__t.html">OtaEventMsg_t</a> *const pEventMsg)</td></tr>
<tr class="memdesc:a2564144f284db077b8947ba58a6a72bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal event to the OTA Agent task.  <a href="ota_8h.html#a2564144f284db077b8947ba58a6a72bb">More...</a><br /></td></tr>
<tr class="separator:a2564144f284db077b8947ba58a6a72bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63182243ef3c18d5f36cd427b83a1a22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#a63182243ef3c18d5f36cd427b83a1a22">OTA_GetStatistics</a> (<a class="el" href="struct_ota_agent_statistics__t.html">OtaAgentStatistics_t</a> *pStatistics)</td></tr>
<tr class="memdesc:a63182243ef3c18d5f36cd427b83a1a22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the statistics of OTA message packets.  <a href="ota_8h.html#a63182243ef3c18d5f36cd427b83a1a22">More...</a><br /></td></tr>
<tr class="separator:a63182243ef3c18d5f36cd427b83a1a22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f72911b8fe80f27bce42c3a36dca4b3"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#a6f72911b8fe80f27bce42c3a36dca4b3">OTA_Err_strerror</a> (<a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> err)</td></tr>
<tr class="memdesc:a6f72911b8fe80f27bce42c3a36dca4b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error code to string conversion for OTA errors.  <a href="ota_8h.html#a6f72911b8fe80f27bce42c3a36dca4b3">More...</a><br /></td></tr>
<tr class="separator:a6f72911b8fe80f27bce42c3a36dca4b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d42efa1af7fa0ed92060a3b7e869648"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#a1d42efa1af7fa0ed92060a3b7e869648">OTA_JobParse_strerror</a> (<a class="el" href="group__ota__enum__types.html#gab8e370b46d0ae5d51879710d533a7314">OtaJobParseErr_t</a> err)</td></tr>
<tr class="memdesc:a1d42efa1af7fa0ed92060a3b7e869648"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error code to string conversion for OTA Job Parsing errors.  <a href="ota_8h.html#a1d42efa1af7fa0ed92060a3b7e869648">More...</a><br /></td></tr>
<tr class="separator:a1d42efa1af7fa0ed92060a3b7e869648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9d9a19df9fdb8977762a45fe2848ba7"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#ad9d9a19df9fdb8977762a45fe2848ba7">OTA_PalStatus_strerror</a> (<a class="el" href="group__ota__enum__types.html#ga8e503bbbffc277f6fd5b8645767a685b">OtaPalMainStatus_t</a> status)</td></tr>
<tr class="memdesc:ad9d9a19df9fdb8977762a45fe2848ba7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status code to string conversion for OTA PAL status.  <a href="ota_8h.html#ad9d9a19df9fdb8977762a45fe2848ba7">More...</a><br /></td></tr>
<tr class="separator:ad9d9a19df9fdb8977762a45fe2848ba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5997df93a33e5f1260e7a16655a5cca"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#ab5997df93a33e5f1260e7a16655a5cca">OTA_OsStatus_strerror</a> (<a class="el" href="group__ota__enum__types.html#gaececff6c0dd8ba4d884544571bd368e7">OtaOsStatus_t</a> status)</td></tr>
<tr class="memdesc:ab5997df93a33e5f1260e7a16655a5cca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status code to string conversion for OTA OS status.  <a href="ota_8h.html#ab5997df93a33e5f1260e7a16655a5cca">More...</a><br /></td></tr>
<tr class="separator:ab5997df93a33e5f1260e7a16655a5cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3b34dcda67d1fd023ced9257eb00cdcb"><td class="memItemLeft" align="right" valign="top"><a id="a3b34dcda67d1fd023ced9257eb00cdcb"></a>
const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8h.html#a3b34dcda67d1fd023ced9257eb00cdcb">OTA_JsonFileSignatureKey</a> [<a class="el" href="ota_8h.html#a8baee291088322fecd736ff0b03fb730">OTA_FILE_SIG_KEY_STR_MAX_LENGTH</a>]</td></tr>
<tr class="memdesc:a3b34dcda67d1fd023ced9257eb00cdcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The OTA signature algorithm string is specified by the PAL. <br /></td></tr>
<tr class="separator:a3b34dcda67d1fd023ced9257eb00cdcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>OTA Agent Interface. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8baee291088322fecd736ff0b03fb730"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8baee291088322fecd736ff0b03fb730">&#9670;&nbsp;</a></span>OTA_FILE_SIG_KEY_STR_MAX_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTA_FILE_SIG_KEY_STR_MAX_LENGTH&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum length of the file signature key. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae5cc1dcc13fbcb32230f552f48b24f03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5cc1dcc13fbcb32230f552f48b24f03">&#9670;&nbsp;</a></span>OTA_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> OTA_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ota_app_buffer__t.html">OtaAppBuffer_t</a> *&#160;</td>
          <td class="paramname"><em>pOtaBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_ota_interfaces__t.html">OtaInterfaces_t</a> *&#160;</td>
          <td class="paramname"><em>pOtaInterfaces</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pThingName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ota__callback__types.html#ga3bedd7e278f89d555a32a7efa8023a28">OtaAppCallback_t</a>&#160;</td>
          <td class="paramname"><em>OtaAppCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Agent initialization function. </p>
<p>Initialize the OTA engine by starting the OTA Agent ("OTA Task") in the system. This function must be called with the connection client context before calling <a class="el" href="ota_8h.html#a1178e8009eb05e6f55f6506b625c9fc2">OTA_CheckForUpdate</a>. Only one OTA Agent may exist.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pOtaBuffer</td><td>Buffers used by the agent to store different params. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pOtaInterfaces</td><td>A pointer to the OS context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pThingName</td><td>A pointer to a C string holding the Thing name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">OtaAppCallback</td><td>Static callback function for when an OTA job is complete. This function will have input of the state of the OTA image after download and during self-test. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OtaErr_t The state of the OTA Agent upon return from the OtaState_t enum. If the agent was successfully initialized and ready to operate, the state will be OtaAgentStateReady. Otherwise, it will be one of the other OtaState_t enum values. </dd></dl>

</div>
</div>
<a id="a8d50785b9e456a46e24e003f1faaeb53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d50785b9e456a46e24e003f1faaeb53">&#9670;&nbsp;</a></span>OTA_Shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga1cb476a5e0ee81fa486f605e64419dcc">OtaState_t</a> OTA_Shutdown </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ticksToWait</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal to the OTA Agent to shut down. </p>
<p>Signals the OTA agent task to shut down. The OTA agent will unsubscribe from all MQTT job notification topics, stop in progress OTA jobs, if any, and clear all resources.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ticksToWait</td><td>The number of ticks to wait for the OTA Agent to complete the shutdown process. If this is set to zero, the function will return immediately without waiting. The actual state is returned to the caller.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the OTA agent states from the OtaState_t enum. A normal shutdown will return OtaAgentStateNotReady. Otherwise, refer to the OtaState_t enum for details. </dd></dl>

</div>
</div>
<a id="a6db3f9cb417cb135cb0e68f5b5f2b11f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6db3f9cb417cb135cb0e68f5b5f2b11f">&#9670;&nbsp;</a></span>OTA_GetState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga1cb476a5e0ee81fa486f605e64419dcc">OtaState_t</a> OTA_GetState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current state of the OTA agent. </p>
<dl class="section return"><dt>Returns</dt><dd>The current state of the OTA agent. </dd></dl>

</div>
</div>
<a id="a5169ba09148e7f5668a90e776e712f8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5169ba09148e7f5668a90e776e712f8b">&#9670;&nbsp;</a></span>OTA_ActivateNewImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> OTA_ActivateNewImage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activate the newest MCU image received via OTA. </p>
<p>This function should reset the MCU and cause a reboot of the system to execute the newly updated firmware. It should be called by the user code sometime after the OtaJobEventActivate event is passed to the users application via the OTA Job Complete Callback mechanism. Refer to the <a class="el" href="ota_8h.html#ae5cc1dcc13fbcb32230f552f48b24f03">OTA_Init</a> function for more information about configuring the callback.</p>
<dl class="section return"><dt>Returns</dt><dd>OtaErrNone if successful, otherwise an error code prefixed with 'kOTA_Err_' from the list above. </dd></dl>

</div>
</div>
<a id="ab68cdf65934474e1f3d2cd1046314bea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab68cdf65934474e1f3d2cd1046314bea">&#9670;&nbsp;</a></span>OTA_SetImageState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> OTA_SetImageState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__enum__types.html#gad4909faa8b9c8672e7f7bef1bc6b5b84">OtaImageState_t</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the state of the current MCU image. </p>
<p>The states are OtaImageStateTesting, OtaImageStateAccepted, OtaImageStateAborted or OtaImageStateRejected; see OtaImageState_t documentation. This will update the status of the current image and publish to the active job status topic.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>The state to set of the OTA image.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OtaErrNone if successful, otherwise an error code prefixed with 'kOTA_Err_' from the list above. </dd></dl>

</div>
</div>
<a id="a9c5b25f9a7eff3ded8cdf088c2011742"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c5b25f9a7eff3ded8cdf088c2011742">&#9670;&nbsp;</a></span>OTA_GetImageState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#gad4909faa8b9c8672e7f7bef1bc6b5b84">OtaImageState_t</a> OTA_GetImageState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the state of the currently running MCU image. </p>
<p>The states are OtaImageStateTesting, OtaImageStateAccepted, OtaImageStateAborted or OtaImageStateRejected; see OtaImageState_t documentation.</p>
<dl class="section return"><dt>Returns</dt><dd>The state of the current context's OTA image. </dd></dl>

</div>
</div>
<a id="a1178e8009eb05e6f55f6506b625c9fc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1178e8009eb05e6f55f6506b625c9fc2">&#9670;&nbsp;</a></span>OTA_CheckForUpdate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> OTA_CheckForUpdate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request for the next available OTA job from the job service. </p>
<dl class="section return"><dt>Returns</dt><dd>OtaErrNone if successful, otherwise an error code prefixed with 'kOTA_Err_' from the list above. </dd></dl>

</div>
</div>
<a id="a65b61ae5dd477e8b2e6c88ea0473c62b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65b61ae5dd477e8b2e6c88ea0473c62b">&#9670;&nbsp;</a></span>OTA_Suspend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> OTA_Suspend </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Suspend OTA agent operations . </p>
<dl class="section return"><dt>Returns</dt><dd>OtaErrNone if successful, otherwise an error code prefixed with 'kOTA_Err_' from the list above. </dd></dl>

</div>
</div>
<a id="ae9d40388ac87e4ac93288de37c98a138"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9d40388ac87e4ac93288de37c98a138">&#9670;&nbsp;</a></span>OTA_Resume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> OTA_Resume </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resume OTA agent operations . </p>
<dl class="section return"><dt>Returns</dt><dd>OtaErrNone if successful, otherwise an error code prefixed with 'kOTA_Err_' from the list above. </dd></dl>

</div>
</div>
<a id="ab3a0cfdc8694a606a1d736b2f54fb113"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3a0cfdc8694a606a1d736b2f54fb113">&#9670;&nbsp;</a></span>OTA_EventProcessingTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OTA_EventProcessingTask </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pUnused</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA agent event processing loop. </p>
<p>This is the main event loop to handle events for OTA update and needs to be called by the application task. This loop will continue to handle and execute events received for OTA Update until this tasks is terminated by the application.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pUnused</td><td>Can be used to pass down functionality to the agent task, Unused for now. This can be a function pointer that executes as the first routine when the event loop starts. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2564144f284db077b8947ba58a6a72bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2564144f284db077b8947ba58a6a72bb">&#9670;&nbsp;</a></span>OTA_SignalEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OTA_SignalEvent </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_msg__t.html">OtaEventMsg_t</a> *const&#160;</td>
          <td class="paramname"><em>pEventMsg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal event to the OTA Agent task. </p>
<p>This function adds the event to the back of event queue and used by internal OTA modules to signal agent task.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pEventMsg</td><td>Event to be added to the queue </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true If operation is successful, false If the event can not be added </dd></dl>

</div>
</div>
<a id="a63182243ef3c18d5f36cd427b83a1a22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63182243ef3c18d5f36cd427b83a1a22">&#9670;&nbsp;</a></span>OTA_GetStatistics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> OTA_GetStatistics </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ota_agent_statistics__t.html">OtaAgentStatistics_t</a> *&#160;</td>
          <td class="paramname"><em>pStatistics</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the statistics of OTA message packets. </p>
<p>Packet statistics are: </p><ul>
<li>
Received: The number of OTA packets that have been received but not necessarily queued for processing by the OTA agent. </li>
<li>
Queued: The number of OTA packets that have been queued for processing. This implies there was a free message queue entry so it can be passed to the agent for processing. </li>
<li>
Processed: The number of OTA packets that have actually been processed. </li>
<li>
Dropped: The number of OTA packets that have been dropped because of either no queue or at shutdown cleanup. </li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Calling <a class="el" href="ota_8h.html#ae5cc1dcc13fbcb32230f552f48b24f03">OTA_Init</a> will reset this statistic.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>OtaErrNone if the statistics can be received successfully. </dd></dl>

</div>
</div>
<a id="a6f72911b8fe80f27bce42c3a36dca4b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f72911b8fe80f27bce42c3a36dca4b3">&#9670;&nbsp;</a></span>OTA_Err_strerror()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* OTA_Err_strerror </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td>
          <td class="paramname"><em>err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Error code to string conversion for OTA errors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">err</td><td>The error to convert to a string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The string representation of the error. </dd></dl>

</div>
</div>
<a id="a1d42efa1af7fa0ed92060a3b7e869648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d42efa1af7fa0ed92060a3b7e869648">&#9670;&nbsp;</a></span>OTA_JobParse_strerror()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* OTA_JobParse_strerror </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__enum__types.html#gab8e370b46d0ae5d51879710d533a7314">OtaJobParseErr_t</a>&#160;</td>
          <td class="paramname"><em>err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Error code to string conversion for OTA Job Parsing errors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">err</td><td>The error to convert to a string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The string representation of the error. </dd></dl>

</div>
</div>
<a id="ad9d9a19df9fdb8977762a45fe2848ba7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9d9a19df9fdb8977762a45fe2848ba7">&#9670;&nbsp;</a></span>OTA_PalStatus_strerror()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* OTA_PalStatus_strerror </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__enum__types.html#ga8e503bbbffc277f6fd5b8645767a685b">OtaPalMainStatus_t</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Status code to string conversion for OTA PAL status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>The status to convert to a string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The string representation of the status. </dd></dl>

</div>
</div>
<a id="ab5997df93a33e5f1260e7a16655a5cca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5997df93a33e5f1260e7a16655a5cca">&#9670;&nbsp;</a></span>OTA_OsStatus_strerror()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* OTA_OsStatus_strerror </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__enum__types.html#gaececff6c0dd8ba4d884544571bd368e7">OtaOsStatus_t</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Status code to string conversion for OTA OS status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>The status to convert to a string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The string representation of the status. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="dir_8ee1a5e78eaec319fe5d64075812fc61.html">include</a></li><li class="navelem"><a class="el" href="ota_8h.html">ota.h</a></li>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
