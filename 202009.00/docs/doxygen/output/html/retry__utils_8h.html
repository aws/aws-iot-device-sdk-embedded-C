<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AWS IoT Device SDK C: retry_utils.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="foobar.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AWS IoT Device SDK C
   &#160;<span id="projectnumber">202009.00</span>
   </div>
   <div id="projectbrief">SDK for connecting to AWS IoT from a device using embedded C.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('retry__utils_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">retry_utils.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Declaration of the exponential backoff retry logic utility functions and constants.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="retry__utils_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_retry_utils_params__t.html">RetryUtilsParams_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents parameters required for retry logic.  <a href="struct_retry_utils_params__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a916d8294e955ac2924e0f2635942785f"><td class="memItemLeft" align="right" valign="top"><a id="a916d8294e955ac2924e0f2635942785f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__utils_8h.html#a916d8294e955ac2924e0f2635942785f">MAX_RETRY_ATTEMPTS</a>&#160;&#160;&#160;4U</td></tr>
<tr class="memdesc:a916d8294e955ac2924e0f2635942785f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max number of retry attempts. Set this value to 0 if the client must retry forever. <br /></td></tr>
<tr class="separator:a916d8294e955ac2924e0f2635942785f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9f6a7efa1f0615bf00cf841d31d29d8"><td class="memItemLeft" align="right" valign="top"><a id="aa9f6a7efa1f0615bf00cf841d31d29d8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__utils_8h.html#aa9f6a7efa1f0615bf00cf841d31d29d8">INITIAL_RETRY_BACKOFF_SECONDS</a>&#160;&#160;&#160;1U</td></tr>
<tr class="memdesc:aa9f6a7efa1f0615bf00cf841d31d29d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial fixed backoff value in seconds between two successive retries. A random jitter value is added to every backoff value. <br /></td></tr>
<tr class="separator:aa9f6a7efa1f0615bf00cf841d31d29d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bef5bda3eb9ba1ac1276aea32eba52d"><td class="memItemLeft" align="right" valign="top"><a id="a3bef5bda3eb9ba1ac1276aea32eba52d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__utils_8h.html#a3bef5bda3eb9ba1ac1276aea32eba52d">MAX_RETRY_BACKOFF_SECONDS</a>&#160;&#160;&#160;128U</td></tr>
<tr class="memdesc:a3bef5bda3eb9ba1ac1276aea32eba52d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max backoff value in seconds. <br /></td></tr>
<tr class="separator:a3bef5bda3eb9ba1ac1276aea32eba52d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3514ca28e4112abd00865a5835be42ed"><td class="memItemLeft" align="right" valign="top"><a id="a3514ca28e4112abd00865a5835be42ed"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__utils_8h.html#a3514ca28e4112abd00865a5835be42ed">MAX_JITTER_VALUE_SECONDS</a>&#160;&#160;&#160;5U</td></tr>
<tr class="memdesc:a3514ca28e4112abd00865a5835be42ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max jitter value in seconds. <br /></td></tr>
<tr class="separator:a3514ca28e4112abd00865a5835be42ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a6d228fe1f577da7d5905b15e51cc9ebf"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__utils_8h.html#a6d228fe1f577da7d5905b15e51cc9ebf">RetryUtilsStatus_t</a> { <a class="el" href="retry__utils_8h.html#a6d228fe1f577da7d5905b15e51cc9ebfaec0139da02ad1484f0a0ca6074559d74">RetryUtilsSuccess</a> = 0, 
<a class="el" href="retry__utils_8h.html#a6d228fe1f577da7d5905b15e51cc9ebfaea2f982914d26aa9e9f10438b875fe4a">RetryUtilsRetriesExhausted</a>
 }</td></tr>
<tr class="memdesc:a6d228fe1f577da7d5905b15e51cc9ebf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status for <a class="el" href="retry__utils__posix_8c.html#a12fd5003240ba2e178c03eb1a9e8675f">RetryUtils_BackoffAndSleep</a>.  <a href="retry__utils_8h.html#a6d228fe1f577da7d5905b15e51cc9ebf">More...</a><br /></td></tr>
<tr class="separator:a6d228fe1f577da7d5905b15e51cc9ebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9ad6ceb2d707baa6f3aaefb0cbe3909d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__utils_8h.html#a9ad6ceb2d707baa6f3aaefb0cbe3909d">RetryUtils_ParamsReset</a> (<a class="el" href="struct_retry_utils_params__t.html">RetryUtilsParams_t</a> *pRetryParams)</td></tr>
<tr class="memdesc:a9ad6ceb2d707baa6f3aaefb0cbe3909d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the retry timeout value and number of attempts. This function must be called by the application before a new retry attempt.  <a href="retry__utils_8h.html#a9ad6ceb2d707baa6f3aaefb0cbe3909d">More...</a><br /></td></tr>
<tr class="separator:a9ad6ceb2d707baa6f3aaefb0cbe3909d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12fd5003240ba2e178c03eb1a9e8675f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="retry__utils_8h.html#a6d228fe1f577da7d5905b15e51cc9ebf">RetryUtilsStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__utils_8h.html#a12fd5003240ba2e178c03eb1a9e8675f">RetryUtils_BackoffAndSleep</a> (<a class="el" href="struct_retry_utils_params__t.html">RetryUtilsParams_t</a> *pRetryParams)</td></tr>
<tr class="memdesc:a12fd5003240ba2e178c03eb1a9e8675f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple platform specific exponential backoff function. The application must use this function between retry failures to add exponential delay. This function will block the calling task for the current timeout value.  <a href="retry__utils_8h.html#a12fd5003240ba2e178c03eb1a9e8675f">More...</a><br /></td></tr>
<tr class="separator:a12fd5003240ba2e178c03eb1a9e8675f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Declaration of the exponential backoff retry logic utility functions and constants. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a6d228fe1f577da7d5905b15e51cc9ebf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d228fe1f577da7d5905b15e51cc9ebf">&#9670;&nbsp;</a></span>RetryUtilsStatus_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="retry__utils_8h.html#a6d228fe1f577da7d5905b15e51cc9ebf">RetryUtilsStatus_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Status for <a class="el" href="retry__utils__posix_8c.html#a12fd5003240ba2e178c03eb1a9e8675f">RetryUtils_BackoffAndSleep</a>. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a6d228fe1f577da7d5905b15e51cc9ebfaec0139da02ad1484f0a0ca6074559d74"></a>RetryUtilsSuccess&#160;</td><td class="fielddoc"><p>The function returned successfully after sleeping. </p>
</td></tr>
<tr><td class="fieldname"><a id="a6d228fe1f577da7d5905b15e51cc9ebfaea2f982914d26aa9e9f10438b875fe4a"></a>RetryUtilsRetriesExhausted&#160;</td><td class="fielddoc"><p>The function exhausted all retry attempts. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9ad6ceb2d707baa6f3aaefb0cbe3909d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ad6ceb2d707baa6f3aaefb0cbe3909d">&#9670;&nbsp;</a></span>RetryUtils_ParamsReset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RetryUtils_ParamsReset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_retry_utils_params__t.html">RetryUtilsParams_t</a> *&#160;</td>
          <td class="paramname"><em>pRetryParams</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the retry timeout value and number of attempts. This function must be called by the application before a new retry attempt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pRetryParams</td><td>Structure containing attempts done and timeout value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a12fd5003240ba2e178c03eb1a9e8675f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12fd5003240ba2e178c03eb1a9e8675f">&#9670;&nbsp;</a></span>RetryUtils_BackoffAndSleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="retry__utils_8h.html#a6d228fe1f577da7d5905b15e51cc9ebf">RetryUtilsStatus_t</a> RetryUtils_BackoffAndSleep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_retry_utils_params__t.html">RetryUtilsParams_t</a> *&#160;</td>
          <td class="paramname"><em>pRetryParams</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple platform specific exponential backoff function. The application must use this function between retry failures to add exponential delay. This function will block the calling task for the current timeout value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pRetryParams</td><td>Structure containing retry parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="retry__utils_8h.html#a6d228fe1f577da7d5905b15e51cc9ebfaec0139da02ad1484f0a0ca6074559d74" title="The function returned successfully after sleeping.">RetryUtilsSuccess</a> after a successful sleep, <a class="el" href="retry__utils_8h.html#a6d228fe1f577da7d5905b15e51cc9ebfaea2f982914d26aa9e9f10438b875fe4a" title="The function exhausted all retry attempts.">RetryUtilsRetriesExhausted</a> when all attempts are exhausted. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_c5a52a81292cf9a5167198f4f346d6d9.html">platform</a></li><li class="navelem"><a class="el" href="dir_36588e4213a630c1bb8e076a76be9366.html">include</a></li><li class="navelem"><a class="el" href="retry__utils_8h.html">retry_utils.h</a></li>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
