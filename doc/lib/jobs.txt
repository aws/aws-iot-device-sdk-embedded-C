/**
@mainpage
@anchor jobs
@brief AWS IoT Device Jobs library.

> AWS IoT jobs can be used to define a set of remote operations that are sent to and executed on one or more devices connected to AWS IoT.

<span style="float:right;margin-right:4em"> &mdash; <i>Description of Jobs from [AWS IoT documentation](https://docs.aws.amazon.com/iot/latest/developerguide/iot-jobs.html)</i></span><br>

This library provides an API based on the [Jobs APIs available over MQTT](https://docs.aws.amazon.com/iot/latest/developerguide/jobs-api.html#jobs-mqtt-api). Features of this library include:
- Both fully asynchronous and blocking API functions.
- API functions for interacting with Jobs and registering notifications for pending Jobs.

@dependencies{jobs,Jobs library}
@dot "Jobs direct dependencies"
digraph jobs_dependencies
{
    node[shape=box, fontname=Helvetica, fontsize=10, style=filled];
    edge[fontname=Helvetica, fontsize=10];
    subgraph
    {
        jobs[label="Jobs", fillcolor="#cc00ccff"];
        mqtt[label="MQTT", fillcolor="#cc00ccff", URL="@ref mqtt"];
    }
    subgraph
    {
        node[fillcolor="#aed8a9ff"];
        rank = same;
        linear_containers[label="List/Queue", URL="@ref linear_containers"];
        logging[label="Logging", URL="@ref logging"];
        static_memory[label="Static memory", URL="@ref static_memory"];
    }
    jobs -> mqtt;
    jobs -> linear_containers;
    jobs -> logging [label=" if logging enabled", style="dashed"];
    jobs -> static_memory [label=" if static memory only", style="dashed"];
}
@enddot

Currently, the Jobs library has the following dependencies:
- The MQTT library for sending the messages that interact with the Jobs service. See [this page](@ref mqtt_dependencies) for the dependencies of the MQTT library, which are not shown in the graph above.
- The queue library for maintaining the data structures for managing in-progress Jobs operations.
- The logging library may be used if @ref AWS_IOT_LOG_LEVEL_JOBS is not #IOT_LOG_NONE.

In addition to the components above, the Jobs library also depends on C standard library headers.
*/

/**
@page jobs_tests Tests
@brief Tests written for the Jobs library.

The Jobs tests reside in the `tests/jobs` directory. They are divided into the following subdirectories:
- `system`: Jobs system tests. These tests require a network connection and AWS IoT credentials. The command line option `-n` may be passed to the test executable to disable these tests.
- `unit`: Jobs unit tests. These tests do not require a network connection or credentials. These tests use the [MQTT mocks.](@ref mqtt_tests)

See @subpage jobs_tests_config for configuration settings that change the behavior of the Jobs system tests. The Jobs unit tests require no special configuration.

The current Jobs tests use the [Unity test framework](http://www.throwtheswitch.org/unity/). See @ref building_tests for a guide on running the tests.
*/

/**
@configpage{jobs_tests,Jobs system tests,Test,tests}

@section AWS_IOT_TEST_JOBS_THING_NAME
@brief The Thing Name to use in the Jobs system tests.

Thing Names are used to manage devices with AWS IoT. <b>No default value is provided for Thing Names, so this constant must be defined.</b> In addition to the Thing Name, AWS IoT credentials ([root CA certificate](@ref IOT_TEST_ROOT_CA), [client certificate](@ref IOT_TEST_CLIENT_CERT), and [client certificate private key](@ref IOT_TEST_PRIVATE_KEY)) must be provided to run the system tests. The [AWS IoT policy](https://docs.aws.amazon.com/iot/latest/developerguide/iot-policies.html) must also be properly configured.

@configpossible A string representing an AWS IoT Thing Name.

@section jobs_IOT_TEST_MQTT_SHORT_KEEPALIVE_INTERVAL_S IOT_TEST_MQTT_SHORT_KEEPALIVE_INTERVAL_S
@brief The keep-alive interval to use in the Jobs system tests.

MQTT PINGREQ packets will be sent at this interval.

@configpossible Any positive integer. <br>
@configrecommended This value should be the shortest keep-alive interval supported by the connection. <br>
@configdefault `30`
*/

/**
@configpage{jobs,Jobs library}

@section AWS_IOT_JOBS_ENABLE_ASSERTS
@brief Set this to `1` to perform sanity checks when using the Jobs library.

Asserts are useful for debugging, but should be disabled in production code. If this is set to `1`, @ref AwsIotJobs_Assert can be defined to set the assertion function; otherwise, the standard library's [assert](http://pubs.opengroup.org/onlinepubs/9699919799/functions/assert.html) function will be used.

@configpossible `0` (asserts disabled) or `1` (asserts enabled)<br>
@configrecommended `1` when debugging; `0` in production code.<br>
@configdefault `0`

@section AWS_IOT_JOBS_DEFAULT_MQTT_TIMEOUT_MS
@brief Set the default timeout (in milliseconds) for [MQTT library](@ref mqtt_functions) called by the Jobs library.

If the `mqttTimeout` argument of @ref jobs_function_init is `0`, the Jobs library uses this setting for MQTT timeouts. This timeout is passed to functions such as @ref mqtt_function_timedsubscribe, @ref mqtt_function_timedunsubscribe, and @ref mqtt_function_timedpublish to limit amount of time an MQTT function may block.

@configpossible Any positive integer.<br>
@configrecommended This setting must be at least the network round-trip time, as an MQTT packet must be sent to the AWS IoT server and a response must be received. The recommended minimum value is `500`.<br>
@configdefault `5000`

@section AWS_IOT_LOG_LEVEL_JOBS
@brief Set the log level of the Jobs library.

Log messages from the Jobs library at or below this setting will be printed.

@configpossible One of the @ref logging_constants_levels.<br>
@configdefault @ref IOT_LOG_LEVEL_GLOBAL; if that is undefined, then #IOT_LOG_NONE.

@section AwsIotJobs_Assert
@brief Assertion function used when @ref AWS_IOT_JOBS_ENABLE_ASSERTS is `1`.

@configpossible Any function with the same signature as the standard library's [assert](http://pubs.opengroup.org/onlinepubs/9699919799/functions/assert.html) function.<br>
@configdefault Standard library [assert](http://pubs.opengroup.org/onlinepubs/9699919799/functions/assert.html) function if @ref AWS_IOT_JOBS_ENABLE_ASSERTS is `1`; otherwise, nothing.

@section jobs_config_memory Memory allocation
@brief The following functions may be re-implemented for the Jobs library.
- #AwsIotJobs_MallocOperation <br>
  @copybrief AwsIotJobs_MallocOperation
- #AwsIotJobs_FreeOperation <br>
  @copybrief AwsIotJobs_FreeOperation
- #AwsIotJobs_MallocString <br>
  @copybrief AwsIotJobs_MallocString
- #AwsIotJobs_FreeString <br>
  @copybrief AwsIotJobs_FreeString
- #AwsIotJobs_MallocSubscription <br>
  @copybrief AwsIotJobs_MallocSubscription
- #AwsIotJobs_FreeSubscription <br>
  @copybrief AwsIotJobs_FreeSubscription

When @ref IOT_STATIC_MEMORY_ONLY is `1`, the following settings configure the number of statically-allocated buffers for Jobs.
- @anchor AWS_IOT_JOBS_MAX_IN_PROGRESS_OPERATIONS AWS_IOT_JOBS_MAX_IN_PROGRESS_OPERATIONS <br>
  Maximum number of Jobs operations that may be in-progress at any time. Defaults to `10` if undefined.
- @anchor AWS_IOT_JOBS_SUBSCRIPTIONS AWS_IOT_JOBS_SUBSCRIPTIONS <br>
  Maximum number of Jobs subscriptions at any time. Defaults to `2` if undefined.
*/
