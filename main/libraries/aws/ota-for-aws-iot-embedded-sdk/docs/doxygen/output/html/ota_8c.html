<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AWS IoT Over-the-air Update: ota.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AWS IoT Over-the-air Update<span id="projectnumber">&#160;v3.4.0</span>
   </div>
   <div id="projectbrief">Client library for AWS IoT OTA</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('ota_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">ota.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of the AWS IoT Over-The-Air Updates Client Library.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ota_8h_source.html">ota.h</a>&quot;</code><br />
<code>#include &quot;ota_config.h&quot;</code><br />
<code>#include &quot;<a class="el" href="ota__config__defaults_8h_source.html">ota_config_defaults.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ota__base64__private_8h_source.html">ota_base64_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ota__platform__interface_8h_source.html">ota_platform_interface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ota__private_8h_source.html">ota_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ota__interface__private_8h_source.html">ota_interface_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ota__os__interface_8h_source.html">ota_os_interface.h</a>&quot;</code><br />
<code>#include &quot;core_json.h&quot;</code><br />
<code>#include &quot;<a class="el" href="ota__appversion32_8h_source.html">ota_appversion32.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ota.c:</div>
<div class="dyncontent">
<div class="center"><img src="ota_8c__incl.png" border="0" usemap="#aota_8c" alt=""/></div>
<map name="aota_8c" id="aota_8c">
<area shape="rect" title="Implementation of the AWS IoT Over&#45;The&#45;Air Updates Client Library." alt="" coords="565,5,619,31"/>
<area shape="rect" title=" " alt="" coords="987,299,1061,324"/>
<area shape="rect" title=" " alt="" coords="78,79,149,104"/>
<area shape="rect" title=" " alt="" coords="1174,152,1245,177"/>
<area shape="rect" title=" " alt="" coords="320,372,387,397"/>
<area shape="rect" title=" " alt="" coords="275,79,343,104"/>
<area shape="rect" title=" " alt="" coords="368,79,443,104"/>
<area shape="rect" href="ota_8h.html" title="OTA Agent Interface." alt="" coords="702,152,757,177"/>
<area shape="rect" href="ota__private_8h.html" title="Macros, enums, variables, and definitions internal to the OTA Agent module and shared by other OTA mo..." alt="" coords="315,299,423,324"/>
<area shape="rect" title=" " alt="" coords="5,372,107,397"/>
<area shape="rect" href="ota__config__defaults_8h.html" title="This represents the default values for the configuration macros for the OTA library." alt="" coords="133,372,294,397"/>
<area shape="rect" href="ota__os__interface_8h.html" title="Contains OTA OS Functional Interface statuses, type definitions and structures to store interface rou..." alt="" coords="1127,225,1270,251"/>
<area shape="rect" href="ota__platform__interface_8h.html" title="Contains PAL interface statuses, type definitions and structure to store interface routines." alt="" coords="407,225,590,251"/>
<area shape="rect" href="ota__base64__private_8h.html" title="Function declarations and error codes for ota_base64.c." alt="" coords="1152,79,1315,104"/>
<area shape="rect" href="ota__interface__private_8h.html" title="Contains function definitions and structures for data and control interfaces." alt="" coords="568,79,741,104"/>
<area shape="rect" title=" " alt="" coords="1339,79,1435,104"/>
<area shape="rect" href="ota__appversion32_8h.html" title="Structure to represent the application build version." alt="" coords="1397,152,1547,177"/>
<area shape="rect" title=" " alt="" coords="849,372,919,397"/>
<area shape="rect" href="ota__mqtt__interface_8h.html" title="Contains OTA MQTT Statuses, function type definitions and mqtt interface structure." alt="" coords="945,225,1103,251"/>
<area shape="rect" href="ota__http__interface_8h.html" title="Contains OTA HTTP Statuses, function type definitions and http interface structure." alt="" coords="767,225,921,251"/>
<area shape="rect" title=" " alt="" coords="411,372,493,397"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_ota_state_table_entry__t.html">OtaStateTableEntry_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Agent state table entry.  <a href="struct_ota_state_table_entry__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4342d17740cc60072d01f1bc9790bffa"><td class="memItemLeft" align="right" valign="top"><a id="a4342d17740cc60072d01f1bc9790bffa" name="a4342d17740cc60072d01f1bc9790bffa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>U16_OFFSET</b>(type,  member)&#160;&#160;&#160;( ( uint16_t ) offsetof( type, member ) )</td></tr>
<tr class="memdesc:a4342d17740cc60072d01f1bc9790bffa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Offset helper. <br /></td></tr>
<tr class="separator:a4342d17740cc60072d01f1bc9790bffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a111f254c3d23b9d92438c49f731ba3eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a111f254c3d23b9d92438c49f731ba3eb">EMPTY_JOB_DOC_PARAMETER_BITMAP</a>&#160;&#160;&#160;3U</td></tr>
<tr class="memdesc:a111f254c3d23b9d92438c49f731ba3eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resulting bitmap value from empty OTA job document.  <br /></td></tr>
<tr class="separator:a111f254c3d23b9d92438c49f731ba3eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ac5e9e6d4034e30f0af3a3774ec9f87f7"><td class="memItemLeft" align="right" valign="top"><a id="ac5e9e6d4034e30f0af3a3774ec9f87f7" name="ac5e9e6d4034e30f0af3a3774ec9f87f7"></a>
typedef <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><b>OtaEventHandler_t</b>) (const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *pEventMsg)</td></tr>
<tr class="memdesc:ac5e9e6d4034e30f0af3a3774ec9f87f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA event handler definition. <br /></td></tr>
<tr class="separator:ac5e9e6d4034e30f0af3a3774ec9f87f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1c6478318f3e542e0bf60bd5aaabe7d5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ota__private_8h.html#a9d3eb1ee8e8a129c990fe9effd93f91d">IngestResult_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a1c6478318f3e542e0bf60bd5aaabe7d5">ingestDataBlock</a> (<a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *pFileContext, const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *pEventData, <a class="el" href="ota__platform__interface_8h.html#a503f74c089364b482321578b541d7640">OtaPalStatus_t</a> *pCloseResult)</td></tr>
<tr class="memdesc:a1c6478318f3e542e0bf60bd5aaabe7d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ingest a data block.  <br /></td></tr>
<tr class="separator:a1c6478318f3e542e0bf60bd5aaabe7d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acae48f24cd686ca6d3aeaccc27f48082"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ota__private_8h.html#a9d3eb1ee8e8a129c990fe9effd93f91d">IngestResult_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#acae48f24cd686ca6d3aeaccc27f48082">processDataBlock</a> (<a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *pFileContext, uint32_t uBlockIndex, uint32_t uBlockSize, <a class="el" href="ota__platform__interface_8h.html#a503f74c089364b482321578b541d7640">OtaPalStatus_t</a> *pCloseResult, uint8_t *pPayload)</td></tr>
<tr class="memdesc:acae48f24cd686ca6d3aeaccc27f48082"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate the incoming data block and store it in the file context.  <br /></td></tr>
<tr class="separator:acae48f24cd686ca6d3aeaccc27f48082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e1e2160e0b2595a1617448d68e827d0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ota__private_8h.html#a9d3eb1ee8e8a129c990fe9effd93f91d">IngestResult_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a8e1e2160e0b2595a1617448d68e827d0">ingestDataBlockCleanup</a> (<a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *pFileContext, <a class="el" href="ota__platform__interface_8h.html#a503f74c089364b482321578b541d7640">OtaPalStatus_t</a> *pCloseResult)</td></tr>
<tr class="memdesc:a8e1e2160e0b2595a1617448d68e827d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the resources allocated for data ingestion and close the file handle.  <br /></td></tr>
<tr class="separator:a8e1e2160e0b2595a1617448d68e827d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42dd2fd46df4b4b09954c55e8e237cc4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a42dd2fd46df4b4b09954c55e8e237cc4">getFileContextFromJob</a> (const char *pRawMsg, uint32_t messageLength, <a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> **pFileContext)</td></tr>
<tr class="memdesc:a42dd2fd46df4b4b09954c55e8e237cc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the File Context From Job Document.  <br /></td></tr>
<tr class="separator:a42dd2fd46df4b4b09954c55e8e237cc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5432c30dee29ec4906c2fba81da15a84"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ota__private_8h.html#ae7f5ab8221031b60eb2704cf840679ec">DocParseErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a5432c30dee29ec4906c2fba81da15a84">validateJSON</a> (const char *pJson, uint32_t messageLength)</td></tr>
<tr class="memdesc:a5432c30dee29ec4906c2fba81da15a84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate JSON document and the DocModel.  <br /></td></tr>
<tr class="separator:a5432c30dee29ec4906c2fba81da15a84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26879a79af8d848224076acaaf31e588"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ota__private_8h.html#ae7f5ab8221031b60eb2704cf840679ec">DocParseErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a26879a79af8d848224076acaaf31e588">extractParameter</a> (<a class="el" href="struct_json_doc_param__t.html">JsonDocParam_t</a> docParam, void *pContextBase, const char *pValueInJson, size_t valueLength)</td></tr>
<tr class="memdesc:a26879a79af8d848224076acaaf31e588"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the parameter from the json to the offset specified by the document model.  <br /></td></tr>
<tr class="separator:a26879a79af8d848224076acaaf31e588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1e3a5b54edf70565e8b91bdd884e1eb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ota__private_8h.html#ae7f5ab8221031b60eb2704cf840679ec">DocParseErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#aa1e3a5b54edf70565e8b91bdd884e1eb">parseJSONbyModel</a> (const char *pJson, uint32_t messageLength, <a class="el" href="struct_json_doc_model__t.html">JsonDocModel_t</a> *pDocModel)</td></tr>
<tr class="memdesc:aa1e3a5b54edf70565e8b91bdd884e1eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract the desired fields from the JSON document based on the specified document model.  <br /></td></tr>
<tr class="separator:aa1e3a5b54edf70565e8b91bdd884e1eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06fb03ec9d3fc5c9e4ce2826e533bf6d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ota__private_8h.html#ae7f5ab8221031b60eb2704cf840679ec">DocParseErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a06fb03ec9d3fc5c9e4ce2826e533bf6d">decodeAndStoreKey</a> (const char *pValueInJson, size_t valueLength, void *pParamAdd)</td></tr>
<tr class="memdesc:a06fb03ec9d3fc5c9e4ce2826e533bf6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode the base64 encoded file signature key from the job document and store it in file context.  <br /></td></tr>
<tr class="separator:a06fb03ec9d3fc5c9e4ce2826e533bf6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae153a58eadecf55fc6d4456d4485668d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ota__private_8h.html#ae7f5ab8221031b60eb2704cf840679ec">DocParseErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#ae153a58eadecf55fc6d4456d4485668d">extractAndStoreArray</a> (const char *pKey, const char *pValueInJson, size_t valueLength, void *pParamAdd, const uint32_t *pParamSizeAdd)</td></tr>
<tr class="memdesc:ae153a58eadecf55fc6d4456d4485668d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract the value from json and store it into the allocated memory.  <br /></td></tr>
<tr class="separator:ae153a58eadecf55fc6d4456d4485668d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae8f6a684adf58acb5433aa77dca15db"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ota__private_8h.html#ae7f5ab8221031b60eb2704cf840679ec">DocParseErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#aae8f6a684adf58acb5433aa77dca15db">verifyRequiredParamsExtracted</a> (const <a class="el" href="struct_json_doc_param__t.html">JsonDocParam_t</a> *pModelParam, const <a class="el" href="struct_json_doc_model__t.html">JsonDocModel_t</a> *pDocModel)</td></tr>
<tr class="memdesc:aae8f6a684adf58acb5433aa77dca15db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if all the required parameters for job document are extracted from the JSON.  <br /></td></tr>
<tr class="separator:aae8f6a684adf58acb5433aa77dca15db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38362bf3cd22684d5ed83748ab2f3adb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a38362bf3cd22684d5ed83748ab2f3adb">validateUpdateVersion</a> (const <a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *pFileContext)</td></tr>
<tr class="memdesc:a38362bf3cd22684d5ed83748ab2f3adb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate the version of the update received.  <br /></td></tr>
<tr class="separator:a38362bf3cd22684d5ed83748ab2f3adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a932eec63e62b0c77076244ef6a3fb930"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#gab8e370b46d0ae5d51879710d533a7314">OtaJobParseErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a932eec63e62b0c77076244ef6a3fb930">handleCustomJob</a> (const char *pJson, uint32_t messageLength)</td></tr>
<tr class="memdesc:a932eec63e62b0c77076244ef6a3fb930"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the JSON can be parsed through the app callback if initial parsing fails.  <br /></td></tr>
<tr class="separator:a932eec63e62b0c77076244ef6a3fb930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f24548cdb62b5aa567934a6b41701d8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#gab8e370b46d0ae5d51879710d533a7314">OtaJobParseErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a9f24548cdb62b5aa567934a6b41701d8">verifyActiveJobStatus</a> (<a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *pFileContext, <a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> **pFinalFile, bool *pUpdateJob)</td></tr>
<tr class="memdesc:a9f24548cdb62b5aa567934a6b41701d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the incoming job document is not conflicting with current job status.  <br /></td></tr>
<tr class="separator:a9f24548cdb62b5aa567934a6b41701d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee2078b96cf49831462a032bdd53e100"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#gab8e370b46d0ae5d51879710d533a7314">OtaJobParseErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#aee2078b96cf49831462a032bdd53e100">validateAndStartJob</a> (<a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *pFileContext, <a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> **pFinalFile, bool *pUpdateJob)</td></tr>
<tr class="memdesc:aee2078b96cf49831462a032bdd53e100"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if all the file context params are valid and initialize resources for the job transfer.  <br /></td></tr>
<tr class="separator:aee2078b96cf49831462a032bdd53e100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80b9133956aa3b5bf998dc009b94c23c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ota__private_8h.html#ae7f5ab8221031b60eb2704cf840679ec">DocParseErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a80b9133956aa3b5bf998dc009b94c23c">parseJobDoc</a> (const <a class="el" href="struct_json_doc_param__t.html">JsonDocParam_t</a> *pJsonExpectedParams, uint16_t numJobParams, const char *pJson, uint32_t messageLength, bool *pUpdateJob, <a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> **pFileContext)</td></tr>
<tr class="memdesc:a80b9133956aa3b5bf998dc009b94c23c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the OTA job document, validate and return the populated OTA context if valid.  <br /></td></tr>
<tr class="separator:a80b9133956aa3b5bf998dc009b94c23c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e51070d847cd2ecf96fc8df58e0ad21"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a9e51070d847cd2ecf96fc8df58e0ad21">validateDataBlock</a> (const <a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *pFileContext, uint32_t blockIndex, uint32_t blockSize)</td></tr>
<tr class="memdesc:a9e51070d847cd2ecf96fc8df58e0ad21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate block index and block size of the data block.  <br /></td></tr>
<tr class="separator:a9e51070d847cd2ecf96fc8df58e0ad21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61467fe1d46c400f3c83610ece7a4dd5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ota__private_8h.html#a9d3eb1ee8e8a129c990fe9effd93f91d">IngestResult_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a61467fe1d46c400f3c83610ece7a4dd5">decodeAndStoreDataBlock</a> (const <a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *pFileContext, const uint8_t *pRawMsg, uint32_t messageSize, uint8_t **pPayload, uint32_t *pBlockSize, uint32_t *pBlockIndex)</td></tr>
<tr class="memdesc:a61467fe1d46c400f3c83610ece7a4dd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode and ingest the incoming data block.  <br /></td></tr>
<tr class="separator:a61467fe1d46c400f3c83610ece7a4dd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87d0a2e81013e841561399a06c913eba"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a87d0a2e81013e841561399a06c913eba">otaClose</a> (<a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *const pFileContext)</td></tr>
<tr class="memdesc:a87d0a2e81013e841561399a06c913eba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close an open OTA file context and free it.  <br /></td></tr>
<tr class="separator:a87d0a2e81013e841561399a06c913eba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b8a4a176b27481784eefe1580a6624d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a8b8a4a176b27481784eefe1580a6624d">otaTimerCallback</a> (<a class="el" href="ota__os__interface_8h.html#afb4112b0dbe23a668f5b69e56ffea085">OtaTimerId_t</a> otaTimerId)</td></tr>
<tr class="memdesc:a8b8a4a176b27481784eefe1580a6624d"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Timer callback.  <br /></td></tr>
<tr class="separator:a8b8a4a176b27481784eefe1580a6624d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bafe150ea1ae18a214ff1387906c03b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a1bafe150ea1ae18a214ff1387906c03b">setImageStateWithReason</a> (<a class="el" href="group__ota__enum__types.html#gad4909faa8b9c8672e7f7bef1bc6b5b84">OtaImageState_t</a> stateToSet, uint32_t reasonToSet)</td></tr>
<tr class="memdesc:a1bafe150ea1ae18a214ff1387906c03b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function to set the image state including an optional reason code.  <br /></td></tr>
<tr class="separator:a1bafe150ea1ae18a214ff1387906c03b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a596cf4427b32f3265556facc0f718815"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a596cf4427b32f3265556facc0f718815">updateJobStatusFromImageState</a> (<a class="el" href="group__ota__enum__types.html#gad4909faa8b9c8672e7f7bef1bc6b5b84">OtaImageState_t</a> state, int32_t subReason)</td></tr>
<tr class="memdesc:a596cf4427b32f3265556facc0f718815"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function to update the job status to the jobs service from current image state.  <br /></td></tr>
<tr class="separator:a596cf4427b32f3265556facc0f718815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af50d949e3ccee6e464f3e062b1e83be7"><td class="memItemLeft" align="right" valign="top"><a id="af50d949e3ccee6e464f3e062b1e83be7" name="af50d949e3ccee6e464f3e062b1e83be7"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>agentShutdownCleanup</b> (void)</td></tr>
<tr class="memdesc:af50d949e3ccee6e464f3e062b1e83be7"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper function to cleanup resources during OTA agent shutdown. <br /></td></tr>
<tr class="separator:af50d949e3ccee6e464f3e062b1e83be7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b5fcf884b2857014de968008924beb2"><td class="memItemLeft" align="right" valign="top"><a id="a1b5fcf884b2857014de968008924beb2" name="a1b5fcf884b2857014de968008924beb2"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>dataHandlerCleanup</b> (void)</td></tr>
<tr class="memdesc:a1b5fcf884b2857014de968008924beb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper function to cleanup resources when data ingestion is complete. <br /></td></tr>
<tr class="separator:a1b5fcf884b2857014de968008924beb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e0f5237102f7fd81bb2e162ca4cd0f0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ota__private_8h.html#ae7f5ab8221031b60eb2704cf840679ec">DocParseErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a2e0f5237102f7fd81bb2e162ca4cd0f0">initDocModel</a> (<a class="el" href="struct_json_doc_model__t.html">JsonDocModel_t</a> *pDocModel, const <a class="el" href="struct_json_doc_param__t.html">JsonDocParam_t</a> *pBodyDef, void *contextBaseAddr, uint32_t contextSize, uint16_t numJobParams)</td></tr>
<tr class="memdesc:a2e0f5237102f7fd81bb2e162ca4cd0f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare the document model for use by sanity checking the initialization parameters and detecting all required parameters.  <br /></td></tr>
<tr class="separator:a2e0f5237102f7fd81bb2e162ca4cd0f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00a204aa4d926e7dd76e811fc64f9657"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a00a204aa4d926e7dd76e811fc64f9657">initializeAppBuffers</a> (const <a class="el" href="struct_ota_app_buffer__t.html">OtaAppBuffer_t</a> *pOtaBuffer)</td></tr>
<tr class="memdesc:a00a204aa4d926e7dd76e811fc64f9657"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize buffers for storing the file attributes.  <br /></td></tr>
<tr class="separator:a00a204aa4d926e7dd76e811fc64f9657"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a238a1d0b19c5ff32e5a9d1f4126dded5"><td class="memItemLeft" align="right" valign="top"><a id="a238a1d0b19c5ff32e5a9d1f4126dded5" name="a238a1d0b19c5ff32e5a9d1f4126dded5"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>initializeLocalBuffers</b> (void)</td></tr>
<tr class="memdesc:a238a1d0b19c5ff32e5a9d1f4126dded5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize jobId and protocol buffers. <br /></td></tr>
<tr class="separator:a238a1d0b19c5ff32e5a9d1f4126dded5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9ce02cafbc0554480802b965bc3ee0c"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#af9ce02cafbc0554480802b965bc3ee0c">searchTransition</a> (const <a class="el" href="struct_ota_event_msg__t.html">OtaEventMsg_t</a> *pEventMsg)</td></tr>
<tr class="memdesc:af9ce02cafbc0554480802b965bc3ee0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search the state transition table for the entry based on current state and incoming event.  <br /></td></tr>
<tr class="separator:af9ce02cafbc0554480802b965bc3ee0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4334797dac98d572ae6ea0bdcf812209"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a4334797dac98d572ae6ea0bdcf812209">processValidFileContext</a> (void)</td></tr>
<tr class="memdesc:a4334797dac98d572ae6ea0bdcf812209"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate download if not in self-test else reboot.  <br /></td></tr>
<tr class="separator:a4334797dac98d572ae6ea0bdcf812209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4df35aecba7ed59256b52d4eb10190d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#af4df35aecba7ed59256b52d4eb10190d">handleSelfTestJobDoc</a> (const <a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *pFileContext)</td></tr>
<tr class="memdesc:af4df35aecba7ed59256b52d4eb10190d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate update version when receiving job doc in self test state.  <br /></td></tr>
<tr class="separator:af4df35aecba7ed59256b52d4eb10190d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0526ddce991d5566b6f209c60cafdef"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#aa0526ddce991d5566b6f209c60cafdef">processNullFileContext</a> (void)</td></tr>
<tr class="memdesc:aa0526ddce991d5566b6f209c60cafdef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle invalid file context.  <br /></td></tr>
<tr class="separator:aa0526ddce991d5566b6f209c60cafdef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7171071c7af3c2b241a76e1148188864"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a7171071c7af3c2b241a76e1148188864">platformInSelftest</a> (void)</td></tr>
<tr class="memdesc:a7171071c7af3c2b241a76e1148188864"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the platform is in self-test.  <br /></td></tr>
<tr class="separator:a7171071c7af3c2b241a76e1148188864"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab10de29376ce3cb56f8a2e9ac38baa89"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#ab10de29376ce3cb56f8a2e9ac38baa89">handleUnexpectedEvents</a> (const <a class="el" href="struct_ota_event_msg__t.html">OtaEventMsg_t</a> *pEventMsg)</td></tr>
<tr class="memdesc:ab10de29376ce3cb56f8a2e9ac38baa89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to handle events that were unexpected in the current state.  <br /></td></tr>
<tr class="separator:ab10de29376ce3cb56f8a2e9ac38baa89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae466af59782893adbc54667423fe266f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#ae466af59782893adbc54667423fe266f">freeFileContextMem</a> (<a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *const pFileContext)</td></tr>
<tr class="memdesc:ae466af59782893adbc54667423fe266f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free or clear multiple buffers used in the file context.  <br /></td></tr>
<tr class="separator:ae466af59782893adbc54667423fe266f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d27d20bbbd359e673cff72b0565b8b0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a9d27d20bbbd359e673cff72b0565b8b0">handleJobParsingError</a> (const <a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *pFileContext, <a class="el" href="group__ota__enum__types.html#gab8e370b46d0ae5d51879710d533a7314">OtaJobParseErr_t</a> err)</td></tr>
<tr class="memdesc:a9d27d20bbbd359e673cff72b0565b8b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle job parsing error.  <br /></td></tr>
<tr class="separator:a9d27d20bbbd359e673cff72b0565b8b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae751fbf1175cc0532e2c3c968854bfd2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#ae751fbf1175cc0532e2c3c968854bfd2">receiveAndProcessOtaEvent</a> (void)</td></tr>
<tr class="memdesc:ae751fbf1175cc0532e2c3c968854bfd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive and process the next available event from the event queue.  <br /></td></tr>
<tr class="separator:ae751fbf1175cc0532e2c3c968854bfd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae813b179a518c7abff14fd0a79a30672"><td class="memItemLeft" align="right" valign="top"><a id="ae813b179a518c7abff14fd0a79a30672" name="ae813b179a518c7abff14fd0a79a30672"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>callOtaCallback</b> (<a class="el" href="group__ota__enum__types.html#ga96a2e1f5cfad783897e805196eee39a7">OtaJobEvent_t</a> eEvent, void *pData)</td></tr>
<tr class="memdesc:ae813b179a518c7abff14fd0a79a30672"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call OTA callback function if it's registered. <br /></td></tr>
<tr class="separator:ae813b179a518c7abff14fd0a79a30672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba376efc2aed2e83c858086f3e279fd5"><td class="memItemLeft" align="right" valign="top"><a id="aba376efc2aed2e83c858086f3e279fd5" name="aba376efc2aed2e83c858086f3e279fd5"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>resetEventQueue</b> (void)</td></tr>
<tr class="memdesc:aba376efc2aed2e83c858086f3e279fd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear all messages in the event queue. <br /></td></tr>
<tr class="separator:aba376efc2aed2e83c858086f3e279fd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc05572b247887937398695a7ae22428"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#adc05572b247887937398695a7ae22428">startHandler</a> (const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *pEventData)</td></tr>
<tr class="separator:adc05572b247887937398695a7ae22428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfd737a3f8be41849474d97ddbe695a6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#acfd737a3f8be41849474d97ddbe695a6">requestJobHandler</a> (const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *pEventData)</td></tr>
<tr class="separator:acfd737a3f8be41849474d97ddbe695a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32593607464529ebfbf759706f26738e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a32593607464529ebfbf759706f26738e">processJobHandler</a> (const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *pEventData)</td></tr>
<tr class="separator:a32593607464529ebfbf759706f26738e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acad9250775186fe3986c5ccd72c8942d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#acad9250775186fe3986c5ccd72c8942d">inSelfTestHandler</a> (const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *pEventData)</td></tr>
<tr class="separator:acad9250775186fe3986c5ccd72c8942d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d439e624b33eae921f10e515d029987"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a4d439e624b33eae921f10e515d029987">initFileHandler</a> (const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *pEventData)</td></tr>
<tr class="separator:a4d439e624b33eae921f10e515d029987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16eafd6185711b5016056603e0a42501"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a16eafd6185711b5016056603e0a42501">processDataHandler</a> (const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *pEventData)</td></tr>
<tr class="separator:a16eafd6185711b5016056603e0a42501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c051ef9cabbefca475b1c63e31a2c2c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a4c051ef9cabbefca475b1c63e31a2c2c">requestDataHandler</a> (const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *pEventData)</td></tr>
<tr class="separator:a4c051ef9cabbefca475b1c63e31a2c2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc27b49696f1562fd90a031d9d59c129"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#adc27b49696f1562fd90a031d9d59c129">shutdownHandler</a> (const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *pEventData)</td></tr>
<tr class="separator:adc27b49696f1562fd90a031d9d59c129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a858c721e7cd210b915a41d74c7e47d6f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a858c721e7cd210b915a41d74c7e47d6f">closeFileHandler</a> (const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *pEventData)</td></tr>
<tr class="separator:a858c721e7cd210b915a41d74c7e47d6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cf09d8207b0c6a8f8aa118483a4aef0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a8cf09d8207b0c6a8f8aa118483a4aef0">userAbortHandler</a> (const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *pEventData)</td></tr>
<tr class="separator:a8cf09d8207b0c6a8f8aa118483a4aef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbda282e0291623cf680da11e58f0808"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#abbda282e0291623cf680da11e58f0808">suspendHandler</a> (const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *pEventData)</td></tr>
<tr class="separator:abbda282e0291623cf680da11e58f0808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0188eca0c85dcac5fed956f21d9207c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#af0188eca0c85dcac5fed956f21d9207c">resumeHandler</a> (const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *pEventData)</td></tr>
<tr class="separator:af0188eca0c85dcac5fed956f21d9207c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59ee2cfa7669b761f5dfd4dbee7545f8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a59ee2cfa7669b761f5dfd4dbee7545f8">jobNotificationHandler</a> (const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *pEventData)</td></tr>
<tr class="separator:a59ee2cfa7669b761f5dfd4dbee7545f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a497bd4e67afe70d3aafb00abc55979ae"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a497bd4e67afe70d3aafb00abc55979ae">executeHandler</a> (uint32_t index, const <a class="el" href="struct_ota_event_msg__t.html">OtaEventMsg_t</a> *const pEventMsg)</td></tr>
<tr class="separator:a497bd4e67afe70d3aafb00abc55979ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40ff1cf197537e4cac4e8e049c42a1e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a40ff1cf197537e4cac4e8e049c42a1e2">OTA_EventProcessingTask</a> (const void *pUnused)</td></tr>
<tr class="memdesc:a40ff1cf197537e4cac4e8e049c42a1e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA agent event processing loop.  <br /></td></tr>
<tr class="separator:a40ff1cf197537e4cac4e8e049c42a1e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a733199fef860721888bbf9ee46bd4056"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga1cb476a5e0ee81fa486f605e64419dcc">OtaState_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a733199fef860721888bbf9ee46bd4056">OTA_EventProcess</a> (void)</td></tr>
<tr class="memdesc:a733199fef860721888bbf9ee46bd4056"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA agent event process cycler.  <br /></td></tr>
<tr class="separator:a733199fef860721888bbf9ee46bd4056"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2564144f284db077b8947ba58a6a72bb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a2564144f284db077b8947ba58a6a72bb">OTA_SignalEvent</a> (const <a class="el" href="struct_ota_event_msg__t.html">OtaEventMsg_t</a> *const pEventMsg)</td></tr>
<tr class="memdesc:a2564144f284db077b8947ba58a6a72bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal event to the OTA Agent task.  <br /></td></tr>
<tr class="separator:a2564144f284db077b8947ba58a6a72bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1764ba9b821dcdb693ec549e8349cc2e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a1764ba9b821dcdb693ec549e8349cc2e">OTA_Init</a> (const <a class="el" href="struct_ota_app_buffer__t.html">OtaAppBuffer_t</a> *pOtaBuffer, const <a class="el" href="struct_ota_interfaces__t.html">OtaInterfaces_t</a> *pOtaInterfaces, const uint8_t *pThingName, <a class="el" href="group__ota__callback__types.html#ga737e6e873370cf18b0221373ae5590ec">OtaAppCallback_t</a> OtaAppCallback)</td></tr>
<tr class="memdesc:a1764ba9b821dcdb693ec549e8349cc2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Agent initialization function.  <br /></td></tr>
<tr class="separator:a1764ba9b821dcdb693ec549e8349cc2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac779291eb93f4e0e6459816e60e13b09"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga1cb476a5e0ee81fa486f605e64419dcc">OtaState_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#ac779291eb93f4e0e6459816e60e13b09">OTA_Shutdown</a> (uint32_t ticksToWait, uint8_t unsubscribeFlag)</td></tr>
<tr class="memdesc:ac779291eb93f4e0e6459816e60e13b09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal to the OTA Agent to shut down.  <br /></td></tr>
<tr class="separator:ac779291eb93f4e0e6459816e60e13b09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6db3f9cb417cb135cb0e68f5b5f2b11f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga1cb476a5e0ee81fa486f605e64419dcc">OtaState_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a6db3f9cb417cb135cb0e68f5b5f2b11f">OTA_GetState</a> (void)</td></tr>
<tr class="memdesc:a6db3f9cb417cb135cb0e68f5b5f2b11f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current state of the OTA agent.  <br /></td></tr>
<tr class="separator:a6db3f9cb417cb135cb0e68f5b5f2b11f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63182243ef3c18d5f36cd427b83a1a22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a63182243ef3c18d5f36cd427b83a1a22">OTA_GetStatistics</a> (<a class="el" href="struct_ota_agent_statistics__t.html">OtaAgentStatistics_t</a> *pStatistics)</td></tr>
<tr class="memdesc:a63182243ef3c18d5f36cd427b83a1a22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the statistics of OTA message packets.  <br /></td></tr>
<tr class="separator:a63182243ef3c18d5f36cd427b83a1a22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1178e8009eb05e6f55f6506b625c9fc2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a1178e8009eb05e6f55f6506b625c9fc2">OTA_CheckForUpdate</a> (void)</td></tr>
<tr class="memdesc:a1178e8009eb05e6f55f6506b625c9fc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request for the next available OTA job from the job service.  <br /></td></tr>
<tr class="separator:a1178e8009eb05e6f55f6506b625c9fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5169ba09148e7f5668a90e776e712f8b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a5169ba09148e7f5668a90e776e712f8b">OTA_ActivateNewImage</a> (void)</td></tr>
<tr class="memdesc:a5169ba09148e7f5668a90e776e712f8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate the newest MCU image received via OTA.  <br /></td></tr>
<tr class="separator:a5169ba09148e7f5668a90e776e712f8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab68cdf65934474e1f3d2cd1046314bea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#ab68cdf65934474e1f3d2cd1046314bea">OTA_SetImageState</a> (<a class="el" href="group__ota__enum__types.html#gad4909faa8b9c8672e7f7bef1bc6b5b84">OtaImageState_t</a> state)</td></tr>
<tr class="memdesc:ab68cdf65934474e1f3d2cd1046314bea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the state of the current MCU image.  <br /></td></tr>
<tr class="separator:ab68cdf65934474e1f3d2cd1046314bea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c5b25f9a7eff3ded8cdf088c2011742"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#gad4909faa8b9c8672e7f7bef1bc6b5b84">OtaImageState_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a9c5b25f9a7eff3ded8cdf088c2011742">OTA_GetImageState</a> (void)</td></tr>
<tr class="memdesc:a9c5b25f9a7eff3ded8cdf088c2011742"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the state of the currently running MCU image.  <br /></td></tr>
<tr class="separator:a9c5b25f9a7eff3ded8cdf088c2011742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65b61ae5dd477e8b2e6c88ea0473c62b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a65b61ae5dd477e8b2e6c88ea0473c62b">OTA_Suspend</a> (void)</td></tr>
<tr class="memdesc:a65b61ae5dd477e8b2e6c88ea0473c62b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suspend OTA agent operations .  <br /></td></tr>
<tr class="separator:a65b61ae5dd477e8b2e6c88ea0473c62b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d40388ac87e4ac93288de37c98a138"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#ae9d40388ac87e4ac93288de37c98a138">OTA_Resume</a> (void)</td></tr>
<tr class="memdesc:ae9d40388ac87e4ac93288de37c98a138"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume OTA agent operations .  <br /></td></tr>
<tr class="separator:ae9d40388ac87e4ac93288de37c98a138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39a9b75e749cf89593c4cf411327ce47"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a39a9b75e749cf89593c4cf411327ce47">OTA_Err_strerror</a> (<a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> err)</td></tr>
<tr class="memdesc:a39a9b75e749cf89593c4cf411327ce47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error code to string conversion for OTA errors.  <br /></td></tr>
<tr class="separator:a39a9b75e749cf89593c4cf411327ce47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf68d300d6ff9a8b4728b3d9e5f52b6d"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#aaf68d300d6ff9a8b4728b3d9e5f52b6d">OTA_JobParse_strerror</a> (<a class="el" href="group__ota__enum__types.html#gab8e370b46d0ae5d51879710d533a7314">OtaJobParseErr_t</a> err)</td></tr>
<tr class="memdesc:aaf68d300d6ff9a8b4728b3d9e5f52b6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error code to string conversion for OTA Job Parsing errors.  <br /></td></tr>
<tr class="separator:aaf68d300d6ff9a8b4728b3d9e5f52b6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4951f4bb1bfbb7312850454ca2b282a4"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a4951f4bb1bfbb7312850454ca2b282a4">OTA_OsStatus_strerror</a> (<a class="el" href="group__ota__enum__types.html#gaececff6c0dd8ba4d884544571bd368e7">OtaOsStatus_t</a> status)</td></tr>
<tr class="memdesc:a4951f4bb1bfbb7312850454ca2b282a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status code to string conversion for OTA OS status.  <br /></td></tr>
<tr class="separator:a4951f4bb1bfbb7312850454ca2b282a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a58be1ac41b7d619eeeb4861be37c89"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a5a58be1ac41b7d619eeeb4861be37c89">OTA_PalStatus_strerror</a> (<a class="el" href="group__ota__constants.html#gac5c3148205ee4a0cac4246b2c7797765">OtaPalMainStatus_t</a> status)</td></tr>
<tr class="memdesc:a5a58be1ac41b7d619eeeb4861be37c89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status code to string conversion for OTA PAL status.  <br /></td></tr>
<tr class="separator:a5a58be1ac41b7d619eeeb4861be37c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a161d09693f72ddeeb6a9b407012f7d8b"><td class="memItemLeft" align="right" valign="top"><a id="a161d09693f72ddeeb6a9b407012f7d8b" name="a161d09693f72ddeeb6a9b407012f7d8b"></a>
static <a class="el" href="struct_ota_control_interface__t.html">OtaControlInterface_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>otaControlInterface</b></td></tr>
<tr class="memdesc:a161d09693f72ddeeb6a9b407012f7d8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA control interface. <br /></td></tr>
<tr class="separator:a161d09693f72ddeeb6a9b407012f7d8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b6a0572316b231f66d2d2855701b0ca"><td class="memItemLeft" align="right" valign="top"><a id="a4b6a0572316b231f66d2d2855701b0ca" name="a4b6a0572316b231f66d2d2855701b0ca"></a>
static <a class="el" href="struct_ota_data_interface__t.html">OtaDataInterface_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>otaDataInterface</b></td></tr>
<tr class="memdesc:a4b6a0572316b231f66d2d2855701b0ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA data interface. <br /></td></tr>
<tr class="separator:a4b6a0572316b231f66d2d2855701b0ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af42d1da71846150bb2cdb2238fe861c0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_ota_agent_context__t.html">OtaAgentContext_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#af42d1da71846150bb2cdb2238fe861c0">otaAgent</a></td></tr>
<tr class="memdesc:af42d1da71846150bb2cdb2238fe861c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is THE OTA agent context and initialization state.  <br /></td></tr>
<tr class="separator:af42d1da71846150bb2cdb2238fe861c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a115d71f205e185e9b7031ba49de411da"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_ota_state_table_entry__t.html">OtaStateTableEntry_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a115d71f205e185e9b7031ba49de411da">otaTransitionTable</a> []</td></tr>
<tr class="memdesc:a115d71f205e185e9b7031ba49de411da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transition table for the OTA state machine.  <br /></td></tr>
<tr class="separator:a115d71f205e185e9b7031ba49de411da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35bd11f5108d7e9e4f97f147b12a8c92"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a35bd11f5108d7e9e4f97f147b12a8c92">pOtaAgentStateStrings</a> [OtaAgentStateAll+1]</td></tr>
<tr class="memdesc:a35bd11f5108d7e9e4f97f147b12a8c92"><td class="mdescLeft">&#160;</td><td class="mdescRight">String set to represent the States of the OTA agent.  <br /></td></tr>
<tr class="separator:a35bd11f5108d7e9e4f97f147b12a8c92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a427f6b2cde0e2fdd9136c273d0c8fae8"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a427f6b2cde0e2fdd9136c273d0c8fae8">pOtaEventStrings</a> [<a class="el" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ea668f452f3c81c0b76d09921893c7027c">OtaAgentEventMax</a>]</td></tr>
<tr class="memdesc:a427f6b2cde0e2fdd9136c273d0c8fae8"><td class="mdescLeft">&#160;</td><td class="mdescRight">String set to represent the Events for the OTA agent.  <br /></td></tr>
<tr class="separator:a427f6b2cde0e2fdd9136c273d0c8fae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad483f03f8d49725d5d5cfe9133e86854"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="struct_json_doc_param__t.html">JsonDocParam_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#ad483f03f8d49725d5d5cfe9133e86854">otaJobDocModelParamStructure</a> [<a class="el" href="ota__private_8h.html#a77c1dadee30b8e0beaea17fb8563e218">OTA_NUM_JOB_PARAMS</a>]</td></tr>
<tr class="memdesc:ad483f03f8d49725d5d5cfe9133e86854"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the OTA job document model describing the parameters, their types, destination and how to extract.  <br /></td></tr>
<tr class="separator:ad483f03f8d49725d5d5cfe9133e86854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf6b80a942717438ad5ee23466e62d01"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#aaf6b80a942717438ad5ee23466e62d01">pJobNameBuffer</a> [<a class="el" href="ota__private_8h.html#ab6942359a343a9a65279eec716cc4468">OTA_JOB_ID_MAX_SIZE</a>]</td></tr>
<tr class="separator:aaf6b80a942717438ad5ee23466e62d01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a536dc3f752d78111477613ab0dca9"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#a17a536dc3f752d78111477613ab0dca9">pProtocolBuffer</a> [<a class="el" href="ota__private_8h.html#a2b311ebd30ad900edc6cfc2219366a22">OTA_PROTOCOL_BUFFER_SIZE</a>]</td></tr>
<tr class="separator:a17a536dc3f752d78111477613ab0dca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebfcd3030a3c9d082a768b15d6bd05e6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_sig__t.html">Sig_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota_8c.html#aebfcd3030a3c9d082a768b15d6bd05e6">sigBuffer</a></td></tr>
<tr class="separator:aebfcd3030a3c9d082a768b15d6bd05e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of the AWS IoT Over-The-Air Updates Client Library. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a111f254c3d23b9d92438c49f731ba3eb" name="a111f254c3d23b9d92438c49f731ba3eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a111f254c3d23b9d92438c49f731ba3eb">&#9670;&#160;</a></span>EMPTY_JOB_DOC_PARAMETER_BITMAP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMPTY_JOB_DOC_PARAMETER_BITMAP&#160;&#160;&#160;3U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resulting bitmap value from empty OTA job document. </p>
<p>Empty OTA job documents will contain only the ClientToken (bit 0) and Timestamp (bit 1) values. Value is determined by the <code>otaJobDocModelParamStructure</code> mapping. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1c6478318f3e542e0bf60bd5aaabe7d5" name="a1c6478318f3e542e0bf60bd5aaabe7d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c6478318f3e542e0bf60bd5aaabe7d5">&#9670;&#160;</a></span>ingestDataBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ota__private_8h.html#a9d3eb1ee8e8a129c990fe9effd93f91d">IngestResult_t</a> ingestDataBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *&#160;</td>
          <td class="paramname"><em>pFileContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *&#160;</td>
          <td class="paramname"><em>pEventData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ota__platform__interface_8h.html#a503f74c089364b482321578b541d7640">OtaPalStatus_t</a> *&#160;</td>
          <td class="paramname"><em>pCloseResult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ingest a data block. </p>
<p>A block of file data was received by the application via some configured communication protocol. If it looks like it is in range, write it to persistent storage. If it's the last block we're expecting, close the file and perform the final signature check on it. If the close and signature check are OK, let the caller know so it can be used by the system. Firmware updates generally reboot the system and perform a self test phase. If the close or signature check fails, abort the file transfer and return the result and any available details to the caller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pFileContext</td><td>Information of file to be streamed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pEventData</td><td>The event data containing the job document. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pCloseResult</td><td>Result of closing file in PAL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>IngestResult_t IngestResultAccepted_Continue if successful, other error for failure. </dd></dl>

</div>
</div>
<a id="acae48f24cd686ca6d3aeaccc27f48082" name="acae48f24cd686ca6d3aeaccc27f48082"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acae48f24cd686ca6d3aeaccc27f48082">&#9670;&#160;</a></span>processDataBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ota__private_8h.html#a9d3eb1ee8e8a129c990fe9effd93f91d">IngestResult_t</a> processDataBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *&#160;</td>
          <td class="paramname"><em>pFileContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>uBlockIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>uBlockSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ota__platform__interface_8h.html#a503f74c089364b482321578b541d7640">OtaPalStatus_t</a> *&#160;</td>
          <td class="paramname"><em>pCloseResult</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pPayload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validate the incoming data block and store it in the file context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pFileContext</td><td>Information of file to be streamed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uBlockIndex</td><td>Incoming block index. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uBlockSize</td><td>Incoming block size. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pCloseResult</td><td>Result of closing file in PAL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pPayload</td><td>Data from the block. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>IngestResult_t IngestResultAccepted_Continue if successful, other error for failure. </dd></dl>

</div>
</div>
<a id="a8e1e2160e0b2595a1617448d68e827d0" name="a8e1e2160e0b2595a1617448d68e827d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e1e2160e0b2595a1617448d68e827d0">&#9670;&#160;</a></span>ingestDataBlockCleanup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ota__private_8h.html#a9d3eb1ee8e8a129c990fe9effd93f91d">IngestResult_t</a> ingestDataBlockCleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *&#160;</td>
          <td class="paramname"><em>pFileContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ota__platform__interface_8h.html#a503f74c089364b482321578b541d7640">OtaPalStatus_t</a> *&#160;</td>
          <td class="paramname"><em>pCloseResult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Free the resources allocated for data ingestion and close the file handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pFileContext</td><td>Information of file to be streamed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pCloseResult</td><td>Result of closing file in PAL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>IngestResult_t IngestResultAccepted_Continue if successful, other error for failure. </dd></dl>

</div>
</div>
<a id="a42dd2fd46df4b4b09954c55e8e237cc4" name="a42dd2fd46df4b4b09954c55e8e237cc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42dd2fd46df4b4b09954c55e8e237cc4">&#9670;&#160;</a></span>getFileContextFromJob()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> getFileContextFromJob </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pRawMsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>messageLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> **&#160;</td>
          <td class="paramname"><em>pFileContext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the File Context From Job Document. </p>
<p>We received an OTA update job message from the job service so process the message and update the file context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pRawMsg</td><td>Raw job document. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">messageLength</td><td>length of document. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pFileContext</td><td>Information of file to be streamed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OtaErr_t any OTA error while determining file context </dd></dl>

</div>
</div>
<a id="a5432c30dee29ec4906c2fba81da15a84" name="a5432c30dee29ec4906c2fba81da15a84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5432c30dee29ec4906c2fba81da15a84">&#9670;&#160;</a></span>validateJSON()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ota__private_8h.html#ae7f5ab8221031b60eb2704cf840679ec">DocParseErr_t</a> validateJSON </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pJson</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>messageLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validate JSON document and the DocModel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pJson</td><td>JSON job document. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">messageLength</td><td>Length of the job document. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DocParseErr_t DocParseErrNone if successful, JSON document parser errors. </dd></dl>

</div>
</div>
<a id="a26879a79af8d848224076acaaf31e588" name="a26879a79af8d848224076acaaf31e588"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26879a79af8d848224076acaaf31e588">&#9670;&#160;</a></span>extractParameter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ota__private_8h.html#ae7f5ab8221031b60eb2704cf840679ec">DocParseErr_t</a> extractParameter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_json_doc_param__t.html">JsonDocParam_t</a>&#160;</td>
          <td class="paramname"><em>docParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pContextBase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pValueInJson</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>valueLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Store the parameter from the json to the offset specified by the document model. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">docParam</td><td>Structure to store the details of keys and where to store them. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pContextBase</td><td>Start of file context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pValueInJson</td><td>Pointer to the value of the key in JSON buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">valueLength</td><td>Length of the value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DocParseErr_t DocParseErrNone if successful, JSON document parser errors. </dd></dl>

</div>
</div>
<a id="aa1e3a5b54edf70565e8b91bdd884e1eb" name="aa1e3a5b54edf70565e8b91bdd884e1eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1e3a5b54edf70565e8b91bdd884e1eb">&#9670;&#160;</a></span>parseJSONbyModel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ota__private_8h.html#ae7f5ab8221031b60eb2704cf840679ec">DocParseErr_t</a> parseJSONbyModel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pJson</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>messageLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_json_doc_model__t.html">JsonDocModel_t</a> *&#160;</td>
          <td class="paramname"><em>pDocModel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extract the desired fields from the JSON document based on the specified document model. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pJson</td><td>JSON job document. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">messageLength</td><td>Length of the job document. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pDocModel</td><td>Details of expected parameters in the job doc. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DocParseErr_t DocParseErr_t DocParseErrNone if successful, JSON document parser errors. </dd></dl>

</div>
</div>
<a id="a06fb03ec9d3fc5c9e4ce2826e533bf6d" name="a06fb03ec9d3fc5c9e4ce2826e533bf6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06fb03ec9d3fc5c9e4ce2826e533bf6d">&#9670;&#160;</a></span>decodeAndStoreKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ota__private_8h.html#ae7f5ab8221031b60eb2704cf840679ec">DocParseErr_t</a> decodeAndStoreKey </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pValueInJson</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>valueLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pParamAdd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode the base64 encoded file signature key from the job document and store it in file context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pValueInJson</td><td>Pointer to the value of the key in JSON buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">valueLength</td><td>Length of the value. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pParamAdd</td><td>Pointer to the location where the value is stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DocParseErr_t DocParseErrNone if successful, JSON document parser errors. </dd></dl>

</div>
</div>
<a id="ae153a58eadecf55fc6d4456d4485668d" name="ae153a58eadecf55fc6d4456d4485668d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae153a58eadecf55fc6d4456d4485668d">&#9670;&#160;</a></span>extractAndStoreArray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ota__private_8h.html#ae7f5ab8221031b60eb2704cf840679ec">DocParseErr_t</a> extractAndStoreArray </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pValueInJson</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>valueLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pParamAdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t *&#160;</td>
          <td class="paramname"><em>pParamSizeAdd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extract the value from json and store it into the allocated memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pKey</td><td>Name of the Key to extract. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pValueInJson</td><td>Pointer to the value of the key in JSON buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">valueLength</td><td>Length of the value. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pParamAdd</td><td>Pointer to the location where the value is stored. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pParamSizeAdd</td><td>Size required to store the param. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DocParseErr_t DocParseErrNone if successful, JSON document parser errors. </dd></dl>

</div>
</div>
<a id="aae8f6a684adf58acb5433aa77dca15db" name="aae8f6a684adf58acb5433aa77dca15db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae8f6a684adf58acb5433aa77dca15db">&#9670;&#160;</a></span>verifyRequiredParamsExtracted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ota__private_8h.html#ae7f5ab8221031b60eb2704cf840679ec">DocParseErr_t</a> verifyRequiredParamsExtracted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_json_doc_param__t.html">JsonDocParam_t</a> *&#160;</td>
          <td class="paramname"><em>pModelParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_json_doc_model__t.html">JsonDocModel_t</a> *&#160;</td>
          <td class="paramname"><em>pDocModel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if all the required parameters for job document are extracted from the JSON. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pModelParam</td><td>Structure to store the details of keys and where to store them. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pDocModel</td><td>Details of expected parameters in the job doc. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DocParseErr_t DocParseErrNone if successful, JSON document parser errors. </dd></dl>

</div>
</div>
<a id="a38362bf3cd22684d5ed83748ab2f3adb" name="a38362bf3cd22684d5ed83748ab2f3adb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38362bf3cd22684d5ed83748ab2f3adb">&#9670;&#160;</a></span>validateUpdateVersion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> validateUpdateVersion </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *&#160;</td>
          <td class="paramname"><em>pFileContext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validate the version of the update received. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pFileContext</td><td>Information of file to be streamed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OtaErr_t OtaErrNone if successful, other error codes if failure. </dd></dl>

</div>
</div>
<a id="a932eec63e62b0c77076244ef6a3fb930" name="a932eec63e62b0c77076244ef6a3fb930"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a932eec63e62b0c77076244ef6a3fb930">&#9670;&#160;</a></span>handleCustomJob()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#gab8e370b46d0ae5d51879710d533a7314">OtaJobParseErr_t</a> handleCustomJob </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pJson</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>messageLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the JSON can be parsed through the app callback if initial parsing fails. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pJson</td><td>JSON job document. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">messageLength</td><td>Length of the job document. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OtaJobParseErr_t OtaJobParseErrNone if successful, other error codes if failure. </dd></dl>

</div>
</div>
<a id="a9f24548cdb62b5aa567934a6b41701d8" name="a9f24548cdb62b5aa567934a6b41701d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f24548cdb62b5aa567934a6b41701d8">&#9670;&#160;</a></span>verifyActiveJobStatus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#gab8e370b46d0ae5d51879710d533a7314">OtaJobParseErr_t</a> verifyActiveJobStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *&#160;</td>
          <td class="paramname"><em>pFileContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> **&#160;</td>
          <td class="paramname"><em>pFinalFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>pUpdateJob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the incoming job document is not conflicting with current job status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pFileContext</td><td>Information of file to be streamed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pFinalFile</td><td>File that stores all extracted params. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pUpdateJob</td><td>Represents if the job is accepted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OtaJobParseErr_t OtaErrNone if successful, other error codes if failure. </dd></dl>

</div>
</div>
<a id="aee2078b96cf49831462a032bdd53e100" name="aee2078b96cf49831462a032bdd53e100"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee2078b96cf49831462a032bdd53e100">&#9670;&#160;</a></span>validateAndStartJob()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#gab8e370b46d0ae5d51879710d533a7314">OtaJobParseErr_t</a> validateAndStartJob </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *&#160;</td>
          <td class="paramname"><em>pFileContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> **&#160;</td>
          <td class="paramname"><em>pFinalFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>pUpdateJob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if all the file context params are valid and initialize resources for the job transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pFileContext</td><td>Information of file to be streamed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pFinalFile</td><td>File that stores all extracted params. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pUpdateJob</td><td>Represents if the job is accepted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OtaJobParseErr_t OtaJobParseErrNone if successful, other error codes if failure. </dd></dl>

</div>
</div>
<a id="a80b9133956aa3b5bf998dc009b94c23c" name="a80b9133956aa3b5bf998dc009b94c23c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80b9133956aa3b5bf998dc009b94c23c">&#9670;&#160;</a></span>parseJobDoc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ota__private_8h.html#ae7f5ab8221031b60eb2704cf840679ec">DocParseErr_t</a> parseJobDoc </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_json_doc_param__t.html">JsonDocParam_t</a> *&#160;</td>
          <td class="paramname"><em>pJsonExpectedParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>numJobParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pJson</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>messageLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>pUpdateJob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> **&#160;</td>
          <td class="paramname"><em>pFileContext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parse the OTA job document, validate and return the populated OTA context if valid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pJsonExpectedParams</td><td>Structure to store the details of keys and where to store them. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numJobParams</td><td>Number of parameters to be extracted. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pJson</td><td>JSON job document. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">messageLength</td><td>Length of the job document. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pUpdateJob</td><td>Represents if the job is accepted. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pFileContext</td><td>File context to store file information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DocParseErr_t found when parsing the document </dd></dl>

</div>
</div>
<a id="a9e51070d847cd2ecf96fc8df58e0ad21" name="a9e51070d847cd2ecf96fc8df58e0ad21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e51070d847cd2ecf96fc8df58e0ad21">&#9670;&#160;</a></span>validateDataBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool validateDataBlock </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *&#160;</td>
          <td class="paramname"><em>pFileContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>blockIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>blockSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validate block index and block size of the data block. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pFileContext</td><td>Information of file to be streamed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">blockIndex</td><td>Block index of incoming data block. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">blockSize</td><td>Block size of incoming data block. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if successful, false otherwise. </dd></dl>

</div>
</div>
<a id="a61467fe1d46c400f3c83610ece7a4dd5" name="a61467fe1d46c400f3c83610ece7a4dd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61467fe1d46c400f3c83610ece7a4dd5">&#9670;&#160;</a></span>decodeAndStoreDataBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ota__private_8h.html#a9d3eb1ee8e8a129c990fe9effd93f91d">IngestResult_t</a> decodeAndStoreDataBlock </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *&#160;</td>
          <td class="paramname"><em>pFileContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pRawMsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>messageSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>pPayload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pBlockSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pBlockIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode and ingest the incoming data block. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pFileContext</td><td>Information of file to be streamed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pRawMsg</td><td>Raw job document. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">messageSize</td><td>Length of document. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pPayload</td><td>Data stored in the document. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pBlockSize</td><td>Block size of incoming data block. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pBlockIndex</td><td>Block index of incoming data block. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>IngestResult_t IngestResultAccepted_Continue if successful, other error for failure. </dd></dl>

</div>
</div>
<a id="a87d0a2e81013e841561399a06c913eba" name="a87d0a2e81013e841561399a06c913eba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87d0a2e81013e841561399a06c913eba">&#9670;&#160;</a></span>otaClose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool otaClose </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *const&#160;</td>
          <td class="paramname"><em>pFileContext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close an open OTA file context and free it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pFileContext</td><td>Information of file to be streamed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if successful, false otherwise. </dd></dl>

</div>
</div>
<a id="a8b8a4a176b27481784eefe1580a6624d" name="a8b8a4a176b27481784eefe1580a6624d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b8a4a176b27481784eefe1580a6624d">&#9670;&#160;</a></span>otaTimerCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void otaTimerCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ota__os__interface_8h.html#afb4112b0dbe23a668f5b69e56ffea085">OtaTimerId_t</a>&#160;</td>
          <td class="paramname"><em>otaTimerId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>OTA Timer callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">otaTimerId</td><td>Reference to the timer to use. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1bafe150ea1ae18a214ff1387906c03b" name="a1bafe150ea1ae18a214ff1387906c03b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bafe150ea1ae18a214ff1387906c03b">&#9670;&#160;</a></span>setImageStateWithReason()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> setImageStateWithReason </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__enum__types.html#gad4909faa8b9c8672e7f7bef1bc6b5b84">OtaImageState_t</a>&#160;</td>
          <td class="paramname"><em>stateToSet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>reasonToSet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal function to set the image state including an optional reason code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stateToSet</td><td>State to set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reasonToSet</td><td>Reason to set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OtaErr_t OtaErrNone if successful, other codes on failure. </dd></dl>

</div>
</div>
<a id="a596cf4427b32f3265556facc0f718815" name="a596cf4427b32f3265556facc0f718815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a596cf4427b32f3265556facc0f718815">&#9670;&#160;</a></span>updateJobStatusFromImageState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> updateJobStatusFromImageState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__enum__types.html#gad4909faa8b9c8672e7f7bef1bc6b5b84">OtaImageState_t</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>subReason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal function to update the job status to the jobs service from current image state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>State to set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">subReason</td><td>Reason for status. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OtaErr_t OtaErrNone if successful, other codes on failure. </dd></dl>

</div>
</div>
<a id="a2e0f5237102f7fd81bb2e162ca4cd0f0" name="a2e0f5237102f7fd81bb2e162ca4cd0f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e0f5237102f7fd81bb2e162ca4cd0f0">&#9670;&#160;</a></span>initDocModel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ota__private_8h.html#ae7f5ab8221031b60eb2704cf840679ec">DocParseErr_t</a> initDocModel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_json_doc_model__t.html">JsonDocModel_t</a> *&#160;</td>
          <td class="paramname"><em>pDocModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_json_doc_param__t.html">JsonDocParam_t</a> *&#160;</td>
          <td class="paramname"><em>pBodyDef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>contextBaseAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>contextSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>numJobParams</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare the document model for use by sanity checking the initialization parameters and detecting all required parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pDocModel</td><td>Details of expected parameters in the job doc. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pBodyDef</td><td>Structure to store the details of keys and where to store them. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">contextBaseAddr</td><td>Start of file context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">contextSize</td><td>Size of file context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numJobParams</td><td>Number of parameters to be extracted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DocParseErr_t DocParseErrNone if successful, JSON document parser errors. </dd></dl>

</div>
</div>
<a id="a00a204aa4d926e7dd76e811fc64f9657" name="a00a204aa4d926e7dd76e811fc64f9657"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00a204aa4d926e7dd76e811fc64f9657">&#9670;&#160;</a></span>initializeAppBuffers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void initializeAppBuffers </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_app_buffer__t.html">OtaAppBuffer_t</a> *&#160;</td>
          <td class="paramname"><em>pOtaBuffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize buffers for storing the file attributes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pOtaBuffer</td><td>OTA Application buffers. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af9ce02cafbc0554480802b965bc3ee0c" name="af9ce02cafbc0554480802b965bc3ee0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9ce02cafbc0554480802b965bc3ee0c">&#9670;&#160;</a></span>searchTransition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t searchTransition </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_msg__t.html">OtaEventMsg_t</a> *&#160;</td>
          <td class="paramname"><em>pEventMsg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Search the state transition table for the entry based on current state and incoming event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pEventMsg</td><td>Incoming event information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint32_t Index of the transition. </dd></dl>

</div>
</div>
<a id="a4334797dac98d572ae6ea0bdcf812209" name="a4334797dac98d572ae6ea0bdcf812209"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4334797dac98d572ae6ea0bdcf812209">&#9670;&#160;</a></span>processValidFileContext()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> processValidFileContext </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initiate download if not in self-test else reboot. </p>
<dl class="section return"><dt>Returns</dt><dd>OtaErr_t OtaErrNone if successful. </dd></dl>

</div>
</div>
<a id="af4df35aecba7ed59256b52d4eb10190d" name="af4df35aecba7ed59256b52d4eb10190d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4df35aecba7ed59256b52d4eb10190d">&#9670;&#160;</a></span>handleSelfTestJobDoc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handleSelfTestJobDoc </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *&#160;</td>
          <td class="paramname"><em>pFileContext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validate update version when receiving job doc in self test state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pFileContext</td><td>Stores file information. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa0526ddce991d5566b6f209c60cafdef" name="aa0526ddce991d5566b6f209c60cafdef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0526ddce991d5566b6f209c60cafdef">&#9670;&#160;</a></span>processNullFileContext()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> processNullFileContext </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle invalid file context. </p>
<dl class="section return"><dt>Returns</dt><dd>OtaErr_t OtaErrNone if job parsing is handled. </dd></dl>

</div>
</div>
<a id="a7171071c7af3c2b241a76e1148188864" name="a7171071c7af3c2b241a76e1148188864"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7171071c7af3c2b241a76e1148188864">&#9670;&#160;</a></span>platformInSelftest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool platformInSelftest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the platform is in self-test. </p>
<dl class="section return"><dt>Returns</dt><dd>true if in self-test, else false. </dd></dl>

</div>
</div>
<a id="ab10de29376ce3cb56f8a2e9ac38baa89" name="ab10de29376ce3cb56f8a2e9ac38baa89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab10de29376ce3cb56f8a2e9ac38baa89">&#9670;&#160;</a></span>handleUnexpectedEvents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handleUnexpectedEvents </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_msg__t.html">OtaEventMsg_t</a> *&#160;</td>
          <td class="paramname"><em>pEventMsg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to handle events that were unexpected in the current state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pEventMsg</td><td>Stores information of the event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae466af59782893adbc54667423fe266f" name="ae466af59782893adbc54667423fe266f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae466af59782893adbc54667423fe266f">&#9670;&#160;</a></span>freeFileContextMem()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void freeFileContextMem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *const&#160;</td>
          <td class="paramname"><em>pFileContext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Free or clear multiple buffers used in the file context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pFileContext</td><td>Information of file to be streamed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9d27d20bbbd359e673cff72b0565b8b0" name="a9d27d20bbbd359e673cff72b0565b8b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d27d20bbbd359e673cff72b0565b8b0">&#9670;&#160;</a></span>handleJobParsingError()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handleJobParsingError </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_file_context__t.html">OtaFileContext_t</a> *&#160;</td>
          <td class="paramname"><em>pFileContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ota__enum__types.html#gab8e370b46d0ae5d51879710d533a7314">OtaJobParseErr_t</a>&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle job parsing error. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pFileContext</td><td>Pointer to the file context.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">err</td><td>Parsing error of type OtaJobParseErr_t. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae751fbf1175cc0532e2c3c968854bfd2" name="ae751fbf1175cc0532e2c3c968854bfd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae751fbf1175cc0532e2c3c968854bfd2">&#9670;&#160;</a></span>receiveAndProcessOtaEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void receiveAndProcessOtaEvent </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Receive and process the next available event from the event queue. </p>
<p>Each event is processed based on the behavior defined in the OTA transition table. The state of the OTA state machine will be updated and the corresponding event handler will be called. </p>

</div>
</div>
<a id="adc05572b247887937398695a7ae22428" name="adc05572b247887937398695a7ae22428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc05572b247887937398695a7ae22428">&#9670;&#160;</a></span>startHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> startHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *&#160;</td>
          <td class="paramname"><em>pEventData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Start timers and initiate request for job document. </p>

</div>
</div>
<a id="acfd737a3f8be41849474d97ddbe695a6" name="acfd737a3f8be41849474d97ddbe695a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfd737a3f8be41849474d97ddbe695a6">&#9670;&#160;</a></span>requestJobHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> requestJobHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *&#160;</td>
          <td class="paramname"><em>pEventData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initiate a request for a job. </p>

</div>
</div>
<a id="a32593607464529ebfbf759706f26738e" name="a32593607464529ebfbf759706f26738e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32593607464529ebfbf759706f26738e">&#9670;&#160;</a></span>processJobHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> processJobHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *&#160;</td>
          <td class="paramname"><em>pEventData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Update file context from job document. </p>

</div>
</div>
<a id="acad9250775186fe3986c5ccd72c8942d" name="acad9250775186fe3986c5ccd72c8942d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acad9250775186fe3986c5ccd72c8942d">&#9670;&#160;</a></span>inSelfTestHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> inSelfTestHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *&#160;</td>
          <td class="paramname"><em>pEventData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle self test. </p>

</div>
</div>
<a id="a4d439e624b33eae921f10e515d029987" name="a4d439e624b33eae921f10e515d029987"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d439e624b33eae921f10e515d029987">&#9670;&#160;</a></span>initFileHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> initFileHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *&#160;</td>
          <td class="paramname"><em>pEventData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialize and handle file transfer. </p>

</div>
</div>
<a id="a16eafd6185711b5016056603e0a42501" name="a16eafd6185711b5016056603e0a42501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16eafd6185711b5016056603e0a42501">&#9670;&#160;</a></span>processDataHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> processDataHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *&#160;</td>
          <td class="paramname"><em>pEventData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Process incoming data blocks. </p>

</div>
</div>
<a id="a4c051ef9cabbefca475b1c63e31a2c2c" name="a4c051ef9cabbefca475b1c63e31a2c2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c051ef9cabbefca475b1c63e31a2c2c">&#9670;&#160;</a></span>requestDataHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> requestDataHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *&#160;</td>
          <td class="paramname"><em>pEventData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Request for data blocks. </p>

</div>
</div>
<a id="adc27b49696f1562fd90a031d9d59c129" name="adc27b49696f1562fd90a031d9d59c129"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc27b49696f1562fd90a031d9d59c129">&#9670;&#160;</a></span>shutdownHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> shutdownHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *&#160;</td>
          <td class="paramname"><em>pEventData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Shutdown OTA and cleanup. </p>

</div>
</div>
<a id="a858c721e7cd210b915a41d74c7e47d6f" name="a858c721e7cd210b915a41d74c7e47d6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a858c721e7cd210b915a41d74c7e47d6f">&#9670;&#160;</a></span>closeFileHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> closeFileHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *&#160;</td>
          <td class="paramname"><em>pEventData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Close file opened for download. </p>

</div>
</div>
<a id="a8cf09d8207b0c6a8f8aa118483a4aef0" name="a8cf09d8207b0c6a8f8aa118483a4aef0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cf09d8207b0c6a8f8aa118483a4aef0">&#9670;&#160;</a></span>userAbortHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> userAbortHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *&#160;</td>
          <td class="paramname"><em>pEventData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle user interrupt to abort task. </p>

</div>
</div>
<a id="abbda282e0291623cf680da11e58f0808" name="abbda282e0291623cf680da11e58f0808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbda282e0291623cf680da11e58f0808">&#9670;&#160;</a></span>suspendHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> suspendHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *&#160;</td>
          <td class="paramname"><em>pEventData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle suspend event for OTA agent. </p>

</div>
</div>
<a id="af0188eca0c85dcac5fed956f21d9207c" name="af0188eca0c85dcac5fed956f21d9207c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0188eca0c85dcac5fed956f21d9207c">&#9670;&#160;</a></span>resumeHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> resumeHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *&#160;</td>
          <td class="paramname"><em>pEventData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Resume from a suspended state. </p>

</div>
</div>
<a id="a59ee2cfa7669b761f5dfd4dbee7545f8" name="a59ee2cfa7669b761f5dfd4dbee7545f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59ee2cfa7669b761f5dfd4dbee7545f8">&#9670;&#160;</a></span>jobNotificationHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> jobNotificationHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_data__t.html">OtaEventData_t</a> *&#160;</td>
          <td class="paramname"><em>pEventData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Upon receiving a new job document cancel current job if present and initiate new download. </p>

</div>
</div>
<a id="a497bd4e67afe70d3aafb00abc55979ae" name="a497bd4e67afe70d3aafb00abc55979ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a497bd4e67afe70d3aafb00abc55979ae">&#9670;&#160;</a></span>executeHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void executeHandler </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_msg__t.html">OtaEventMsg_t</a> *const&#160;</td>
          <td class="paramname"><em>pEventMsg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Execute the handler for selected index from the transition table. </p>

</div>
</div>
<a id="a40ff1cf197537e4cac4e8e049c42a1e2" name="a40ff1cf197537e4cac4e8e049c42a1e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40ff1cf197537e4cac4e8e049c42a1e2">&#9670;&#160;</a></span>OTA_EventProcessingTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OTA_EventProcessingTask </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>pUnused</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA agent event processing loop. </p>
<p>This is the main event loop to handle events for OTA update and needs to be called by the application task. This loop will continue to handle and execute events received for OTA Update until this tasks is terminated by the application.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pUnused</td><td>Can be used to pass down functionality to the agent task, Unused for now. This can be a function pointer that executes as the first routine when the event loop starts.</td></tr>
  </table>
  </dd>
</dl>
<p>For a Posix based reference of creating a thread with this task, please see the <a href="https://github.com/aws/aws-iot-device-sdk-embedded-C/tree/main/demos/ota">demos in AWS IoT Embedded C SDK repository</a>. </p>

</div>
</div>
<a id="a733199fef860721888bbf9ee46bd4056" name="a733199fef860721888bbf9ee46bd4056"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a733199fef860721888bbf9ee46bd4056">&#9670;&#160;</a></span>OTA_EventProcess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga1cb476a5e0ee81fa486f605e64419dcc">OtaState_t</a> OTA_EventProcess </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA agent event process cycler. </p>
<p>This is the main agent event handler for OTA update and needs to be called repeatedly by an application task. This is functionally equivalent to <a class="el" href="ota_8c.html#a40ff1cf197537e4cac4e8e049c42a1e2">OTA_EventProcessingTask</a>, except instead of forever looping internally, the user is responsible for periodically calling this function.</p>
<dl class="section note"><dt>Note</dt><dd>This is NOT thread safe with <a class="el" href="ota_8c.html#a40ff1cf197537e4cac4e8e049c42a1e2">OTA_EventProcessingTask</a> and the two should never be used in conjunction.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The state of the ota agent after this single event process cycle </dd></dl>

</div>
</div>
<a id="a2564144f284db077b8947ba58a6a72bb" name="a2564144f284db077b8947ba58a6a72bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2564144f284db077b8947ba58a6a72bb">&#9670;&#160;</a></span>OTA_SignalEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OTA_SignalEvent </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_event_msg__t.html">OtaEventMsg_t</a> *const&#160;</td>
          <td class="paramname"><em>pEventMsg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal event to the OTA Agent task. </p>
<p>This function adds the event to the back of event queue and used by internal OTA modules to signal agent task.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pEventMsg</td><td>Event to be added to the queue </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true If operation is successful, false If the event can not be added</dd></dl>
<p><b>Example</b> Signal OTA agent that a new file block has been received over the http connection. </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="group__ota__enum__types.html#ga5d1a57074f3242737a756c3feb64d4d4">OtaHttpStatus_t</a> handleDataFromHTTPService( <span class="keyword">const</span> HTTPResponse_t * pResponse )</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Assume otaEventBufferGet is a user defined, thread-safe function</span></div>
<div class="line">    <span class="comment">// that gets an available buffer from the pool of OTA buffers.</span></div>
<div class="line">    <a class="code hl_struct" href="struct_ota_event_data__t.html">OtaEventData_t</a> * pData = otaEventBufferGet();</div>
<div class="line">    <a class="code hl_enumeration" href="group__ota__enum__types.html#ga5d1a57074f3242737a756c3feb64d4d4">OtaHttpStatus_t</a> returnValue = <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga5d1a57074f3242737a756c3feb64d4d4a49f043cf87a8fefc6d7f383acc730dd5">OtaHttpRequestFailed</a>;</div>
<div class="line">    <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Validate pResponse for correct data.</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( pData != NULL )</div>
<div class="line">    {</div>
<div class="line">        memcpy( pData-&gt;<a class="code hl_variable" href="struct_ota_event_data__t.html#a2d6745b10e3e5ad0dac2ebb89a56f252">data</a>, pResponse-&gt;pBody, pResponse-&gt;bodyLen );</div>
<div class="line">        pData-&gt;<a class="code hl_variable" href="struct_ota_event_data__t.html#a4f1b1b9d316c41d97fd9169dc6ff076d">dataLength</a> = pResponse-&gt;bodyLen;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Send job document received event.</span></div>
<div class="line">        eventMsg.eventId = <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ea79ef0fd4aaffd57dd5af6ef646a70f11">OtaAgentEventReceivedFileBlock</a>;</div>
<div class="line">        eventMsg.pEventData = pData;</div>
<div class="line">        result = <a class="code hl_function" href="ota_8c.html#a2564144f284db077b8947ba58a6a72bb">OTA_SignalEvent</a>( &amp;eventMsg );</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>( result )</div>
<div class="line">        {</div>
<div class="line">            returnValue = <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga5d1a57074f3242737a756c3feb64d4d4ac8837a3a448f8dc701d838974a2a6535">OtaHttpSuccess</a>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> returnValue;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__ota__enum__types_html_ga5d1a57074f3242737a756c3feb64d4d4"><div class="ttname"><a href="group__ota__enum__types.html#ga5d1a57074f3242737a756c3feb64d4d4">OtaHttpStatus_t</a></div><div class="ttdeci">OtaHttpStatus_t</div><div class="ttdoc">The OTA HTTP interface return status.</div><div class="ttdef"><b>Definition:</b> ota_http_interface.h:88</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_gga2c42c25235304ca5c3e3a6abef78be4ea79ef0fd4aaffd57dd5af6ef646a70f11"><div class="ttname"><a href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ea79ef0fd4aaffd57dd5af6ef646a70f11">OtaAgentEventReceivedFileBlock</a></div><div class="ttdeci">@ OtaAgentEventReceivedFileBlock</div><div class="ttdoc">Event to trigger when file block is received.</div><div class="ttdef"><b>Definition:</b> ota_private.h:355</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_gga5d1a57074f3242737a756c3feb64d4d4a49f043cf87a8fefc6d7f383acc730dd5"><div class="ttname"><a href="group__ota__enum__types.html#gga5d1a57074f3242737a756c3feb64d4d4a49f043cf87a8fefc6d7f383acc730dd5">OtaHttpRequestFailed</a></div><div class="ttdeci">@ OtaHttpRequestFailed</div><div class="ttdoc">Error sending the HTTP request.</div><div class="ttdef"><b>Definition:</b> ota_http_interface.h:92</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_gga5d1a57074f3242737a756c3feb64d4d4ac8837a3a448f8dc701d838974a2a6535"><div class="ttname"><a href="group__ota__enum__types.html#gga5d1a57074f3242737a756c3feb64d4d4ac8837a3a448f8dc701d838974a2a6535">OtaHttpSuccess</a></div><div class="ttdeci">@ OtaHttpSuccess</div><div class="ttdoc">OTA HTTP interface success.</div><div class="ttdef"><b>Definition:</b> ota_http_interface.h:89</div></div>
<div class="ttc" id="aota_8c_html_a2564144f284db077b8947ba58a6a72bb"><div class="ttname"><a href="ota_8c.html#a2564144f284db077b8947ba58a6a72bb">OTA_SignalEvent</a></div><div class="ttdeci">bool OTA_SignalEvent(const OtaEventMsg_t *const pEventMsg)</div><div class="ttdoc">Signal event to the OTA Agent task.</div><div class="ttdef"><b>Definition:</b> ota.c:3125</div></div>
<div class="ttc" id="astruct_ota_event_data__t_html"><div class="ttname"><a href="struct_ota_event_data__t.html">OtaEventData_t</a></div><div class="ttdoc">The OTA Agent event and data structures.</div><div class="ttdef"><b>Definition:</b> ota_private.h:421</div></div>
<div class="ttc" id="astruct_ota_event_data__t_html_a2d6745b10e3e5ad0dac2ebb89a56f252"><div class="ttname"><a href="struct_ota_event_data__t.html#a2d6745b10e3e5ad0dac2ebb89a56f252">OtaEventData_t::data</a></div><div class="ttdeci">uint8_t data[OTA_DATA_BLOCK_SIZE]</div><div class="ttdef"><b>Definition:</b> ota_private.h:422</div></div>
<div class="ttc" id="astruct_ota_event_data__t_html_a4f1b1b9d316c41d97fd9169dc6ff076d"><div class="ttname"><a href="struct_ota_event_data__t.html#a4f1b1b9d316c41d97fd9169dc6ff076d">OtaEventData_t::dataLength</a></div><div class="ttdeci">uint32_t dataLength</div><div class="ttdef"><b>Definition:</b> ota_private.h:423</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a1764ba9b821dcdb693ec549e8349cc2e" name="a1764ba9b821dcdb693ec549e8349cc2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1764ba9b821dcdb693ec549e8349cc2e">&#9670;&#160;</a></span>OTA_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> OTA_Init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_ota_app_buffer__t.html">OtaAppBuffer_t</a> *&#160;</td>
          <td class="paramname"><em>pOtaBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_ota_interfaces__t.html">OtaInterfaces_t</a> *&#160;</td>
          <td class="paramname"><em>pOtaInterfaces</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pThingName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ota__callback__types.html#ga737e6e873370cf18b0221373ae5590ec">OtaAppCallback_t</a>&#160;</td>
          <td class="paramname"><em>OtaAppCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Agent initialization function. </p>
<p>Initialize the OTA engine by starting the OTA Agent ("OTA Task") in the system. This function must be called with the connection client context before calling <a class="el" href="ota_8c.html#a1178e8009eb05e6f55f6506b625c9fc2">OTA_CheckForUpdate</a>. Only one OTA Agent may exist.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pOtaBuffer</td><td>Buffers used by the agent to store different params. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pOtaInterfaces</td><td>A pointer to the OS context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pThingName</td><td>A pointer to a C string holding the Thing name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">OtaAppCallback</td><td>Static callback function for when an OTA job is complete. This function will have input of the state of the OTA image after download and during self-test. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OtaErr_t The state of the OTA Agent upon return from the OtaState_t enum. If the agent was successfully initialized and ready to operate, the state will be OtaAgentStateReady. Otherwise, it will be one of the other OtaState_t enum values.</dd></dl>
<p><b>Example</b> </p><div class="fragment"><div class="line"><span class="comment">// Application callback when the OTA agent has completed the job</span></div>
<div class="line"><span class="comment">// or is in self test mode. For example see [demos](https://github.com/aws/aws-iot-device-sdk-embedded-C/tree/main/demos/ota)</span></div>
<div class="line"><span class="keywordtype">void</span> otaAppCallback( <a class="code hl_enumeration" href="group__ota__enum__types.html#ga96a2e1f5cfad783897e805196eee39a7">OtaJobEvent_t</a> event,</div>
<div class="line">                     <span class="keyword">const</span> <span class="keywordtype">void</span> * pData );</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Optional: User buffer to pass down to the OTA Agent. These</span></div>
<div class="line"><span class="comment">// buffers are assumed to be initialized previously, example:</span></div>
<div class="line"><span class="comment">// uint8_t updateFilePath[ OTA_MAX_FILE_PATH_SIZE ];</span></div>
<div class="line"><a class="code hl_struct" href="struct_ota_app_buffer__t.html">OtaAppBuffer_t</a> otaBuffer =</div>
<div class="line">{</div>
<div class="line">    .<a class="code hl_variable" href="struct_ota_app_buffer__t.html#a1e8e0cf1e6b1f699409f22a4c03cefd7">pUpdateFilePath</a>    = updateFilePath,</div>
<div class="line">    .updateFilePathsize = OTA_MAX_FILE_PATH_SIZE,</div>
<div class="line">    .pCertFilePath      = certFilePath,</div>
<div class="line">    .certFilePathSize   = OTA_MAX_FILE_PATH_SIZE,</div>
<div class="line">    .pDecodeMemory      = decodeMem,</div>
<div class="line">    .decodeMemorySize   = otaconfigFILE_BLOCK_SIZE,</div>
<div class="line">    .pFileBitmap        = bitmap,</div>
<div class="line">    .fileBitmapSize     = <a class="code hl_define" href="group__ota__constants.html#ga538d92a689f2b60c60bcef41e2739a1e">OTA_MAX_BLOCK_BITMAP_SIZE</a>,</div>
<div class="line">    .pUrl               = updateUrl,</div>
<div class="line">    .urlSize            = OTA_MAX_URL_SIZE,</div>
<div class="line">    .pAuthScheme        = authScheme,</div>
<div class="line">    .authSchemeSize     = OTA_MAX_AUTH_SCHEME_SIZE</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// OTA interface context required for library interface functions</span></div>
<div class="line"><span class="comment">// The functions set by these interfaces are assumed to be defined</span></div>
<div class="line"><span class="comment">// For more information see [demos](https://github.com/aws/aws-iot-device-sdk-embedded-C/tree/main/demos/ota)</span></div>
<div class="line"><a class="code hl_struct" href="struct_ota_interfaces__t.html">OtaInterfaces_t</a> pOtaInterfaces =</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Initialize OTA library OS Interface.</span></div>
<div class="line">    .<a class="code hl_variable" href="struct_ota_interfaces__t.html#a4309938e333d120eb646b1d24b5f413a">os</a>.<a class="code hl_variable" href="struct_ota_o_s_interface__t.html#a56b4e42ad807bb4f407f61cca2964016">event</a>.<a class="code hl_variable" href="struct_ota_event_interface__t.html#a70a33a62828b128cd625c1b13ff8550e">init</a> = Posix_OtaInitEvent;</div>
<div class="line">    .os.event.send = Posix_OtaSendEvent;</div>
<div class="line">    ...</div>
<div class="line">    <span class="comment">// Initialize the OTA library MQTT Interface.</span></div>
<div class="line">    .mqtt.subscribe = mqttSubscribe;</div>
<div class="line">    .mqtt.publish = mqttPublish;</div>
<div class="line">    .mqtt.unsubscribe = mqttUnsubscribe;</div>
<div class="line">    <span class="comment">// Initialize the OTA library HTTP Interface.</span></div>
<div class="line">    .http.init = httpInit;</div>
<div class="line">    .http.request = httpRequest;</div>
<div class="line">    .http.deinit = httpDeinit;</div>
<div class="line">    <span class="comment">// Initialize the OTA library PAL Interface.</span></div>
<div class="line">    .pal.getPlatformImageState = otaPal_GetPlatformImageState;</div>
<div class="line">    .pal.setPlatformImageState = otaPal_SetPlatformImageState;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// OTA library error status.</span></div>
<div class="line"><a class="code hl_enumeration" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> otaErr = <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da0c644255eee375cb8e6bd9def0772e02">OtaErrNone</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Unique client identifier</span></div>
<div class="line"><span class="keywordtype">char</span> * pClientIdentifier = <span class="stringliteral">&quot;uniqueClientID&quot;</span>;</div>
<div class="line"> </div>
<div class="line">otaErr = <a class="code hl_function" href="ota_8c.html#a1764ba9b821dcdb693ec549e8349cc2e">OTA_Init</a>( &amp;otaBuffer,</div>
<div class="line">                   &amp;otaInterfaces,</div>
<div class="line">                   ( <span class="keyword">const</span> uint8_t * ) pClientIdentifier,</div>
<div class="line">                   otaAppCallback ) ) != <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da0c644255eee375cb8e6bd9def0772e02">OtaErrNone</a> )</div>
<div class="line">         <span class="keywordflow">if</span>( otaErr == <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da0c644255eee375cb8e6bd9def0772e02">OtaErrNone</a> )</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Do something with the OTA agent.</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__ota__constants_html_ga538d92a689f2b60c60bcef41e2739a1e"><div class="ttname"><a href="group__ota__constants.html#ga538d92a689f2b60c60bcef41e2739a1e">OTA_MAX_BLOCK_BITMAP_SIZE</a></div><div class="ttdeci">#define OTA_MAX_BLOCK_BITMAP_SIZE</div><div class="ttdoc">Max allowed number of bytes to track all blocks of an OTA file. Adjust block size if more range is ne...</div><div class="ttdef"><b>Definition:</b> ota_private.h:66</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_ga7ab3c74dc057383c56c6cb9aa6bf0b2d"><div class="ttname"><a href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a></div><div class="ttdeci">OtaErr_t</div><div class="ttdoc">The OTA API return status. OTA agent error codes are in the upper 8 bits of the 32 bit OTA error word...</div><div class="ttdef"><b>Definition:</b> ota.h:80</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_ga96a2e1f5cfad783897e805196eee39a7"><div class="ttname"><a href="group__ota__enum__types.html#ga96a2e1f5cfad783897e805196eee39a7">OtaJobEvent_t</a></div><div class="ttdeci">OtaJobEvent_t</div><div class="ttdoc">OTA Job callback events.</div><div class="ttdef"><b>Definition:</b> ota.h:168</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_gga7ab3c74dc057383c56c6cb9aa6bf0b2da0c644255eee375cb8e6bd9def0772e02"><div class="ttname"><a href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da0c644255eee375cb8e6bd9def0772e02">OtaErrNone</a></div><div class="ttdeci">@ OtaErrNone</div><div class="ttdoc">No error occurred during the operation.</div><div class="ttdef"><b>Definition:</b> ota.h:81</div></div>
<div class="ttc" id="aota_8c_html_a1764ba9b821dcdb693ec549e8349cc2e"><div class="ttname"><a href="ota_8c.html#a1764ba9b821dcdb693ec549e8349cc2e">OTA_Init</a></div><div class="ttdeci">OtaErr_t OTA_Init(const OtaAppBuffer_t *pOtaBuffer, const OtaInterfaces_t *pOtaInterfaces, const uint8_t *pThingName, OtaAppCallback_t OtaAppCallback)</div><div class="ttdoc">OTA Agent initialization function.</div><div class="ttdef"><b>Definition:</b> ota.c:3295</div></div>
<div class="ttc" id="astruct_ota_app_buffer__t_html"><div class="ttname"><a href="struct_ota_app_buffer__t.html">OtaAppBuffer_t</a></div><div class="ttdoc">OTA Application Buffer size information.</div><div class="ttdef"><b>Definition:</b> ota.h:317</div></div>
<div class="ttc" id="astruct_ota_app_buffer__t_html_a1e8e0cf1e6b1f699409f22a4c03cefd7"><div class="ttname"><a href="struct_ota_app_buffer__t.html#a1e8e0cf1e6b1f699409f22a4c03cefd7">OtaAppBuffer_t::pUpdateFilePath</a></div><div class="ttdeci">uint8_t * pUpdateFilePath</div><div class="ttdoc">Path to store the files.</div><div class="ttdef"><b>Definition:</b> ota.h:318</div></div>
<div class="ttc" id="astruct_ota_event_interface__t_html_a70a33a62828b128cd625c1b13ff8550e"><div class="ttname"><a href="struct_ota_event_interface__t.html#a70a33a62828b128cd625c1b13ff8550e">OtaEventInterface_t::init</a></div><div class="ttdeci">OtaInitEvent_t init</div><div class="ttdoc">Initialization event.</div><div class="ttdef"><b>Definition:</b> ota_os_interface.h:265</div></div>
<div class="ttc" id="astruct_ota_interfaces__t_html"><div class="ttname"><a href="struct_ota_interfaces__t.html">OtaInterfaces_t</a></div><div class="ttdoc">OTA Interface for referencing different components.</div><div class="ttdef"><b>Definition:</b> ota.h:303</div></div>
<div class="ttc" id="astruct_ota_interfaces__t_html_a4309938e333d120eb646b1d24b5f413a"><div class="ttname"><a href="struct_ota_interfaces__t.html#a4309938e333d120eb646b1d24b5f413a">OtaInterfaces_t::os</a></div><div class="ttdeci">OtaOSInterface_t os</div><div class="ttdoc">OS interface to store event, timers and memory operations.</div><div class="ttdef"><b>Definition:</b> ota.h:304</div></div>
<div class="ttc" id="astruct_ota_o_s_interface__t_html_a56b4e42ad807bb4f407f61cca2964016"><div class="ttname"><a href="struct_ota_o_s_interface__t.html#a56b4e42ad807bb4f407f61cca2964016">OtaOSInterface_t::event</a></div><div class="ttdeci">OtaEventInterface_t event</div><div class="ttdoc">OTA Event interface.</div><div class="ttdef"><b>Definition:</b> ota_os_interface.h:309</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ac779291eb93f4e0e6459816e60e13b09" name="ac779291eb93f4e0e6459816e60e13b09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac779291eb93f4e0e6459816e60e13b09">&#9670;&#160;</a></span>OTA_Shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga1cb476a5e0ee81fa486f605e64419dcc">OtaState_t</a> OTA_Shutdown </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ticksToWait</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>unsubscribeFlag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal to the OTA Agent to shut down. </p>
<p>Signals the OTA agent task to shut down. The OTA agent will unsubscribe from all MQTT job notification topics, stop in progress OTA jobs, if any, and clear all resources.</p>
<p>OTA needs a processing task running OTA_EventProcessingTask to handle shutdown event, or OTA will shutdown after the processing task is created and scheduled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ticksToWait</td><td>The number of ticks to wait for the OTA Agent to complete the shutdown process. If this is set to zero, the function will return immediately without waiting. The actual state is returned to the caller. The agent does not sleep for this while but used for busy looping.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">unsubscribeFlag</td><td>Flag to indicate if unsubscribe operations should be performed from the job topics when shutdown is called. If the flag is 0 then unsubscribe operations are not called for job topics If application requires it to be unsubscribed from the job topics then flag must be set to 1 when calling OTA_Shutdown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the OTA agent states from the OtaState_t enum. A normal shutdown will return OtaAgentStateNotReady. Otherwise, refer to the OtaState_t enum for details.</dd></dl>
<p><b>Example</b> </p><div class="fragment"><div class="line"><span class="comment">// ticksToWait used for busy looping until shutdown. Actual delay may depend on the agent priority,</span></div>
<div class="line"><span class="comment">// and platform.</span></div>
<div class="line">uint32_t ticksToWait = 100;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// If it is required that the unsubscribe operations are not</span></div>
<div class="line"><span class="comment">//performed while shutting down set this to 0.</span></div>
<div class="line">uint8_t unsubscribe = 1;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="ota_8c.html#ac779291eb93f4e0e6459816e60e13b09">OTA_Shutdown</a>(ticksToWait, unsubscribe);</div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line">if( <a class="code hl_function" href="ota_8c.html#a6db3f9cb417cb135cb0e68f5b5f2b11f">OTA_GetState</a>() != OtaAgentStateStopped )</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Optional: Disconnect MQTT and HTTP connections</span></div>
<div class="line">    <span class="comment">// required by the OTA agent and other tasks.</span></div>
<div class="line">}</div>
<div class="ttc" id="aota_8c_html_a6db3f9cb417cb135cb0e68f5b5f2b11f"><div class="ttname"><a href="ota_8c.html#a6db3f9cb417cb135cb0e68f5b5f2b11f">OTA_GetState</a></div><div class="ttdeci">OtaState_t OTA_GetState(void)</div><div class="ttdoc">Get the current state of the OTA agent.</div><div class="ttdef"><b>Definition:</b> ota.c:3451</div></div>
<div class="ttc" id="aota_8c_html_ac779291eb93f4e0e6459816e60e13b09"><div class="ttname"><a href="ota_8c.html#ac779291eb93f4e0e6459816e60e13b09">OTA_Shutdown</a></div><div class="ttdeci">OtaState_t OTA_Shutdown(uint32_t ticksToWait, uint8_t unsubscribeFlag)</div><div class="ttdoc">Signal to the OTA Agent to shut down.</div><div class="ttdef"><b>Definition:</b> ota.c:3398</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a6db3f9cb417cb135cb0e68f5b5f2b11f" name="a6db3f9cb417cb135cb0e68f5b5f2b11f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6db3f9cb417cb135cb0e68f5b5f2b11f">&#9670;&#160;</a></span>OTA_GetState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga1cb476a5e0ee81fa486f605e64419dcc">OtaState_t</a> OTA_GetState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current state of the OTA agent. </p>
<dl class="section return"><dt>Returns</dt><dd>The current state of the OTA agent.</dd></dl>
<p><b>Example</b> Check if OTA agent is in suspended state. </p><div class="fragment"><div class="line"><span class="comment">// OTA Agent state</span></div>
<div class="line"><a class="code hl_enumeration" href="group__ota__enum__types.html#ga1cb476a5e0ee81fa486f605e64419dcc">OtaState_t</a> state = <a class="code hl_function" href="ota_8c.html#a6db3f9cb417cb135cb0e68f5b5f2b11f">OTA_GetState</a>();</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">while</span>( state != OtaAgentStateSuspended )</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Do something while the agent is back to</span></div>
<div class="line">    <span class="comment">// the desired state.</span></div>
<div class="line">    state = <a class="code hl_function" href="ota_8c.html#a6db3f9cb417cb135cb0e68f5b5f2b11f">OTA_GetState</a>();</div>
<div class="line">}</div>
<div class="ttc" id="agroup__ota__enum__types_html_ga1cb476a5e0ee81fa486f605e64419dcc"><div class="ttname"><a href="group__ota__enum__types.html#ga1cb476a5e0ee81fa486f605e64419dcc">OtaState_t</a></div><div class="ttdeci">OtaState_t</div><div class="ttdoc">OTA Agent states.</div><div class="ttdef"><b>Definition:</b> ota.h:117</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a63182243ef3c18d5f36cd427b83a1a22" name="a63182243ef3c18d5f36cd427b83a1a22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63182243ef3c18d5f36cd427b83a1a22">&#9670;&#160;</a></span>OTA_GetStatistics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> OTA_GetStatistics </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ota_agent_statistics__t.html">OtaAgentStatistics_t</a> *&#160;</td>
          <td class="paramname"><em>pStatistics</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the statistics of OTA message packets. </p>
<p>Packet statistics are: </p><ul>
<li>
Received: The number of OTA packets that have been received but not necessarily queued for processing by the OTA agent. </li>
<li>
Queued: The number of OTA packets that have been queued for processing. This implies there was a free message queue entry so it can be passed to the agent for processing. </li>
<li>
Processed: The number of OTA packets that have actually been processed. </li>
<li>
Dropped: The number of OTA packets that have been dropped because of either no queue or at shutdown cleanup. </li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Calling <a class="el" href="ota_8c.html#a1764ba9b821dcdb693ec549e8349cc2e">OTA_Init</a> will reset this statistic.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>OtaErrNone if the statistics can be received successfully.</dd></dl>
<p><b>Example</b> </p><div class="fragment"><div class="line"><span class="comment">// OTA library packet statistics per job.</span></div>
<div class="line"><a class="code hl_struct" href="struct_ota_agent_statistics__t.html">OtaAgentStatistics_t</a> otaStatistics = { 0 };</div>
<div class="line"><a class="code hl_enumeration" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> otaErr = <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da0c644255eee375cb8e6bd9def0772e02">OtaErrNone</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Get the current statistics from the agent.</span></div>
<div class="line">otaErr = <a class="code hl_function" href="ota_8c.html#a63182243ef3c18d5f36cd427b83a1a22">OTA_GetStatistics</a>( &amp;otaStatistics );</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span>( otaErr != <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da0c644255eee375cb8e6bd9def0772e02">OtaErrNone</a> )</div>
<div class="line">{</div>
<div class="line">    printf( <span class="stringliteral">&quot; Received: %u   Queued: %u   Processed: %u   Dropped: %u&quot;</span>,</div>
<div class="line">            otaStatistics.<a class="code hl_variable" href="struct_ota_agent_statistics__t.html#a43f7d9b2c6ead8213c6de51d6e65e980">otaPacketsReceived</a>,</div>
<div class="line">            otaStatistics.<a class="code hl_variable" href="struct_ota_agent_statistics__t.html#ab693dddf7707daf3315bc4c23bb4e29a">otaPacketsQueued</a>,</div>
<div class="line">            otaStatistics.<a class="code hl_variable" href="struct_ota_agent_statistics__t.html#adbcf157f4d998bea3bf3c508e37c8437">otaPacketsProcessed</a>,</div>
<div class="line">            otaStatistics.<a class="code hl_variable" href="struct_ota_agent_statistics__t.html#ae644353e00d4a3770bd6400181c5785e">otaPacketsDropped</a> );</div>
<div class="line">}</div>
<div class="ttc" id="aota_8c_html_a63182243ef3c18d5f36cd427b83a1a22"><div class="ttname"><a href="ota_8c.html#a63182243ef3c18d5f36cd427b83a1a22">OTA_GetStatistics</a></div><div class="ttdeci">OtaErr_t OTA_GetStatistics(OtaAgentStatistics_t *pStatistics)</div><div class="ttdoc">Get the statistics of OTA message packets.</div><div class="ttdef"><b>Definition:</b> ota.c:3459</div></div>
<div class="ttc" id="astruct_ota_agent_statistics__t_html"><div class="ttname"><a href="struct_ota_agent_statistics__t.html">OtaAgentStatistics_t</a></div><div class="ttdoc">This is the OTA statistics structure to hold useful info.</div><div class="ttdef"><b>Definition:</b> ota_private.h:294</div></div>
<div class="ttc" id="astruct_ota_agent_statistics__t_html_a43f7d9b2c6ead8213c6de51d6e65e980"><div class="ttname"><a href="struct_ota_agent_statistics__t.html#a43f7d9b2c6ead8213c6de51d6e65e980">OtaAgentStatistics_t::otaPacketsReceived</a></div><div class="ttdeci">uint32_t otaPacketsReceived</div><div class="ttdef"><b>Definition:</b> ota_private.h:295</div></div>
<div class="ttc" id="astruct_ota_agent_statistics__t_html_ab693dddf7707daf3315bc4c23bb4e29a"><div class="ttname"><a href="struct_ota_agent_statistics__t.html#ab693dddf7707daf3315bc4c23bb4e29a">OtaAgentStatistics_t::otaPacketsQueued</a></div><div class="ttdeci">uint32_t otaPacketsQueued</div><div class="ttdef"><b>Definition:</b> ota_private.h:296</div></div>
<div class="ttc" id="astruct_ota_agent_statistics__t_html_adbcf157f4d998bea3bf3c508e37c8437"><div class="ttname"><a href="struct_ota_agent_statistics__t.html#adbcf157f4d998bea3bf3c508e37c8437">OtaAgentStatistics_t::otaPacketsProcessed</a></div><div class="ttdeci">uint32_t otaPacketsProcessed</div><div class="ttdef"><b>Definition:</b> ota_private.h:297</div></div>
<div class="ttc" id="astruct_ota_agent_statistics__t_html_ae644353e00d4a3770bd6400181c5785e"><div class="ttname"><a href="struct_ota_agent_statistics__t.html#ae644353e00d4a3770bd6400181c5785e">OtaAgentStatistics_t::otaPacketsDropped</a></div><div class="ttdeci">uint32_t otaPacketsDropped</div><div class="ttdef"><b>Definition:</b> ota_private.h:298</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a1178e8009eb05e6f55f6506b625c9fc2" name="a1178e8009eb05e6f55f6506b625c9fc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1178e8009eb05e6f55f6506b625c9fc2">&#9670;&#160;</a></span>OTA_CheckForUpdate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> OTA_CheckForUpdate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request for the next available OTA job from the job service. </p>
<dl class="section return"><dt>Returns</dt><dd>OtaErrNone if successful, otherwise an error code prefixed with 'OtaErr' from the list above. </dd></dl>

</div>
</div>
<a id="a5169ba09148e7f5668a90e776e712f8b" name="a5169ba09148e7f5668a90e776e712f8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5169ba09148e7f5668a90e776e712f8b">&#9670;&#160;</a></span>OTA_ActivateNewImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> OTA_ActivateNewImage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activate the newest MCU image received via OTA. </p>
<p>This function should reset the MCU and cause a reboot of the system to execute the newly updated firmware. It should be called by the user code sometime after the OtaJobEventActivate event is passed to the users application via the OTA Job Complete Callback mechanism. Refer to the <a class="el" href="ota_8c.html#a1764ba9b821dcdb693ec549e8349cc2e">OTA_Init</a> function for more information about configuring the callback.</p>
<dl class="section return"><dt>Returns</dt><dd>OtaErrNone if successful, otherwise an error code prefixed with 'OtaErr' from the list above.</dd></dl>
<p><b>Example</b> </p><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> otaAppCallback( <a class="code hl_enumeration" href="group__ota__enum__types.html#ga96a2e1f5cfad783897e805196eee39a7">OtaJobEvent_t</a> event,</div>
<div class="line">                            <span class="keyword">const</span> <span class="keywordtype">void</span> * pData )</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_enumeration" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> otaErr = <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da0c644255eee375cb8e6bd9def0772e02">OtaErrNone</a>;</div>
<div class="line">    <span class="keywordflow">if</span>( event == <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga96a2e1f5cfad783897e805196eee39a7aaf02fd22119771d2980c7af439fa3280">OtaJobEventActivate</a> )</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Activate the new firmware image.</span></div>
<div class="line">        <span class="comment">// This calls the platform specific code required to</span></div>
<div class="line">        <span class="comment">// activate the received OTA update firmware.</span></div>
<div class="line">        otaErr = <a class="code hl_function" href="ota_8c.html#a5169ba09148e7f5668a90e776e712f8b">OTA_ActivateNewImage</a>();</div>
<div class="line">        <span class="keywordflow">if</span>( otaErr == <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2daf5d3845d8b68e0c91cff60d2a38a2678">OtaErrActivateFailed</a> )</div>
<div class="line">        {</div>
<div class="line">             <span class="comment">// Handle Image activation failure by requesting manual response, sending</span></div>
<div class="line">             <span class="comment">// error logs or retrying activation.</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Handle other events</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__ota__enum__types_html_gga7ab3c74dc057383c56c6cb9aa6bf0b2daf5d3845d8b68e0c91cff60d2a38a2678"><div class="ttname"><a href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2daf5d3845d8b68e0c91cff60d2a38a2678">OtaErrActivateFailed</a></div><div class="ttdeci">@ OtaErrActivateFailed</div><div class="ttdoc">Failed to activate the new image.</div><div class="ttdef"><b>Definition:</b> ota.h:103</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_gga96a2e1f5cfad783897e805196eee39a7aaf02fd22119771d2980c7af439fa3280"><div class="ttname"><a href="group__ota__enum__types.html#gga96a2e1f5cfad783897e805196eee39a7aaf02fd22119771d2980c7af439fa3280">OtaJobEventActivate</a></div><div class="ttdeci">@ OtaJobEventActivate</div><div class="ttdoc">OTA receive is authenticated and ready to activate.</div><div class="ttdef"><b>Definition:</b> ota.h:169</div></div>
<div class="ttc" id="aota_8c_html_a5169ba09148e7f5668a90e776e712f8b"><div class="ttname"><a href="ota_8c.html#a5169ba09148e7f5668a90e776e712f8b">OTA_ActivateNewImage</a></div><div class="ttdeci">OtaErr_t OTA_ActivateNewImage(void)</div><div class="ttdoc">Activate the newest MCU image received via OTA.</div><div class="ttdef"><b>Definition:</b> ota.c:3500</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ab68cdf65934474e1f3d2cd1046314bea" name="ab68cdf65934474e1f3d2cd1046314bea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab68cdf65934474e1f3d2cd1046314bea">&#9670;&#160;</a></span>OTA_SetImageState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> OTA_SetImageState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__enum__types.html#gad4909faa8b9c8672e7f7bef1bc6b5b84">OtaImageState_t</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the state of the current MCU image. </p>
<p>The states are OtaImageStateTesting, OtaImageStateAccepted, OtaImageStateAborted or OtaImageStateRejected; see OtaImageState_t documentation. This will update the status of the current image and publish to the active job status topic.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>The state to set of the OTA image.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OtaErrNone if successful, otherwise an error code prefixed with 'OtaErr' from the list above.</dd></dl>
<p><b>Example</b> Set image state to reflect new image is accepted in application callback.</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> otaAppCallback( <a class="code hl_enumeration" href="group__ota__enum__types.html#ga96a2e1f5cfad783897e805196eee39a7">OtaJobEvent_t</a> event,</div>
<div class="line">                            <span class="keyword">const</span> <span class="keywordtype">void</span> * pData )</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_enumeration" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> otaErr = <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da0c644255eee375cb8e6bd9def0772e02">OtaErrNone</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( event == <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga96a2e1f5cfad783897e805196eee39a7a04e2c9b7143d34f63905cd052bf9763b">OtaJobEventStartTest</a> )</div>
<div class="line">    {</div>
<div class="line">        err = <a class="code hl_function" href="ota_8c.html#ab68cdf65934474e1f3d2cd1046314bea">OTA_SetImageState</a>( <a class="code hl_enumvalue" href="group__ota__enum__types.html#ggad4909faa8b9c8672e7f7bef1bc6b5b84ad9ee33052c9c36593243b1bd0329a396">OtaImageStateAccepted</a> );</div>
<div class="line">        <span class="keywordflow">if</span>( err != <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da0c644255eee375cb8e6bd9def0772e02">OtaErrNone</a> )</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Handle failure or retry setting the image state.</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Handle other events</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__ota__enum__types_html_gga96a2e1f5cfad783897e805196eee39a7a04e2c9b7143d34f63905cd052bf9763b"><div class="ttname"><a href="group__ota__enum__types.html#gga96a2e1f5cfad783897e805196eee39a7a04e2c9b7143d34f63905cd052bf9763b">OtaJobEventStartTest</a></div><div class="ttdeci">@ OtaJobEventStartTest</div><div class="ttdoc">OTA job is now in self test, perform user tests.</div><div class="ttdef"><b>Definition:</b> ota.h:171</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_ggad4909faa8b9c8672e7f7bef1bc6b5b84ad9ee33052c9c36593243b1bd0329a396"><div class="ttname"><a href="group__ota__enum__types.html#ggad4909faa8b9c8672e7f7bef1bc6b5b84ad9ee33052c9c36593243b1bd0329a396">OtaImageStateAccepted</a></div><div class="ttdeci">@ OtaImageStateAccepted</div><div class="ttdoc">The state of the OTA MCU Image post successful download and successful self_test.</div><div class="ttdef"><b>Definition:</b> ota_private.h:320</div></div>
<div class="ttc" id="aota_8c_html_ab68cdf65934474e1f3d2cd1046314bea"><div class="ttname"><a href="ota_8c.html#ab68cdf65934474e1f3d2cd1046314bea">OTA_SetImageState</a></div><div class="ttdeci">OtaErr_t OTA_SetImageState(OtaImageState_t state)</div><div class="ttdoc">Set the state of the current MCU image.</div><div class="ttdef"><b>Definition:</b> ota.c:3536</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a9c5b25f9a7eff3ded8cdf088c2011742" name="a9c5b25f9a7eff3ded8cdf088c2011742"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c5b25f9a7eff3ded8cdf088c2011742">&#9670;&#160;</a></span>OTA_GetImageState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#gad4909faa8b9c8672e7f7bef1bc6b5b84">OtaImageState_t</a> OTA_GetImageState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the state of the currently running MCU image. </p>
<p>The states are OtaImageStateTesting, OtaImageStateAccepted, OtaImageStateAborted or OtaImageStateRejected; see OtaImageState_t documentation.</p>
<dl class="section return"><dt>Returns</dt><dd>The state of the current context's OTA image. </dd></dl>

</div>
</div>
<a id="a65b61ae5dd477e8b2e6c88ea0473c62b" name="a65b61ae5dd477e8b2e6c88ea0473c62b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65b61ae5dd477e8b2e6c88ea0473c62b">&#9670;&#160;</a></span>OTA_Suspend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> OTA_Suspend </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Suspend OTA agent operations . </p>
<dl class="section return"><dt>Returns</dt><dd>OtaErrNone if successful, otherwise an error code prefixed with 'OtaErr' from the list above.</dd></dl>
<p><b>Example</b> Suspend the OTA agent when a network error occurs. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> handleNetworkErrors()</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_enumeration" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> otaErr = <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da0c644255eee375cb8e6bd9def0772e02">OtaErrNone</a>;</div>
<div class="line">    int16_t suspendTimeout = 5000U;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Handle disconnects and other network reset operations</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Suspend OTA operations.</span></div>
<div class="line">    otaErr = <a class="code hl_function" href="ota_8c.html#a65b61ae5dd477e8b2e6c88ea0473c62b">OTA_Suspend</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( otaErr != <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da0c644255eee375cb8e6bd9def0772e02">OtaErrNone</a> )</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Suspend may fail due to Event queue failure,</span></div>
<div class="line">        <span class="comment">// or if the agent has shut down, handle the failure by</span></div>
<div class="line">        <span class="comment">// sending logs or retrying OTA_Suspend().</span></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">while</span>( ( ( <a class="code hl_function" href="ota_8c.html#a6db3f9cb417cb135cb0e68f5b5f2b11f">OTA_GetState</a>() != OtaAgentStateSuspended )</div>
<div class="line">                &amp;&amp; ( suspendTimeout &gt; 0 ) )</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Wait for OTA Library state to suspend</span></div>
<div class="line">            portSleep( 1000U );</div>
<div class="line">            suspendTimeout -= 1000U;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span>( <a class="code hl_function" href="ota_8c.html#a6db3f9cb417cb135cb0e68f5b5f2b11f">OTA_GetState</a>() != OtaAgentStateSuspended )</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Handle Suspend failure or Retry OTA_Suspend().</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aota_8c_html_a65b61ae5dd477e8b2e6c88ea0473c62b"><div class="ttname"><a href="ota_8c.html#a65b61ae5dd477e8b2e6c88ea0473c62b">OTA_Suspend</a></div><div class="ttdeci">OtaErr_t OTA_Suspend(void)</div><div class="ttdoc">Suspend OTA agent operations .</div><div class="ttdef"><b>Definition:</b> ota.c:3601</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ae9d40388ac87e4ac93288de37c98a138" name="ae9d40388ac87e4ac93288de37c98a138"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9d40388ac87e4ac93288de37c98a138">&#9670;&#160;</a></span>OTA_Resume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> OTA_Resume </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resume OTA agent operations . </p>
<dl class="section return"><dt>Returns</dt><dd>OtaErrNone if successful, otherwise an error code prefixed with 'OtaErr' from the list above.</dd></dl>
<p><b>Example</b> Resume the OTA agent after the network errors are resolved. </p><div class="fragment"><div class="line"><span class="keywordtype">bool</span> handleReconnect()</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// OTA event message used for sending event to OTA Agent.</span></div>
<div class="line">    <a class="code hl_struct" href="struct_ota_event_msg__t.html">OtaEventMsg_t</a> eventMsg = { 0 };</div>
<div class="line">    <a class="code hl_enumeration" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a> otaErr = <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da0c1dd94b8875896b0a9dd383ba239774">OtaErrUninitialized</a>;</div>
<div class="line">    <span class="keywordtype">bool</span> returnStatus = establishConnection();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( returnStatus == EXIT_SUCCESS )</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Check if OTA process was suspended and resume if required.</span></div>
<div class="line">        <span class="keywordflow">if</span>( <a class="code hl_function" href="ota_8c.html#a6db3f9cb417cb135cb0e68f5b5f2b11f">OTA_GetState</a>() == OtaAgentStateSuspended )</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Resume OTA operations.</span></div>
<div class="line">            otaErr = <a class="code hl_function" href="ota_8c.html#ae9d40388ac87e4ac93288de37c98a138">OTA_Resume</a>();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Send start event to OTA Agent.</span></div>
<div class="line">            eventMsg.<a class="code hl_variable" href="struct_ota_event_msg__t.html#a065656c53757f9f78f5ddfc5b25e77f8">eventId</a> = <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4eac965db79301fabd43971f2ad050d782c">OtaAgentEventStart</a>;</div>
<div class="line">            <a class="code hl_function" href="ota_8c.html#a2564144f284db077b8947ba58a6a72bb">OTA_SignalEvent</a>( &amp;eventMsg );</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>( otaErr != <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da0c644255eee375cb8e6bd9def0772e02">OtaErrNone</a> )</div>
<div class="line">            returnStatus = <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> returnStatus;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__ota__enum__types_html_gga2c42c25235304ca5c3e3a6abef78be4eac965db79301fabd43971f2ad050d782c"><div class="ttname"><a href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4eac965db79301fabd43971f2ad050d782c">OtaAgentEventStart</a></div><div class="ttdeci">@ OtaAgentEventStart</div><div class="ttdoc">Start the OTA state machine.</div><div class="ttdef"><b>Definition:</b> ota_private.h:349</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_gga7ab3c74dc057383c56c6cb9aa6bf0b2da0c1dd94b8875896b0a9dd383ba239774"><div class="ttname"><a href="group__ota__enum__types.html#gga7ab3c74dc057383c56c6cb9aa6bf0b2da0c1dd94b8875896b0a9dd383ba239774">OtaErrUninitialized</a></div><div class="ttdeci">@ OtaErrUninitialized</div><div class="ttdoc">The error code has not yet been set by a logic path.</div><div class="ttdef"><b>Definition:</b> ota.h:82</div></div>
<div class="ttc" id="aota_8c_html_ae9d40388ac87e4ac93288de37c98a138"><div class="ttname"><a href="ota_8c.html#ae9d40388ac87e4ac93288de37c98a138">OTA_Resume</a></div><div class="ttdeci">OtaErr_t OTA_Resume(void)</div><div class="ttdoc">Resume OTA agent operations .</div><div class="ttdef"><b>Definition:</b> ota.c:3637</div></div>
<div class="ttc" id="astruct_ota_event_msg__t_html"><div class="ttname"><a href="struct_ota_event_msg__t.html">OtaEventMsg_t</a></div><div class="ttdoc">Stores information about the event message.</div><div class="ttdef"><b>Definition:</b> ota_private.h:433</div></div>
<div class="ttc" id="astruct_ota_event_msg__t_html_a065656c53757f9f78f5ddfc5b25e77f8"><div class="ttname"><a href="struct_ota_event_msg__t.html#a065656c53757f9f78f5ddfc5b25e77f8">OtaEventMsg_t::eventId</a></div><div class="ttdeci">OtaEvent_t eventId</div><div class="ttdef"><b>Definition:</b> ota_private.h:435</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a39a9b75e749cf89593c4cf411327ce47" name="a39a9b75e749cf89593c4cf411327ce47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39a9b75e749cf89593c4cf411327ce47">&#9670;&#160;</a></span>OTA_Err_strerror()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * OTA_Err_strerror </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__enum__types.html#ga7ab3c74dc057383c56c6cb9aa6bf0b2d">OtaErr_t</a>&#160;</td>
          <td class="paramname"><em>err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Error code to string conversion for OTA errors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">err</td><td>The error to convert to a string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The string representation of the error. </dd></dl>

</div>
</div>
<a id="aaf68d300d6ff9a8b4728b3d9e5f52b6d" name="aaf68d300d6ff9a8b4728b3d9e5f52b6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf68d300d6ff9a8b4728b3d9e5f52b6d">&#9670;&#160;</a></span>OTA_JobParse_strerror()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * OTA_JobParse_strerror </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__enum__types.html#gab8e370b46d0ae5d51879710d533a7314">OtaJobParseErr_t</a>&#160;</td>
          <td class="paramname"><em>err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Error code to string conversion for OTA Job Parsing errors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">err</td><td>The error to convert to a string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The string representation of the error. </dd></dl>

</div>
</div>
<a id="a4951f4bb1bfbb7312850454ca2b282a4" name="a4951f4bb1bfbb7312850454ca2b282a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4951f4bb1bfbb7312850454ca2b282a4">&#9670;&#160;</a></span>OTA_OsStatus_strerror()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * OTA_OsStatus_strerror </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__enum__types.html#gaececff6c0dd8ba4d884544571bd368e7">OtaOsStatus_t</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Status code to string conversion for OTA OS status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>The status to convert to a string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The string representation of the status. </dd></dl>

</div>
</div>
<a id="a5a58be1ac41b7d619eeeb4861be37c89" name="a5a58be1ac41b7d619eeeb4861be37c89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a58be1ac41b7d619eeeb4861be37c89">&#9670;&#160;</a></span>OTA_PalStatus_strerror()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * OTA_PalStatus_strerror </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__constants.html#gac5c3148205ee4a0cac4246b2c7797765">OtaPalMainStatus_t</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Status code to string conversion for OTA PAL status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>The status to convert to a string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The string representation of the status. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="af42d1da71846150bb2cdb2238fe861c0" name="af42d1da71846150bb2cdb2238fe861c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af42d1da71846150bb2cdb2238fe861c0">&#9670;&#160;</a></span>otaAgent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_ota_agent_context__t.html">OtaAgentContext_t</a> otaAgent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    OtaAgentStateStopped, </div>
<div class="line">    { 0 },                </div>
<div class="line">    { 0 },                </div>
<div class="line">    0,                    </div>
<div class="line">    0,                    </div>
<div class="line">    { 0 },                </div>
<div class="line">    NULL,                 </div>
<div class="line">    0,                    </div>
<div class="line">    <a class="code hl_enumvalue" href="group__ota__enum__types.html#ggad4909faa8b9c8672e7f7bef1bc6b5b84afb051298f888e18cfeb7fd1b1986cb9a">OtaImageStateUnknown</a>, </div>
<div class="line">    1,                    </div>
<div class="line">    { 0 },                </div>
<div class="line">    0,                    </div>
<div class="line">    NULL,                 </div>
<div class="line">    NULL,                 </div>
<div class="line">    1,                    </div>
<div class="line">    0                     </div>
<div class="line">}</div>
<div class="ttc" id="agroup__ota__enum__types_html_ggad4909faa8b9c8672e7f7bef1bc6b5b84afb051298f888e18cfeb7fd1b1986cb9a"><div class="ttname"><a href="group__ota__enum__types.html#ggad4909faa8b9c8672e7f7bef1bc6b5b84afb051298f888e18cfeb7fd1b1986cb9a">OtaImageStateUnknown</a></div><div class="ttdeci">@ OtaImageStateUnknown</div><div class="ttdoc">The initial state of the OTA MCU Image.</div><div class="ttdef"><b>Definition:</b> ota_private.h:318</div></div>
</div><!-- fragment -->
<p>This is THE OTA agent context and initialization state. </p>

</div>
</div>
<a id="a115d71f205e185e9b7031ba49de411da" name="a115d71f205e185e9b7031ba49de411da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a115d71f205e185e9b7031ba49de411da">&#9670;&#160;</a></span>otaTransitionTable</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_ota_state_table_entry__t.html">OtaStateTableEntry_t</a> otaTransitionTable[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    </div>
<div class="line">    { OtaAgentStateReady,               <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4eac965db79301fabd43971f2ad050d782c">OtaAgentEventStart</a>,               <a class="code hl_function" href="ota_8c.html#adc05572b247887937398695a7ae22428">startHandler</a>,           OtaAgentStateRequestingJob       },</div>
<div class="line">    { OtaAgentStateRequestingJob,       <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ea50831130508ed232d604aee5cf8999e3">OtaAgentEventRequestJobDocument</a>,  <a class="code hl_function" href="ota_8c.html#acfd737a3f8be41849474d97ddbe695a6">requestJobHandler</a>,      OtaAgentStateWaitingForJob       },</div>
<div class="line">    { OtaAgentStateRequestingJob,       <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ead424034a3d0a53c719c3dfcf110aedbb">OtaAgentEventRequestTimer</a>,        <a class="code hl_function" href="ota_8c.html#acfd737a3f8be41849474d97ddbe695a6">requestJobHandler</a>,      OtaAgentStateWaitingForJob       },</div>
<div class="line">    { OtaAgentStateWaitingForJob,       <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ea593ee44d9ab623f9c9010603fcb7bca3">OtaAgentEventReceivedJobDocument</a>, <a class="code hl_function" href="ota_8c.html#a32593607464529ebfbf759706f26738e">processJobHandler</a>,      OtaAgentStateCreatingFile        },</div>
<div class="line">    { OtaAgentStateCreatingFile,        <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4eaeab0f855ccec790d94ac1e295256526e">OtaAgentEventStartSelfTest</a>,       <a class="code hl_function" href="ota_8c.html#acad9250775186fe3986c5ccd72c8942d">inSelfTestHandler</a>,      OtaAgentStateWaitingForJob       },</div>
<div class="line">    { OtaAgentStateCreatingFile,        <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ea9ff4b58dab8e17eca36163959ac02395">OtaAgentEventCreateFile</a>,          <a class="code hl_function" href="ota_8c.html#a4d439e624b33eae921f10e515d029987">initFileHandler</a>,        OtaAgentStateRequestingFileBlock },</div>
<div class="line">    { OtaAgentStateCreatingFile,        <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ead424034a3d0a53c719c3dfcf110aedbb">OtaAgentEventRequestTimer</a>,        <a class="code hl_function" href="ota_8c.html#a4d439e624b33eae921f10e515d029987">initFileHandler</a>,        OtaAgentStateRequestingFileBlock },</div>
<div class="line">    { OtaAgentStateRequestingFileBlock, <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ead88894cbefd4b61cc2049e495e52cad1">OtaAgentEventRequestFileBlock</a>,    <a class="code hl_function" href="ota_8c.html#a4c051ef9cabbefca475b1c63e31a2c2c">requestDataHandler</a>,     OtaAgentStateWaitingForFileBlock },</div>
<div class="line">    { OtaAgentStateRequestingFileBlock, <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ead424034a3d0a53c719c3dfcf110aedbb">OtaAgentEventRequestTimer</a>,        <a class="code hl_function" href="ota_8c.html#a4c051ef9cabbefca475b1c63e31a2c2c">requestDataHandler</a>,     OtaAgentStateWaitingForFileBlock },</div>
<div class="line">    { OtaAgentStateWaitingForFileBlock, <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ea79ef0fd4aaffd57dd5af6ef646a70f11">OtaAgentEventReceivedFileBlock</a>,   <a class="code hl_function" href="ota_8c.html#a16eafd6185711b5016056603e0a42501">processDataHandler</a>,     OtaAgentStateWaitingForFileBlock },</div>
<div class="line">    { OtaAgentStateWaitingForFileBlock, <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ead424034a3d0a53c719c3dfcf110aedbb">OtaAgentEventRequestTimer</a>,        <a class="code hl_function" href="ota_8c.html#a4c051ef9cabbefca475b1c63e31a2c2c">requestDataHandler</a>,     OtaAgentStateWaitingForFileBlock },</div>
<div class="line">    { OtaAgentStateWaitingForFileBlock, <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ead88894cbefd4b61cc2049e495e52cad1">OtaAgentEventRequestFileBlock</a>,    <a class="code hl_function" href="ota_8c.html#a4c051ef9cabbefca475b1c63e31a2c2c">requestDataHandler</a>,     OtaAgentStateWaitingForFileBlock },</div>
<div class="line">    { OtaAgentStateWaitingForFileBlock, <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ea50831130508ed232d604aee5cf8999e3">OtaAgentEventRequestJobDocument</a>,  <a class="code hl_function" href="ota_8c.html#acfd737a3f8be41849474d97ddbe695a6">requestJobHandler</a>,      OtaAgentStateWaitingForJob       },</div>
<div class="line">    { OtaAgentStateWaitingForFileBlock, <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ea593ee44d9ab623f9c9010603fcb7bca3">OtaAgentEventReceivedJobDocument</a>, <a class="code hl_function" href="ota_8c.html#a59ee2cfa7669b761f5dfd4dbee7545f8">jobNotificationHandler</a>, OtaAgentStateRequestingJob       },</div>
<div class="line">    { OtaAgentStateWaitingForFileBlock, <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4eacb6862078f37cb276c7c4429a16593fe">OtaAgentEventCloseFile</a>,           <a class="code hl_function" href="ota_8c.html#a858c721e7cd210b915a41d74c7e47d6f">closeFileHandler</a>,       OtaAgentStateWaitingForJob       },</div>
<div class="line">    { OtaAgentStateSuspended,           <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4eaf1e3cb59f2e70908e121c218c27c1fe9">OtaAgentEventResume</a>,              <a class="code hl_function" href="ota_8c.html#af0188eca0c85dcac5fed956f21d9207c">resumeHandler</a>,          OtaAgentStateRequestingJob       },</div>
<div class="line">    { OtaAgentStateAll,                 <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ead2c2503cc33bf8309c28618897f8fcdd">OtaAgentEventSuspend</a>,             <a class="code hl_function" href="ota_8c.html#abbda282e0291623cf680da11e58f0808">suspendHandler</a>,         OtaAgentStateSuspended           },</div>
<div class="line">    { OtaAgentStateAll,                 <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ea92146829f7a9aaccefc0d0d96daef50b">OtaAgentEventUserAbort</a>,           <a class="code hl_function" href="ota_8c.html#a8cf09d8207b0c6a8f8aa118483a4aef0">userAbortHandler</a>,       OtaAgentStateWaitingForJob       },</div>
<div class="line">    { OtaAgentStateAll,                 <a class="code hl_enumvalue" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ead02ce67dfb7d99810979ec659813f89b">OtaAgentEventShutdown</a>,            <a class="code hl_function" href="ota_8c.html#adc27b49696f1562fd90a031d9d59c129">shutdownHandler</a>,        OtaAgentStateStopped             },</div>
<div class="line">}</div>
<div class="ttc" id="agroup__ota__enum__types_html_gga2c42c25235304ca5c3e3a6abef78be4ea50831130508ed232d604aee5cf8999e3"><div class="ttname"><a href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ea50831130508ed232d604aee5cf8999e3">OtaAgentEventRequestJobDocument</a></div><div class="ttdeci">@ OtaAgentEventRequestJobDocument</div><div class="ttdoc">Event for requesting job document.</div><div class="ttdef"><b>Definition:</b> ota_private.h:351</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_gga2c42c25235304ca5c3e3a6abef78be4ea593ee44d9ab623f9c9010603fcb7bca3"><div class="ttname"><a href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ea593ee44d9ab623f9c9010603fcb7bca3">OtaAgentEventReceivedJobDocument</a></div><div class="ttdeci">@ OtaAgentEventReceivedJobDocument</div><div class="ttdoc">Event when job document is received.</div><div class="ttdef"><b>Definition:</b> ota_private.h:352</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_gga2c42c25235304ca5c3e3a6abef78be4ea92146829f7a9aaccefc0d0d96daef50b"><div class="ttname"><a href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ea92146829f7a9aaccefc0d0d96daef50b">OtaAgentEventUserAbort</a></div><div class="ttdeci">@ OtaAgentEventUserAbort</div><div class="ttdoc">Event triggered by user to stop agent.</div><div class="ttdef"><b>Definition:</b> ota_private.h:360</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_gga2c42c25235304ca5c3e3a6abef78be4ea9ff4b58dab8e17eca36163959ac02395"><div class="ttname"><a href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ea9ff4b58dab8e17eca36163959ac02395">OtaAgentEventCreateFile</a></div><div class="ttdeci">@ OtaAgentEventCreateFile</div><div class="ttdoc">Event to create a file.</div><div class="ttdef"><b>Definition:</b> ota_private.h:353</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_gga2c42c25235304ca5c3e3a6abef78be4eacb6862078f37cb276c7c4429a16593fe"><div class="ttname"><a href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4eacb6862078f37cb276c7c4429a16593fe">OtaAgentEventCloseFile</a></div><div class="ttdeci">@ OtaAgentEventCloseFile</div><div class="ttdoc">Event to trigger closing file.</div><div class="ttdef"><b>Definition:</b> ota_private.h:357</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_gga2c42c25235304ca5c3e3a6abef78be4ead02ce67dfb7d99810979ec659813f89b"><div class="ttname"><a href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ead02ce67dfb7d99810979ec659813f89b">OtaAgentEventShutdown</a></div><div class="ttdeci">@ OtaAgentEventShutdown</div><div class="ttdoc">Event to trigger ota shutdown.</div><div class="ttdef"><b>Definition:</b> ota_private.h:361</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_gga2c42c25235304ca5c3e3a6abef78be4ead2c2503cc33bf8309c28618897f8fcdd"><div class="ttname"><a href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ead2c2503cc33bf8309c28618897f8fcdd">OtaAgentEventSuspend</a></div><div class="ttdeci">@ OtaAgentEventSuspend</div><div class="ttdoc">Event to suspend ota task.</div><div class="ttdef"><b>Definition:</b> ota_private.h:358</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_gga2c42c25235304ca5c3e3a6abef78be4ead424034a3d0a53c719c3dfcf110aedbb"><div class="ttname"><a href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ead424034a3d0a53c719c3dfcf110aedbb">OtaAgentEventRequestTimer</a></div><div class="ttdeci">@ OtaAgentEventRequestTimer</div><div class="ttdoc">Event to request event timer.</div><div class="ttdef"><b>Definition:</b> ota_private.h:356</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_gga2c42c25235304ca5c3e3a6abef78be4ead88894cbefd4b61cc2049e495e52cad1"><div class="ttname"><a href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ead88894cbefd4b61cc2049e495e52cad1">OtaAgentEventRequestFileBlock</a></div><div class="ttdeci">@ OtaAgentEventRequestFileBlock</div><div class="ttdoc">Event to request file blocks.</div><div class="ttdef"><b>Definition:</b> ota_private.h:354</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_gga2c42c25235304ca5c3e3a6abef78be4eaeab0f855ccec790d94ac1e295256526e"><div class="ttname"><a href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4eaeab0f855ccec790d94ac1e295256526e">OtaAgentEventStartSelfTest</a></div><div class="ttdeci">@ OtaAgentEventStartSelfTest</div><div class="ttdoc">Event to trigger self test.</div><div class="ttdef"><b>Definition:</b> ota_private.h:350</div></div>
<div class="ttc" id="agroup__ota__enum__types_html_gga2c42c25235304ca5c3e3a6abef78be4eaf1e3cb59f2e70908e121c218c27c1fe9"><div class="ttname"><a href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4eaf1e3cb59f2e70908e121c218c27c1fe9">OtaAgentEventResume</a></div><div class="ttdeci">@ OtaAgentEventResume</div><div class="ttdoc">Event to resume suspended task.</div><div class="ttdef"><b>Definition:</b> ota_private.h:359</div></div>
<div class="ttc" id="aota_8c_html_a16eafd6185711b5016056603e0a42501"><div class="ttname"><a href="ota_8c.html#a16eafd6185711b5016056603e0a42501">processDataHandler</a></div><div class="ttdeci">static OtaErr_t processDataHandler(const OtaEventData_t *pEventData)</div><div class="ttdef"><b>Definition:</b> ota.c:1195</div></div>
<div class="ttc" id="aota_8c_html_a32593607464529ebfbf759706f26738e"><div class="ttname"><a href="ota_8c.html#a32593607464529ebfbf759706f26738e">processJobHandler</a></div><div class="ttdeci">static OtaErr_t processJobHandler(const OtaEventData_t *pEventData)</div><div class="ttdef"><b>Definition:</b> ota.c:1006</div></div>
<div class="ttc" id="aota_8c_html_a4c051ef9cabbefca475b1c63e31a2c2c"><div class="ttname"><a href="ota_8c.html#a4c051ef9cabbefca475b1c63e31a2c2c">requestDataHandler</a></div><div class="ttdeci">static OtaErr_t requestDataHandler(const OtaEventData_t *pEventData)</div><div class="ttdef"><b>Definition:</b> ota.c:1116</div></div>
<div class="ttc" id="aota_8c_html_a4d439e624b33eae921f10e515d029987"><div class="ttname"><a href="ota_8c.html#a4d439e624b33eae921f10e515d029987">initFileHandler</a></div><div class="ttdeci">static OtaErr_t initFileHandler(const OtaEventData_t *pEventData)</div><div class="ttdef"><b>Definition:</b> ota.c:1045</div></div>
<div class="ttc" id="aota_8c_html_a59ee2cfa7669b761f5dfd4dbee7545f8"><div class="ttname"><a href="ota_8c.html#a59ee2cfa7669b761f5dfd4dbee7545f8">jobNotificationHandler</a></div><div class="ttdeci">static OtaErr_t jobNotificationHandler(const OtaEventData_t *pEventData)</div><div class="ttdef"><b>Definition:</b> ota.c:1415</div></div>
<div class="ttc" id="aota_8c_html_a858c721e7cd210b915a41d74c7e47d6f"><div class="ttname"><a href="ota_8c.html#a858c721e7cd210b915a41d74c7e47d6f">closeFileHandler</a></div><div class="ttdeci">static OtaErr_t closeFileHandler(const OtaEventData_t *pEventData)</div><div class="ttdef"><b>Definition:</b> ota.c:1328</div></div>
<div class="ttc" id="aota_8c_html_a8cf09d8207b0c6a8f8aa118483a4aef0"><div class="ttname"><a href="ota_8c.html#a8cf09d8207b0c6a8f8aa118483a4aef0">userAbortHandler</a></div><div class="ttdeci">static OtaErr_t userAbortHandler(const OtaEventData_t *pEventData)</div><div class="ttdef"><b>Definition:</b> ota.c:1341</div></div>
<div class="ttc" id="aota_8c_html_abbda282e0291623cf680da11e58f0808"><div class="ttname"><a href="ota_8c.html#abbda282e0291623cf680da11e58f0808">suspendHandler</a></div><div class="ttdeci">static OtaErr_t suspendHandler(const OtaEventData_t *pEventData)</div><div class="ttdef"><b>Definition:</b> ota.c:1391</div></div>
<div class="ttc" id="aota_8c_html_acad9250775186fe3986c5ccd72c8942d"><div class="ttname"><a href="ota_8c.html#acad9250775186fe3986c5ccd72c8942d">inSelfTestHandler</a></div><div class="ttdeci">static OtaErr_t inSelfTestHandler(const OtaEventData_t *pEventData)</div><div class="ttdef"><b>Definition:</b> ota.c:814</div></div>
<div class="ttc" id="aota_8c_html_acfd737a3f8be41849474d97ddbe695a6"><div class="ttname"><a href="ota_8c.html#acfd737a3f8be41849474d97ddbe695a6">requestJobHandler</a></div><div class="ttdeci">static OtaErr_t requestJobHandler(const OtaEventData_t *pEventData)</div><div class="ttdef"><b>Definition:</b> ota.c:856</div></div>
<div class="ttc" id="aota_8c_html_adc05572b247887937398695a7ae22428"><div class="ttname"><a href="ota_8c.html#adc05572b247887937398695a7ae22428">startHandler</a></div><div class="ttdeci">static OtaErr_t startHandler(const OtaEventData_t *pEventData)</div><div class="ttdef"><b>Definition:</b> ota.c:787</div></div>
<div class="ttc" id="aota_8c_html_adc27b49696f1562fd90a031d9d59c129"><div class="ttname"><a href="ota_8c.html#adc27b49696f1562fd90a031d9d59c129">shutdownHandler</a></div><div class="ttdeci">static OtaErr_t shutdownHandler(const OtaEventData_t *pEventData)</div><div class="ttdef"><b>Definition:</b> ota.c:1365</div></div>
<div class="ttc" id="aota_8c_html_af0188eca0c85dcac5fed956f21d9207c"><div class="ttname"><a href="ota_8c.html#af0188eca0c85dcac5fed956f21d9207c">resumeHandler</a></div><div class="ttdeci">static OtaErr_t resumeHandler(const OtaEventData_t *pEventData)</div><div class="ttdef"><b>Definition:</b> ota.c:1401</div></div>
</div><!-- fragment -->
<p>Transition table for the OTA state machine. </p>

</div>
</div>
<a id="a35bd11f5108d7e9e4f97f147b12a8c92" name="a35bd11f5108d7e9e4f97f147b12a8c92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35bd11f5108d7e9e4f97f147b12a8c92">&#9670;&#160;</a></span>pOtaAgentStateStrings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* pOtaAgentStateStrings[OtaAgentStateAll+1]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;Init&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;Ready&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;RequestingJob&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;WaitingForJob&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;CreatingFile&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;RequestingFileBlock&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;WaitingForFileBlock&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;ClosingFile&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;Suspended&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;ShuttingDown&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;Stopped&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;All&quot;</span></div>
<div class="line">}</div>
</div><!-- fragment -->
<p>String set to represent the States of the OTA agent. </p>

</div>
</div>
<a id="a427f6b2cde0e2fdd9136c273d0c8fae8" name="a427f6b2cde0e2fdd9136c273d0c8fae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a427f6b2cde0e2fdd9136c273d0c8fae8">&#9670;&#160;</a></span>pOtaEventStrings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* pOtaEventStrings[<a class="el" href="group__ota__enum__types.html#gga2c42c25235304ca5c3e3a6abef78be4ea668f452f3c81c0b76d09921893c7027c">OtaAgentEventMax</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;Start&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;StartSelfTest&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;RequestJobDocument&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;ReceivedJobDocument&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;CreateFile&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;RequestFileBlock&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;ReceivedFileBlock&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;RequestTimer&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;CloseFile&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;Suspend&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;Resume&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;UserAbort&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;Shutdown&quot;</span></div>
<div class="line">}</div>
</div><!-- fragment -->
<p>String set to represent the Events for the OTA agent. </p>

</div>
</div>
<a id="ad483f03f8d49725d5d5cfe9133e86854" name="ad483f03f8d49725d5d5cfe9133e86854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad483f03f8d49725d5d5cfe9133e86854">&#9670;&#160;</a></span>otaJobDocModelParamStructure</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_json_doc_param__t.html">JsonDocParam_t</a> otaJobDocModelParamStructure[<a class="el" href="ota__private_8h.html#a77c1dadee30b8e0beaea17fb8563e218">OTA_NUM_JOB_PARAMS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#ga3d69df69fbdff6811da80020c8afc61a">OTA_JSON_CLIENT_TOKEN_KEY</a>,    <a class="code hl_define" href="group__ota__constants.html#gab4f3b8ca5434b9b02ae4244da5cd2078">OTA_JOB_PARAM_OPTIONAL</a>, <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>,         <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>,  ModelParamTypeStringInDoc },</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#ga625051ce4de218406aad6dd0955f1c73">OTA_JSON_TIMESTAMP_KEY</a>,       <a class="code hl_define" href="group__ota__constants.html#gab4f3b8ca5434b9b02ae4244da5cd2078">OTA_JOB_PARAM_OPTIONAL</a>, <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>,         <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>,  ModelParamTypeUInt32      },</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#ga4d831064bb7ea8bae1df86e1b77eaab6">OTA_JSON_EXECUTION_KEY</a>,       <a class="code hl_define" href="group__ota__constants.html#ga716173ece0b83fdc783798bdf2cf5715">OTA_JOB_PARAM_REQUIRED</a>, <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>,         <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>,  ModelParamTypeObject      },</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#ga44138af02a7ed130ff630788cbaf1c27">OTA_JSON_JOB_ID_KEY</a>,          <a class="code hl_define" href="group__ota__constants.html#ga716173ece0b83fdc783798bdf2cf5715">OTA_JOB_PARAM_REQUIRED</a>, <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, pJobName ),            <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, jobNameMaxSize ), ModelParamTypeStringCopy},</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#ga6a6b266874ad73e248d840643616325c">OTA_JSON_STATUS_DETAILS_KEY</a>,  <a class="code hl_define" href="group__ota__constants.html#gab4f3b8ca5434b9b02ae4244da5cd2078">OTA_JOB_PARAM_OPTIONAL</a>, <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>,         <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>,  ModelParamTypeObject      },</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#gaf7c64cc7a2f1a8141d00f0e33f83c1d9">OTA_JSON_SELF_TEST_KEY</a>,       <a class="code hl_define" href="group__ota__constants.html#gab4f3b8ca5434b9b02ae4244da5cd2078">OTA_JOB_PARAM_OPTIONAL</a>, <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, isInSelfTest ),        <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>, ModelParamTypeIdent},</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#gaffd03defb729ae990baede2a0c704076">OTA_JSON_UPDATED_BY_KEY</a>,      <a class="code hl_define" href="group__ota__constants.html#gab4f3b8ca5434b9b02ae4244da5cd2078">OTA_JOB_PARAM_OPTIONAL</a>, <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, updaterVersion ),      <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>, ModelParamTypeUInt32},</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#gac0132213a7beb808d8cf4b86a3ab6b86">OTA_JSON_JOB_DOC_KEY</a>,         <a class="code hl_define" href="group__ota__constants.html#ga716173ece0b83fdc783798bdf2cf5715">OTA_JOB_PARAM_REQUIRED</a>, <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>,         <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>,  ModelParamTypeObject      },</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#ga1c56c6acb4d197a362143b670aeaac75">OTA_JSON_OTA_UNIT_KEY</a>,        <a class="code hl_define" href="group__ota__constants.html#ga716173ece0b83fdc783798bdf2cf5715">OTA_JOB_PARAM_REQUIRED</a>, <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>,         <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>,  ModelParamTypeObject      },</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#ga1801081d3c11b83ce214949c54156587">OTA_JSON_STREAM_NAME_KEY</a>,     <a class="code hl_define" href="group__ota__constants.html#gab4f3b8ca5434b9b02ae4244da5cd2078">OTA_JOB_PARAM_OPTIONAL</a>, <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, pStreamName ),         <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, streamNameMaxSize ), ModelParamTypeStringCopy},</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#gaacb7d18662a1212605eede7c875016ea">OTA_JSON_PROTOCOLS_KEY</a>,       <a class="code hl_define" href="group__ota__constants.html#ga716173ece0b83fdc783798bdf2cf5715">OTA_JOB_PARAM_REQUIRED</a>, <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, pProtocols ),          <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, protocolMaxSize ), ModelParamTypeArrayCopy},</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#ga85efaf15e103da089f3de398948f46d4">OTA_JSON_FILE_GROUP_KEY</a>,      <a class="code hl_define" href="group__ota__constants.html#ga716173ece0b83fdc783798bdf2cf5715">OTA_JOB_PARAM_REQUIRED</a>, <a class="code hl_define" href="group__ota__constants.html#ga62f786dfa9c243d52d490aedf55b74a6">OTA_STORE_NESTED_JSON</a>,        <a class="code hl_define" href="group__ota__constants.html#ga62f786dfa9c243d52d490aedf55b74a6">OTA_STORE_NESTED_JSON</a>, ModelParamTypeArray       },</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#ga209cd55d10743b96b2792ed8ae12fa51">OTA_JSON_FILE_PATH_KEY</a>,       <a class="code hl_define" href="group__ota__constants.html#gab4f3b8ca5434b9b02ae4244da5cd2078">OTA_JOB_PARAM_OPTIONAL</a>, <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, pFilePath ),           <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, filePathMaxSize ), ModelParamTypeStringCopy},</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#gadbef300d5ee8db5704a53dd50f9babc3">OTA_JSON_FILE_SIZE_KEY</a>,       <a class="code hl_define" href="group__ota__constants.html#ga716173ece0b83fdc783798bdf2cf5715">OTA_JOB_PARAM_REQUIRED</a>, <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, fileSize ),            <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>, ModelParamTypeUInt32},</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#gac0ddd548347a6aa9e001eb3383ddeafe">OTA_JSON_FILE_ID_KEY</a>,         <a class="code hl_define" href="group__ota__constants.html#ga716173ece0b83fdc783798bdf2cf5715">OTA_JOB_PARAM_REQUIRED</a>, <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, serverFileID ),        <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>, ModelParamTypeUInt32},</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#ga6e5f882dc07e8a5a8b2f079cc4444a50">OTA_JSON_FILE_CERT_NAME_KEY</a>,  <a class="code hl_define" href="group__ota__constants.html#gab4f3b8ca5434b9b02ae4244da5cd2078">OTA_JOB_PARAM_OPTIONAL</a>, <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, pCertFilepath ),       <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, certFilePathMaxSize ), ModelParamTypeStringCopy},</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#gad3c584828dcc7d99d65931d0c1ded6b7">OTA_JSON_UPDATE_DATA_URL_KEY</a>, <a class="code hl_define" href="group__ota__constants.html#gab4f3b8ca5434b9b02ae4244da5cd2078">OTA_JOB_PARAM_OPTIONAL</a>, <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, pUpdateUrlPath ),      <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, updateUrlMaxSize ), ModelParamTypeStringCopy},</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#gaafc3e865308a16ec82181d6aea75d6bb">OTA_JSON_AUTH_SCHEME_KEY</a>,     <a class="code hl_define" href="group__ota__constants.html#gab4f3b8ca5434b9b02ae4244da5cd2078">OTA_JOB_PARAM_OPTIONAL</a>, <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, pAuthScheme ),         <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, authSchemeMaxSize ), ModelParamTypeStringCopy},</div>
<div class="line">    { <a class="code hl_variable" href="ota_8h.html#a3b34dcda67d1fd023ced9257eb00cdcb">OTA_JsonFileSignatureKey</a>,     <a class="code hl_define" href="group__ota__constants.html#gab4f3b8ca5434b9b02ae4244da5cd2078">OTA_JOB_PARAM_OPTIONAL</a>, <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, pSignature ),          <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>, ModelParamTypeSigBase64},</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#ga098cfb263c324b93dee1e98917312ffd">OTA_JSON_FILE_ATTRIBUTE_KEY</a>,  <a class="code hl_define" href="group__ota__constants.html#gab4f3b8ca5434b9b02ae4244da5cd2078">OTA_JOB_PARAM_OPTIONAL</a>, <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, fileAttributes ),      <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>, ModelParamTypeUInt32},</div>
<div class="line">    { <a class="code hl_define" href="group__ota__constants.html#gaab7b7332590b19bcc767a290953c58a8">OTA_JSON_FILETYPE_KEY</a>,        <a class="code hl_define" href="group__ota__constants.html#gab4f3b8ca5434b9b02ae4244da5cd2078">OTA_JOB_PARAM_OPTIONAL</a>, <a class="code hl_define" href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a>( <a class="code hl_struct" href="struct_ota_file_context__t.html">OtaFileContext_t</a>, fileType ),            <a class="code hl_define" href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a>, ModelParamTypeUInt32}</div>
<div class="line">}</div>
<div class="ttc" id="agroup__ota__constants_html_ga098cfb263c324b93dee1e98917312ffd"><div class="ttname"><a href="group__ota__constants.html#ga098cfb263c324b93dee1e98917312ffd">OTA_JSON_FILE_ATTRIBUTE_KEY</a></div><div class="ttdeci">#define OTA_JSON_FILE_ATTRIBUTE_KEY</div><div class="ttdoc">Additional file attributes.</div><div class="ttdef"><b>Definition:</b> ota_private.h:155</div></div>
<div class="ttc" id="agroup__ota__constants_html_ga1801081d3c11b83ce214949c54156587"><div class="ttname"><a href="group__ota__constants.html#ga1801081d3c11b83ce214949c54156587">OTA_JSON_STREAM_NAME_KEY</a></div><div class="ttdeci">#define OTA_JSON_STREAM_NAME_KEY</div><div class="ttdoc">Name of the stream used for download.</div><div class="ttdef"><b>Definition:</b> ota_private.h:151</div></div>
<div class="ttc" id="agroup__ota__constants_html_ga1c56c6acb4d197a362143b670aeaac75"><div class="ttname"><a href="group__ota__constants.html#ga1c56c6acb4d197a362143b670aeaac75">OTA_JSON_OTA_UNIT_KEY</a></div><div class="ttdeci">#define OTA_JSON_OTA_UNIT_KEY</div><div class="ttdoc">afr-ota.</div><div class="ttdef"><b>Definition:</b> ota_private.h:148</div></div>
<div class="ttc" id="agroup__ota__constants_html_ga209cd55d10743b96b2792ed8ae12fa51"><div class="ttname"><a href="group__ota__constants.html#ga209cd55d10743b96b2792ed8ae12fa51">OTA_JSON_FILE_PATH_KEY</a></div><div class="ttdeci">#define OTA_JSON_FILE_PATH_KEY</div><div class="ttdoc">Path to store the image on the device.</div><div class="ttdef"><b>Definition:</b> ota_private.h:152</div></div>
<div class="ttc" id="agroup__ota__constants_html_ga3d69df69fbdff6811da80020c8afc61a"><div class="ttname"><a href="group__ota__constants.html#ga3d69df69fbdff6811da80020c8afc61a">OTA_JSON_CLIENT_TOKEN_KEY</a></div><div class="ttdeci">#define OTA_JSON_CLIENT_TOKEN_KEY</div><div class="ttdoc">Client token.</div><div class="ttdef"><b>Definition:</b> ota_private.h:138</div></div>
<div class="ttc" id="agroup__ota__constants_html_ga44138af02a7ed130ff630788cbaf1c27"><div class="ttname"><a href="group__ota__constants.html#ga44138af02a7ed130ff630788cbaf1c27">OTA_JSON_JOB_ID_KEY</a></div><div class="ttdeci">#define OTA_JSON_JOB_ID_KEY</div><div class="ttdoc">Name of the job.</div><div class="ttdef"><b>Definition:</b> ota_private.h:141</div></div>
<div class="ttc" id="agroup__ota__constants_html_ga4d831064bb7ea8bae1df86e1b77eaab6"><div class="ttname"><a href="group__ota__constants.html#ga4d831064bb7ea8bae1df86e1b77eaab6">OTA_JSON_EXECUTION_KEY</a></div><div class="ttdeci">#define OTA_JSON_EXECUTION_KEY</div><div class="ttdoc">Contains job execution parameters .</div><div class="ttdef"><b>Definition:</b> ota_private.h:140</div></div>
<div class="ttc" id="agroup__ota__constants_html_ga625051ce4de218406aad6dd0955f1c73"><div class="ttname"><a href="group__ota__constants.html#ga625051ce4de218406aad6dd0955f1c73">OTA_JSON_TIMESTAMP_KEY</a></div><div class="ttdeci">#define OTA_JSON_TIMESTAMP_KEY</div><div class="ttdoc">Used to calculate timeout and time spent on the operation.</div><div class="ttdef"><b>Definition:</b> ota_private.h:139</div></div>
<div class="ttc" id="agroup__ota__constants_html_ga62f786dfa9c243d52d490aedf55b74a6"><div class="ttname"><a href="group__ota__constants.html#ga62f786dfa9c243d52d490aedf55b74a6">OTA_STORE_NESTED_JSON</a></div><div class="ttdeci">#define OTA_STORE_NESTED_JSON</div><div class="ttdoc">Store the reference to a nested JSON in a separate pointer.</div><div class="ttdef"><b>Definition:</b> ota_private.h:84</div></div>
<div class="ttc" id="agroup__ota__constants_html_ga6a6b266874ad73e248d840643616325c"><div class="ttname"><a href="group__ota__constants.html#ga6a6b266874ad73e248d840643616325c">OTA_JSON_STATUS_DETAILS_KEY</a></div><div class="ttdeci">#define OTA_JSON_STATUS_DETAILS_KEY</div><div class="ttdoc">Current status of the job.</div><div class="ttdef"><b>Definition:</b> ota_private.h:142</div></div>
<div class="ttc" id="agroup__ota__constants_html_ga6e5f882dc07e8a5a8b2f079cc4444a50"><div class="ttname"><a href="group__ota__constants.html#ga6e5f882dc07e8a5a8b2f079cc4444a50">OTA_JSON_FILE_CERT_NAME_KEY</a></div><div class="ttdeci">#define OTA_JSON_FILE_CERT_NAME_KEY</div><div class="ttdoc">Location of the certificate on the device to find code signing.</div><div class="ttdef"><b>Definition:</b> ota_private.h:156</div></div>
<div class="ttc" id="agroup__ota__constants_html_ga716173ece0b83fdc783798bdf2cf5715"><div class="ttname"><a href="group__ota__constants.html#ga716173ece0b83fdc783798bdf2cf5715">OTA_JOB_PARAM_REQUIRED</a></div><div class="ttdeci">#define OTA_JOB_PARAM_REQUIRED</div><div class="ttdoc">Used to denote a required document model parameter.</div><div class="ttdef"><b>Definition:</b> ota_private.h:81</div></div>
<div class="ttc" id="agroup__ota__constants_html_ga85efaf15e103da089f3de398948f46d4"><div class="ttname"><a href="group__ota__constants.html#ga85efaf15e103da089f3de398948f46d4">OTA_JSON_FILE_GROUP_KEY</a></div><div class="ttdeci">#define OTA_JSON_FILE_GROUP_KEY</div><div class="ttdoc">Parameters for specifying file configurations.</div><div class="ttdef"><b>Definition:</b> ota_private.h:150</div></div>
<div class="ttc" id="agroup__ota__constants_html_gaab7b7332590b19bcc767a290953c58a8"><div class="ttname"><a href="group__ota__constants.html#gaab7b7332590b19bcc767a290953c58a8">OTA_JSON_FILETYPE_KEY</a></div><div class="ttdeci">#define OTA_JSON_FILETYPE_KEY</div><div class="ttdoc">Used to identify the file in case of multi file type support.</div><div class="ttdef"><b>Definition:</b> ota_private.h:159</div></div>
<div class="ttc" id="agroup__ota__constants_html_gaacb7d18662a1212605eede7c875016ea"><div class="ttname"><a href="group__ota__constants.html#gaacb7d18662a1212605eede7c875016ea">OTA_JSON_PROTOCOLS_KEY</a></div><div class="ttdeci">#define OTA_JSON_PROTOCOLS_KEY</div><div class="ttdoc">Protocols over which the download can take place.</div><div class="ttdef"><b>Definition:</b> ota_private.h:149</div></div>
<div class="ttc" id="agroup__ota__constants_html_gaafc3e865308a16ec82181d6aea75d6bb"><div class="ttname"><a href="group__ota__constants.html#gaafc3e865308a16ec82181d6aea75d6bb">OTA_JSON_AUTH_SCHEME_KEY</a></div><div class="ttdeci">#define OTA_JSON_AUTH_SCHEME_KEY</div><div class="ttdoc">Authentication scheme for downloading a the image over HTTP.</div><div class="ttdef"><b>Definition:</b> ota_private.h:158</div></div>
<div class="ttc" id="agroup__ota__constants_html_gab4f3b8ca5434b9b02ae4244da5cd2078"><div class="ttname"><a href="group__ota__constants.html#gab4f3b8ca5434b9b02ae4244da5cd2078">OTA_JOB_PARAM_OPTIONAL</a></div><div class="ttdeci">#define OTA_JOB_PARAM_OPTIONAL</div><div class="ttdoc">Used to denote an optional document model parameter.</div><div class="ttdef"><b>Definition:</b> ota_private.h:82</div></div>
<div class="ttc" id="agroup__ota__constants_html_gac0132213a7beb808d8cf4b86a3ab6b86"><div class="ttname"><a href="group__ota__constants.html#gac0132213a7beb808d8cf4b86a3ab6b86">OTA_JSON_JOB_DOC_KEY</a></div><div class="ttdeci">#define OTA_JSON_JOB_DOC_KEY</div><div class="ttdoc">Parameters that specify the nature of the job.</div><div class="ttdef"><b>Definition:</b> ota_private.h:147</div></div>
<div class="ttc" id="agroup__ota__constants_html_gac0ddd548347a6aa9e001eb3383ddeafe"><div class="ttname"><a href="group__ota__constants.html#gac0ddd548347a6aa9e001eb3383ddeafe">OTA_JSON_FILE_ID_KEY</a></div><div class="ttdeci">#define OTA_JSON_FILE_ID_KEY</div><div class="ttdoc">Used to identify the file in case of multiple file downloads.</div><div class="ttdef"><b>Definition:</b> ota_private.h:154</div></div>
<div class="ttc" id="agroup__ota__constants_html_gac462962d86d18bfe1fab0ca0527ea9ca"><div class="ttname"><a href="group__ota__constants.html#gac462962d86d18bfe1fab0ca0527ea9ca">OTA_DONT_STORE_PARAM</a></div><div class="ttdeci">#define OTA_DONT_STORE_PARAM</div><div class="ttdoc">If destOffset in the model is 0xffffffff, do not store the value.</div><div class="ttdef"><b>Definition:</b> ota_private.h:83</div></div>
<div class="ttc" id="agroup__ota__constants_html_gad3c584828dcc7d99d65931d0c1ded6b7"><div class="ttname"><a href="group__ota__constants.html#gad3c584828dcc7d99d65931d0c1ded6b7">OTA_JSON_UPDATE_DATA_URL_KEY</a></div><div class="ttdeci">#define OTA_JSON_UPDATE_DATA_URL_KEY</div><div class="ttdoc">S3 bucket presigned url to fetch the image from .</div><div class="ttdef"><b>Definition:</b> ota_private.h:157</div></div>
<div class="ttc" id="agroup__ota__constants_html_gadbef300d5ee8db5704a53dd50f9babc3"><div class="ttname"><a href="group__ota__constants.html#gadbef300d5ee8db5704a53dd50f9babc3">OTA_JSON_FILE_SIZE_KEY</a></div><div class="ttdeci">#define OTA_JSON_FILE_SIZE_KEY</div><div class="ttdoc">Size of the file to be downloaded.</div><div class="ttdef"><b>Definition:</b> ota_private.h:153</div></div>
<div class="ttc" id="agroup__ota__constants_html_gaf7c64cc7a2f1a8141d00f0e33f83c1d9"><div class="ttname"><a href="group__ota__constants.html#gaf7c64cc7a2f1a8141d00f0e33f83c1d9">OTA_JSON_SELF_TEST_KEY</a></div><div class="ttdeci">#define OTA_JSON_SELF_TEST_KEY</div><div class="ttdoc">Specifies if the platform and service is is selftest.</div><div class="ttdef"><b>Definition:</b> ota_private.h:143</div></div>
<div class="ttc" id="agroup__ota__constants_html_gaffd03defb729ae990baede2a0c704076"><div class="ttname"><a href="group__ota__constants.html#gaffd03defb729ae990baede2a0c704076">OTA_JSON_UPDATED_BY_KEY</a></div><div class="ttdeci">#define OTA_JSON_UPDATED_BY_KEY</div><div class="ttdoc">Parameter to specify update status.</div><div class="ttdef"><b>Definition:</b> ota_private.h:144</div></div>
<div class="ttc" id="aota_8c_html_a4342d17740cc60072d01f1bc9790bffa"><div class="ttname"><a href="ota_8c.html#a4342d17740cc60072d01f1bc9790bffa">U16_OFFSET</a></div><div class="ttdeci">#define U16_OFFSET(type, member)</div><div class="ttdoc">Offset helper.</div><div class="ttdef"><b>Definition:</b> ota.c:78</div></div>
<div class="ttc" id="aota_8h_html_a3b34dcda67d1fd023ced9257eb00cdcb"><div class="ttname"><a href="ota_8h.html#a3b34dcda67d1fd023ced9257eb00cdcb">OTA_JsonFileSignatureKey</a></div><div class="ttdeci">const char OTA_JsonFileSignatureKey[OTA_FILE_SIG_KEY_STR_MAX_LENGTH]</div><div class="ttdoc">The OTA signature algorithm string is specified by the PAL.</div></div>
<div class="ttc" id="astruct_ota_file_context__t_html"><div class="ttname"><a href="struct_ota_file_context__t.html">OtaFileContext_t</a></div><div class="ttdoc">OTA File Context Information.</div><div class="ttdef"><b>Definition:</b> ota_private.h:385</div></div>
</div><!-- fragment -->
<p>This is the OTA job document model describing the parameters, their types, destination and how to extract. </p>

</div>
</div>
<a id="aaf6b80a942717438ad5ee23466e62d01" name="aaf6b80a942717438ad5ee23466e62d01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf6b80a942717438ad5ee23466e62d01">&#9670;&#160;</a></span>pJobNameBuffer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t pJobNameBuffer[<a class="el" href="ota__private_8h.html#ab6942359a343a9a65279eec716cc4468">OTA_JOB_ID_MAX_SIZE</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Buffer to store job name. </p>

</div>
</div>
<a id="a17a536dc3f752d78111477613ab0dca9" name="a17a536dc3f752d78111477613ab0dca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17a536dc3f752d78111477613ab0dca9">&#9670;&#160;</a></span>pProtocolBuffer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t pProtocolBuffer[<a class="el" href="ota__private_8h.html#a2b311ebd30ad900edc6cfc2219366a22">OTA_PROTOCOL_BUFFER_SIZE</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Buffer to store data protocol. </p>

</div>
</div>
<a id="aebfcd3030a3c9d082a768b15d6bd05e6" name="aebfcd3030a3c9d082a768b15d6bd05e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebfcd3030a3c9d082a768b15d6bd05e6">&#9670;&#160;</a></span>sigBuffer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_sig__t.html">Sig_t</a> sigBuffer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Buffer to store key file signature. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="ota_8c.html">ota.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
