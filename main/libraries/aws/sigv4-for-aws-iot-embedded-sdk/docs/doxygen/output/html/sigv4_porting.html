<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SigV4: Porting Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SigV4<span id="projectnumber">&#160;v1.3.0</span>
   </div>
   <div id="projectbrief">SigV4 Library for AWS Authentication</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('sigv4_porting.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Porting Guide </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Guide for porting the AWS SigV4 Library to a new platform.</p>
<p>To use the AWS SigV4 library, a platform must implement the following components:</p><ol type="1">
<li><a class="el" href="sigv4_porting.html#sigv4_config_macros">Configuration Macros</a></li>
<li><a class="el" href="sigv4_porting.html#sigv4_porting_cryptointerface">Crypto Interface</a></li>
</ol>
<h1><a class="anchor" id="sigv4_config_macros"></a>
Configuration Macros</h1>
<p>Configuration macros that can be set in the config header <code>sigv4_config.h</code>, or passed in as compiler options.</p>
<p>The following optional logging macros are used throughout the library:</p><ul>
<li><a class="el" href="sigv4__config__defaults_8h.html#a8d9dbaaa88129137a4c68ba0456a18b1">LogError</a></li>
<li><a class="el" href="sigv4__config__defaults_8h.html#a7da92048aaf0cbfcacde9539c98a0e05">LogWarn</a></li>
<li><a class="el" href="sigv4__config__defaults_8h.html#a00810b1cb9d2f25d25ce2d4d93815fba">LogInfo</a></li>
<li><a class="el" href="sigv4__config__defaults_8h.html#af60e8ffc327d136e5d0d8441ed98c98d">LogDebug</a></li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="sigv4_config.html">Configurations</a> for more information.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Regardless of whether the above macros are defined in <code>sigv4_config.h</code> or passed as compiler options, by default the <code>sigv4_config.h</code> file is needed to build the AWS SigV4 Library. To disable this requirement and build the library with default configuration values, provide <code>SIGV4_DO_NOT_USE_CUSTOM_CONFIG</code> as a compile time preprocessor macro.</dd></dl>
<h1><a class="anchor" id="sigv4_porting_cryptointerface"></a>
Crypto Interface</h1>
<p>The AWS SigV4 library relies on the implementation of crypto interface to provide hash functions used in generating the Authorization header by the library.</p>
<p>A port must implement functions corresponding to the following functions pointers:</p><ul>
<li>[Hash Initialize]: A function to initialize the Hash Context. <div class="fragment"><div class="line">int32_t ( * hashInit )( <span class="keywordtype">void</span> * pHashContext );</div>
</div><!-- fragment --></li>
<li>[Hash Update]: A function to update the hash to be calculated with more input data. <div class="fragment"><div class="line">int32_t ( * hashUpdate )( <span class="keywordtype">void</span> * pHashContext,</div>
<div class="line">                           <span class="keyword">const</span> uint8_t * pInput,</div>
<div class="line">                           <span class="keywordtype">size_t</span> inputLen );</div>
</div><!-- fragment --></li>
<li>[Hash Final]: A function to calculate the final binary digest of the hash from the context. <div class="fragment"><div class="line">int32_t ( * hashFinal )( <span class="keywordtype">void</span> * pHashContext,</div>
<div class="line">                          uint8_t * pOutput,</div>
<div class="line">                          <span class="keywordtype">size_t</span> outputLen );</div>
</div><!-- fragment --></li>
</ul>
<p>The above three functions take in a pointer to pHashContext which defines the context used by the above function in calculating the hash. The HashContext must also be defined by the user's implementation and ought to contain any information necessary to calculate the hash. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> * pHashContext;</div>
</div><!-- fragment --><p>A port must also define the following:</p><ul>
<li>[Hash Block Length]: The block length of the hash function implemented by the user. <div class="fragment"><div class="line"><span class="keywordtype">size_t</span> hashBlockLen;</div>
</div><!-- fragment --></li>
<li>[Hash Digest Length]: The digest length of the hash function implemented by the user. <div class="fragment"><div class="line"><span class="keywordtype">size_t</span> hashDigestLen;</div>
</div><!-- fragment --> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
