<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SigV4: sigv4.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SigV4<span id="projectnumber">&#160;v1.3.0</span>
   </div>
   <div id="projectbrief">SigV4 Library for AWS Authentication</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('sigv4_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">sigv4.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implements the user-facing functions in <a class="el" href="sigv4_8h.html" title="Interface for the SigV4 Library.">sigv4.h</a>.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="sigv4_8h_source.html">sigv4.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sigv4__internal_8h_source.html">sigv4_internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sigv4__quicksort_8h_source.html">sigv4_quicksort.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae42595f858beec39a765755e277460a8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#ae42595f858beec39a765755e277460a8">intToAscii</a> (int32_t value, char **pBuffer, size_t bufferLen)</td></tr>
<tr class="memdesc:ae42595f858beec39a765755e277460a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an integer value to its ASCII representation, and stores the result in the provided buffer.  <br /></td></tr>
<tr class="separator:ae42595f858beec39a765755e277460a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc95a36d5ca043076852fd090405f873"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#acc95a36d5ca043076852fd090405f873">generateCanonicalAndSignedHeaders</a> (const char *pHeaders, size_t headersLen, uint32_t flags, <a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *canonicalRequest, char **pSignedHeaders, size_t *pSignedHeadersLen)</td></tr>
<tr class="memdesc:acc95a36d5ca043076852fd090405f873"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract all header key-value pairs from the passed headers data and add them to the canonical request.  <br /></td></tr>
<tr class="separator:acc95a36d5ca043076852fd090405f873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1db270e2e75b82f0559c92fe76cece94"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a1db270e2e75b82f0559c92fe76cece94">appendSignedHeaders</a> (size_t headerCount, uint32_t flags, <a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *pCanonicalRequest, char **pSignedHeaders, size_t *pSignedHeadersLen)</td></tr>
<tr class="memdesc:a1db270e2e75b82f0559c92fe76cece94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Append Signed Headers to the Canonical Request buffer.  <br /></td></tr>
<tr class="separator:a1db270e2e75b82f0559c92fe76cece94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab36813a9acc55b3f7f90072f7d4a52fa"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#ab36813a9acc55b3f7f90072f7d4a52fa">appendCanonicalizedHeaders</a> (size_t headerCount, uint32_t flags, <a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *pCanonicalRequest)</td></tr>
<tr class="memdesc:ab36813a9acc55b3f7f90072f7d4a52fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Canonicalize headers and append it to the Canonical Request buffer.  <br /></td></tr>
<tr class="separator:ab36813a9acc55b3f7f90072f7d4a52fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7076d1514a5c3680dbd24da9cbfab425"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a7076d1514a5c3680dbd24da9cbfab425">storeHashedPayloadLocation</a> (size_t headerIndex, const char *pAmzSHA256Header, size_t amzSHA256HeaderLen, <a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *pCanonicalRequest)</td></tr>
<tr class="memdesc:a7076d1514a5c3680dbd24da9cbfab425"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the location of HTTP request hashed payload in the HTTP request.  <br /></td></tr>
<tr class="separator:a7076d1514a5c3680dbd24da9cbfab425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b683400e5dc9051e92672e2aaec0d05"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a0b683400e5dc9051e92672e2aaec0d05">parseHeaderKeyValueEntries</a> (const char *pHeaders, size_t headersDataLen, uint32_t flags, size_t *headerCount, <a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *pCanonicalRequest)</td></tr>
<tr class="memdesc:a0b683400e5dc9051e92672e2aaec0d05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse each header key and value pair from HTTP headers.  <br /></td></tr>
<tr class="separator:a0b683400e5dc9051e92672e2aaec0d05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ad6cc52c71788300dbd53f3f7c4af8d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a6ad6cc52c71788300dbd53f3f7c4af8d">copyHeaderStringToCanonicalBuffer</a> (const char *pData, size_t dataLen, uint32_t flags, char separator, <a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *pCanonicalRequest)</td></tr>
<tr class="memdesc:a6ad6cc52c71788300dbd53f3f7c4af8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy header key or header value to the Canonical Request buffer.  <br /></td></tr>
<tr class="separator:a6ad6cc52c71788300dbd53f3f7c4af8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c55af8f76e7fd110ce75c5c7691339c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a1c55af8f76e7fd110ce75c5c7691339c">isTrimmableSpace</a> (const char *value, size_t index, size_t valLen, size_t trimmedLength)</td></tr>
<tr class="memdesc:a1c55af8f76e7fd110ce75c5c7691339c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to determine whether a header string character represents a space that can be trimmed when creating "Canonical Headers". All leading and trailing spaces in the header strings need to be trimmed. Also, sequential spaces in the header value need to be trimmed to a single space.  <br /></td></tr>
<tr class="separator:a1c55af8f76e7fd110ce75c5c7691339c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab11d2468a4cc3ee277a136b3c320ed82"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#ab11d2468a4cc3ee277a136b3c320ed82">generateCanonicalRequestUntilHeaders</a> (const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *pParams, <a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *pCanonicalContext, char **pSignedHeaders, size_t *pSignedHeadersLen)</td></tr>
<tr class="memdesc:ab11d2468a4cc3ee277a136b3c320ed82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the canonical request but excluding the canonical headers and anything that goes after it. Write it onto <code>pSignedHeaders</code> and update it to point to the next location to write the rest of the canonical request.  <br /></td></tr>
<tr class="separator:ab11d2468a4cc3ee277a136b3c320ed82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f32917686451e1952717e8a68f999a3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a9f32917686451e1952717e8a68f999a3">generateAuthorizationValuePrefix</a> (const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *pParams, const char *pAlgorithm, size_t algorithmLen, const char *pSignedHeaders, size_t signedHeadersLen, char *pAuthBuf, size_t *pAuthPrefixLen)</td></tr>
<tr class="memdesc:a9f32917686451e1952717e8a68f999a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates the prefix of the Authorization header of the format: "&lt;algorithm&gt; Credential=&lt;access key ID&gt;/&lt;credential scope&gt;, SignedHeaders=&lt;SignedHeaders&gt;, Signature=".  <br /></td></tr>
<tr class="separator:a9f32917686451e1952717e8a68f999a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab32ac5704f6143868e326b71ea0181d2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#ab32ac5704f6143868e326b71ea0181d2">writeLineToCanonicalRequest</a> (const char *pLine, size_t lineLen, <a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *pCanonicalContext)</td></tr>
<tr class="memdesc:ab32ac5704f6143868e326b71ea0181d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a line in the canonical request.  <br /></td></tr>
<tr class="separator:ab32ac5704f6143868e326b71ea0181d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e7468042ccd03c8686bfe4195441d1a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a3e7468042ccd03c8686bfe4195441d1a">setQueryParameterKey</a> (size_t currentParameter, const char *pKey, size_t keyLen, <a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *pCanonicalRequest)</td></tr>
<tr class="memdesc:a3e7468042ccd03c8686bfe4195441d1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a query parameter key in the canonical request.  <br /></td></tr>
<tr class="separator:a3e7468042ccd03c8686bfe4195441d1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcc91f0d413ad759a0cebbfef3f43a5d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#abcc91f0d413ad759a0cebbfef3f43a5d">setQueryParameterValue</a> (size_t currentParameter, const char *pValue, size_t valueLen, <a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *pCanonicalRequest)</td></tr>
<tr class="memdesc:abcc91f0d413ad759a0cebbfef3f43a5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a query parameter value in the canonical request.  <br /></td></tr>
<tr class="separator:abcc91f0d413ad759a0cebbfef3f43a5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a8248a81a92ede551d475f46b7ebf16"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a0a8248a81a92ede551d475f46b7ebf16">lowercaseCharacter</a> (char inputChar)</td></tr>
<tr class="memdesc:a0a8248a81a92ede551d475f46b7ebf16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the character to lowercase.  <br /></td></tr>
<tr class="separator:a0a8248a81a92ede551d475f46b7ebf16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89c6d3f1ea6ba3bb3a8b69ba6013e8f7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a89c6d3f1ea6ba3bb3a8b69ba6013e8f7">writePayloadHashToCanonicalRequest</a> (const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *pParams, <a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *pCanonicalContext)</td></tr>
<tr class="memdesc:a89c6d3f1ea6ba3bb3a8b69ba6013e8f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the HTTP request payload hash to the canonical request.  <br /></td></tr>
<tr class="separator:a89c6d3f1ea6ba3bb3a8b69ba6013e8f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9366fa6817cf38befefe225a3d346f0"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#ae9366fa6817cf38befefe225a3d346f0">hmacAddKey</a> (<a class="el" href="struct_hmac_context__t.html">HmacContext_t</a> *pHmacContext, const char *pKey, size_t keyLen, bool isKeyPrefix)</td></tr>
<tr class="memdesc:ae9366fa6817cf38befefe225a3d346f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates the key for the HMAC operation.  <br /></td></tr>
<tr class="separator:ae9366fa6817cf38befefe225a3d346f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91e0b178798f5ff4e3e88d8dc41f66aa"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a91e0b178798f5ff4e3e88d8dc41f66aa">hmacIntermediate</a> (<a class="el" href="struct_hmac_context__t.html">HmacContext_t</a> *pHmacContext, const char *pData, size_t dataLen)</td></tr>
<tr class="memdesc:a91e0b178798f5ff4e3e88d8dc41f66aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates the intermediate hash output in the HMAC signing process. This represents the H( K' ^ i_pad || message ) part of the HMAC algorithm.  <br /></td></tr>
<tr class="separator:a91e0b178798f5ff4e3e88d8dc41f66aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab773cbedb30027889d6c3fd752c128f8"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#ab773cbedb30027889d6c3fd752c128f8">hmacFinal</a> (<a class="el" href="struct_hmac_context__t.html">HmacContext_t</a> *pHmacContext, char *pMac, size_t macLen)</td></tr>
<tr class="memdesc:ab773cbedb30027889d6c3fd752c128f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates the end output of the HMAC algorithm.  <br /></td></tr>
<tr class="separator:ab773cbedb30027889d6c3fd752c128f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3c20454de317a6f7460d2cf0498c132"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#aa3c20454de317a6f7460d2cf0498c132">completeHmac</a> (<a class="el" href="struct_hmac_context__t.html">HmacContext_t</a> *pHmacContext, const char *pKey, size_t keyLen, const char *pData, size_t dataLen, char *pOutput, size_t outputLen)</td></tr>
<tr class="memdesc:aa3c20454de317a6f7460d2cf0498c132"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates the complete HMAC digest given a key and value, then write the digest in the provided output buffer.  <br /></td></tr>
<tr class="separator:aa3c20454de317a6f7460d2cf0498c132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8528d08d3a3f4ce953ac0a18c5c4b7f9"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a8528d08d3a3f4ce953ac0a18c5c4b7f9">completeHash</a> (const uint8_t *pInput, size_t inputLen, uint8_t *pOutput, size_t outputLen, const <a class="el" href="struct_sig_v4_crypto_interface__t.html">SigV4CryptoInterface_t</a> *pCryptoInterface)</td></tr>
<tr class="memdesc:a8528d08d3a3f4ce953ac0a18c5c4b7f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates the complete hash of an input string, then write the digest in the provided output buffer.  <br /></td></tr>
<tr class="separator:a8528d08d3a3f4ce953ac0a18c5c4b7f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76c455d7bda8ed3d4816c0ec0b546709"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a76c455d7bda8ed3d4816c0ec0b546709">completeHashAndHexEncode</a> (const char *pInput, size_t inputLen, char *pOutput, size_t *pOutputLen, const <a class="el" href="struct_sig_v4_crypto_interface__t.html">SigV4CryptoInterface_t</a> *pCryptoInterface)</td></tr>
<tr class="memdesc:a76c455d7bda8ed3d4816c0ec0b546709"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the complete hash of an input string, then write the digest in an intermediary buffer before hex encoding and writing it onto <code>pOutput</code>.  <br /></td></tr>
<tr class="separator:a76c455d7bda8ed3d4816c0ec0b546709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a982381960ca00aa2ce9055b2a24273"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a6a982381960ca00aa2ce9055b2a24273">writeStringToSignPrefix</a> (char *pBufStart, const char *pAlgorithm, size_t algorithmLen, const char *pDateIso8601)</td></tr>
<tr class="memdesc:a6a982381960ca00aa2ce9055b2a24273"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the prefix of the string to sign containing the algorithm and date then write it onto <code>pBufStart</code>.  <br /></td></tr>
<tr class="separator:a6a982381960ca00aa2ce9055b2a24273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac342ebde5d8f50559423b9eee8e5d84e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#ac342ebde5d8f50559423b9eee8e5d84e">writeStringToSign</a> (const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *pParams, const char *pAlgorithm, size_t algorithmLen, <a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *pCanonicalContext)</td></tr>
<tr class="memdesc:ac342ebde5d8f50559423b9eee8e5d84e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the string to sign and write it onto a <a class="el" href="struct_sig_v4_string__t.html" title="A library structure holding the string and length values of parameters to be sorted and standardized....">SigV4String_t</a>.  <br /></td></tr>
<tr class="separator:ac342ebde5d8f50559423b9eee8e5d84e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fb52f313d91e0f65f36254e2505f240"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a5fb52f313d91e0f65f36254e2505f240">generateSigningKey</a> (const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *pSigV4Params, <a class="el" href="struct_hmac_context__t.html">HmacContext_t</a> *pHmacContext, <a class="el" href="struct_sig_v4_string__t.html">SigV4String_t</a> *pSigningKey, size_t *pBytesRemaining)</td></tr>
<tr class="memdesc:a5fb52f313d91e0f65f36254e2505f240"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the signing key and write it onto a <a class="el" href="struct_sig_v4_string__t.html" title="A library structure holding the string and length values of parameters to be sorted and standardized....">SigV4String_t</a>.  <br /></td></tr>
<tr class="separator:a5fb52f313d91e0f65f36254e2505f240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44d258c14616fee40aae061a30bb825c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a44d258c14616fee40aae061a30bb825c">generateCredentialScope</a> (const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *pSigV4Params, <a class="el" href="struct_sig_v4_string__t.html">SigV4String_t</a> *pCredScope)</td></tr>
<tr class="memdesc:a44d258c14616fee40aae061a30bb825c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format the credential scope for the authorization header. Credential scope includes the access key ID, date, region, and service parameters, and ends with "aws4_request" terminator.  <br /></td></tr>
<tr class="separator:a44d258c14616fee40aae061a30bb825c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6675e05cc6d07aac4d6faa915e132230"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a6675e05cc6d07aac4d6faa915e132230">checkLeap</a> (const <a class="el" href="struct_sig_v4_date_time__t.html">SigV4DateTime_t</a> *pDateElements)</td></tr>
<tr class="memdesc:a6675e05cc6d07aac4d6faa915e132230"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the date represents a valid leap year day.  <br /></td></tr>
<tr class="separator:a6675e05cc6d07aac4d6faa915e132230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1d4b13610004d066894740c47e24db2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#ad1d4b13610004d066894740c47e24db2">validateDateTime</a> (const <a class="el" href="struct_sig_v4_date_time__t.html">SigV4DateTime_t</a> *pDateElements)</td></tr>
<tr class="memdesc:ad1d4b13610004d066894740c47e24db2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify the date stored in a <a class="el" href="struct_sig_v4_date_time__t.html" title="An aggregator representing the individually parsed elements of the user-provided date parameter....">SigV4DateTime_t</a> date representation.  <br /></td></tr>
<tr class="separator:ad1d4b13610004d066894740c47e24db2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab755ba4a4993e1b666ab9070c3b1be98"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#ab755ba4a4993e1b666ab9070c3b1be98">addToDate</a> (const char formatChar, int32_t result, <a class="el" href="struct_sig_v4_date_time__t.html">SigV4DateTime_t</a> *pDateElements)</td></tr>
<tr class="memdesc:ab755ba4a4993e1b666ab9070c3b1be98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Append the value of a date element to the internal date representation structure.  <br /></td></tr>
<tr class="separator:ab755ba4a4993e1b666ab9070c3b1be98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1507dcc4a986cbb357cead564aec240"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#ad1507dcc4a986cbb357cead564aec240">scanValue</a> (const char *pDate, const char formatChar, size_t readLoc, size_t lenToRead, <a class="el" href="struct_sig_v4_date_time__t.html">SigV4DateTime_t</a> *pDateElements)</td></tr>
<tr class="memdesc:ad1507dcc4a986cbb357cead564aec240"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interpret the value of the specified characters in date, based on the format specifier, and append to the internal date representation.  <br /></td></tr>
<tr class="separator:ad1507dcc4a986cbb357cead564aec240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a826912da42f263c8bb18f498d7d1ab9b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a826912da42f263c8bb18f498d7d1ab9b">parseDate</a> (const char *pDate, size_t dateLen, const char *pFormat, size_t formatLen, <a class="el" href="struct_sig_v4_date_time__t.html">SigV4DateTime_t</a> *pDateElements)</td></tr>
<tr class="memdesc:a826912da42f263c8bb18f498d7d1ab9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses date according to format string parameter, and populates date representation struct <a class="el" href="struct_sig_v4_date_time__t.html" title="An aggregator representing the individually parsed elements of the user-provided date parameter....">SigV4DateTime_t</a> with its elements.  <br /></td></tr>
<tr class="separator:a826912da42f263c8bb18f498d7d1ab9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72386c1bb95ff33f62bfaf5c00596026"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a72386c1bb95ff33f62bfaf5c00596026">verifyParamsToGenerateAuthHeaderApi</a> (const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *pParams, const char *pAuthBuf, const size_t *authBufLen, char *const *pSignature, const size_t *signatureLen)</td></tr>
<tr class="memdesc:a72386c1bb95ff33f62bfaf5c00596026"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify input parameters to the SigV4_GenerateHTTPAuthorization API.  <br /></td></tr>
<tr class="separator:a72386c1bb95ff33f62bfaf5c00596026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a1d1591d06b22fae9906c16d38f0025"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a0a1d1591d06b22fae9906c16d38f0025">assignDefaultArguments</a> (const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *pParams, const char **pAlgorithm, size_t *algorithmLen)</td></tr>
<tr class="memdesc:a0a1d1591d06b22fae9906c16d38f0025"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assign default arguments based on parameters set in <code>pParams</code>.  <br /></td></tr>
<tr class="separator:a0a1d1591d06b22fae9906c16d38f0025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67eb1d997c55d861014e7e0ba860b4ec"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a67eb1d997c55d861014e7e0ba860b4ec">lowercaseHexEncode</a> (const <a class="el" href="struct_sig_v4_string__t.html">SigV4String_t</a> *pInputStr, <a class="el" href="struct_sig_v4_string__t.html">SigV4String_t</a> *pHexOutput)</td></tr>
<tr class="memdesc:a67eb1d997c55d861014e7e0ba860b4ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hex digest of provided string parameter.  <br /></td></tr>
<tr class="separator:a67eb1d997c55d861014e7e0ba860b4ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5191c6d026491e2d204323723d2dd47b"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a5191c6d026491e2d204323723d2dd47b">sizeNeededForCredentialScope</a> (const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *pSigV4Params)</td></tr>
<tr class="memdesc:a5191c6d026491e2d204323723d2dd47b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate number of bytes needed for the credential scope.  <br /></td></tr>
<tr class="separator:a5191c6d026491e2d204323723d2dd47b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7d33915690b63b45059c39e14f67bf0"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#ac7d33915690b63b45059c39e14f67bf0">copyString</a> (char *destination, const char *source, size_t length)</td></tr>
<tr class="memdesc:ac7d33915690b63b45059c39e14f67bf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a string into a char * buffer.  <br /></td></tr>
<tr class="separator:ac7d33915690b63b45059c39e14f67bf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6f3d9773a15116d43b050ab09456c20"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#ac6f3d9773a15116d43b050ab09456c20">SigV4_AwsIotDateToIso8601</a> (const char *pDate, size_t dateLen, char *pDateISO8601, size_t dateISO8601Len)</td></tr>
<tr class="memdesc:ac6f3d9773a15116d43b050ab09456c20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the date header value from the AWS IoT response, and generate the formatted ISO 8601 date required for authentication.  <br /></td></tr>
<tr class="separator:ac6f3d9773a15116d43b050ab09456c20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46ab0bb656d9b24e3efdcf85c0b8a385"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sigv4_8c.html#a46ab0bb656d9b24e3efdcf85c0b8a385">SigV4_GenerateHTTPAuthorization</a> (const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *pParams, char *pAuthBuf, size_t *authBufLen, char **pSignature, size_t *signatureLen)</td></tr>
<tr class="memdesc:a46ab0bb656d9b24e3efdcf85c0b8a385"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates the HTTP Authorization header value.  <br /></td></tr>
<tr class="separator:a46ab0bb656d9b24e3efdcf85c0b8a385"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implements the user-facing functions in <a class="el" href="sigv4_8h.html" title="Interface for the SigV4 Library.">sigv4.h</a>. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ae42595f858beec39a765755e277460a8" name="ae42595f858beec39a765755e277460a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae42595f858beec39a765755e277460a8">&#9670;&#160;</a></span>intToAscii()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void intToAscii </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufferLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts an integer value to its ASCII representation, and stores the result in the provided buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>The value to convert to ASCII. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pBuffer</td><td>The starting location of the buffer on input, and the ending location on output. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufferLen</td><td>Width of value to write (padded with leading 0s if necessary). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acc95a36d5ca043076852fd090405f873" name="acc95a36d5ca043076852fd090405f873"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc95a36d5ca043076852fd090405f873">&#9670;&#160;</a></span>generateCanonicalAndSignedHeaders()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> generateCanonicalAndSignedHeaders </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pHeaders</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>headersLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *&#160;</td>
          <td class="paramname"><em>canonicalRequest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pSignedHeaders</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pSignedHeadersLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extract all header key-value pairs from the passed headers data and add them to the canonical request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pHeaders</td><td>HTTP headers to canonicalize. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">headersLen</td><td>Length of HTTP headers to canonicalize. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Flag to indicate if headers are already in the canonical form. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">canonicalRequest</td><td>Struct to maintain intermediary buffer and state of canonicalization. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pSignedHeaders</td><td>The starting location of the signed headers. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pSignedHeadersLen</td><td>The length of the signed headers.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Following statuses will be returned by the function: <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627" title="The SigV4 library function completed successfully.">SigV4Success</a> if headers are successfully added to the canonical request. <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a2bb0cb0ecb7f2856a93b9c533d780e7c" title="The application buffer was not large enough for the specified hash function.">SigV4InsufficientMemory</a> if canonical request buffer cannot accommodate the header. <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9aca7601341caf16c3fb93a0927b9f6ab6" title="The SigV4 library function received an invalid input parameter.">SigV4InvalidParameter</a> if HTTP headers are invalid. <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a7201ec16e087837e7e405ae908014479" title="The maximum number of header parameters was exceeded while parsing the http header string passed to t...">SigV4MaxHeaderPairCountExceeded</a> if number of headers that needs to be canonicalized exceed the SIGV4_MAX_HTTP_HEADER_COUNT macro defined in the config file. </dd></dl>

</div>
</div>
<a id="a1db270e2e75b82f0559c92fe76cece94" name="a1db270e2e75b82f0559c92fe76cece94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1db270e2e75b82f0559c92fe76cece94">&#9670;&#160;</a></span>appendSignedHeaders()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> appendSignedHeaders </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>headerCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *&#160;</td>
          <td class="paramname"><em>pCanonicalRequest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pSignedHeaders</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pSignedHeadersLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Append Signed Headers to the Canonical Request buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">headerCount</td><td>Number of headers which needs to be appended. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Flag to indicate if headers are already in the canonical form. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pCanonicalRequest</td><td>Struct to maintain intermediary buffer and state of canonicalization. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pSignedHeaders</td><td>The starting location of the signed headers. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pSignedHeadersLen</td><td>The length of the signed headers. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab36813a9acc55b3f7f90072f7d4a52fa" name="ab36813a9acc55b3f7f90072f7d4a52fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab36813a9acc55b3f7f90072f7d4a52fa">&#9670;&#160;</a></span>appendCanonicalizedHeaders()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> appendCanonicalizedHeaders </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>headerCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *&#160;</td>
          <td class="paramname"><em>pCanonicalRequest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Canonicalize headers and append it to the Canonical Request buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">headerCount</td><td>Number of headers which needs to be appended. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Flag to indicate if headers are already in the canonical form. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pCanonicalRequest</td><td>Struct to maintain intermediary buffer and state of canonicalization.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Following statuses will be returned by the function: <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627" title="The SigV4 library function completed successfully.">SigV4Success</a> if headers are successfully added to the canonical request. <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a2bb0cb0ecb7f2856a93b9c533d780e7c" title="The application buffer was not large enough for the specified hash function.">SigV4InsufficientMemory</a> if canonical request buffer cannot accommodate the header. </dd></dl>

</div>
</div>
<a id="a7076d1514a5c3680dbd24da9cbfab425" name="a7076d1514a5c3680dbd24da9cbfab425"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7076d1514a5c3680dbd24da9cbfab425">&#9670;&#160;</a></span>storeHashedPayloadLocation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void storeHashedPayloadLocation </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>headerIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pAmzSHA256Header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>amzSHA256HeaderLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *&#160;</td>
          <td class="paramname"><em>pCanonicalRequest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Store the location of HTTP request hashed payload in the HTTP request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">headerIndex</td><td>Index of request Header in the list of parsed headers. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pAmzSHA256Header</td><td>Literal for x-amz-content-sha256 header in HTTP request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">amzSHA256HeaderLen</td><td>Length of <code>pAmzSHA256Header</code>. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pCanonicalRequest</td><td>Struct to maintain intermediary buffer and state of canonicalization. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0b683400e5dc9051e92672e2aaec0d05" name="a0b683400e5dc9051e92672e2aaec0d05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b683400e5dc9051e92672e2aaec0d05">&#9670;&#160;</a></span>parseHeaderKeyValueEntries()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> parseHeaderKeyValueEntries </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pHeaders</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>headersDataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>headerCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *&#160;</td>
          <td class="paramname"><em>pCanonicalRequest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parse each header key and value pair from HTTP headers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pHeaders</td><td>HTTP headers to parse. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">headersDataLen</td><td>Length of HTTP headers to parse. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Flag to indicate if headers are already in the canonical form. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">headerCount</td><td>Count of key-value pairs parsed from pData. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pCanonicalRequest</td><td>Struct to maintain intermediary buffer and state of canonicalization.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Following statuses will be returned by the function: <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627" title="The SigV4 library function completed successfully.">SigV4Success</a> if header key or value is successfully added to the canonical request. <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a2bb0cb0ecb7f2856a93b9c533d780e7c" title="The application buffer was not large enough for the specified hash function.">SigV4InsufficientMemory</a> if canonical request buffer cannot accommodate the header. <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a7201ec16e087837e7e405ae908014479" title="The maximum number of header parameters was exceeded while parsing the http header string passed to t...">SigV4MaxHeaderPairCountExceeded</a> if number of key-value entries in the headers data exceeds the SIGV4_MAX_HTTP_HEADER_COUNT macro defined in the config file. </dd></dl>

</div>
</div>
<a id="a6ad6cc52c71788300dbd53f3f7c4af8d" name="a6ad6cc52c71788300dbd53f3f7c4af8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ad6cc52c71788300dbd53f3f7c4af8d">&#9670;&#160;</a></span>copyHeaderStringToCanonicalBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> copyHeaderStringToCanonicalBuffer </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>separator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *&#160;</td>
          <td class="paramname"><em>pCanonicalRequest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy header key or header value to the Canonical Request buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pData</td><td>Header Key or value to be copied to the canonical request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dataLen</td><td>Length of Header Key or value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Flag to indicate if headers are already in the canonical form. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">separator</td><td>Character separating the multiple key-value pairs or key and values. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pCanonicalRequest</td><td>Struct to maintain intermediary buffer and state of canonicalization.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Following statuses will be returned by the function: <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627" title="The SigV4 library function completed successfully.">SigV4Success</a> if the headers are successfully added to the canonical request. <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a2bb0cb0ecb7f2856a93b9c533d780e7c" title="The application buffer was not large enough for the specified hash function.">SigV4InsufficientMemory</a> if canonical request buffer cannot accommodate the header. </dd></dl>

</div>
</div>
<a id="a1c55af8f76e7fd110ce75c5c7691339c" name="a1c55af8f76e7fd110ce75c5c7691339c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c55af8f76e7fd110ce75c5c7691339c">&#9670;&#160;</a></span>isTrimmableSpace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isTrimmableSpace </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>valLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>trimmedLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function to determine whether a header string character represents a space that can be trimmed when creating "Canonical Headers". All leading and trailing spaces in the header strings need to be trimmed. Also, sequential spaces in the header value need to be trimmed to a single space. </p>
<p>Example of modifying header field for Canonical Headers: Actual header pair: | Modifier header pair My-Header2: "a   b   c" <br  />
 | my-header2:"a b c"<br  />
 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Header value or key string to be trimmed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Index of current character. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">valLen</td><td>Length of the string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trimmedLength</td><td>Current length of trimmed string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the character needs to be trimmed, else <code>false</code>. </dd></dl>

</div>
</div>
<a id="ab11d2468a4cc3ee277a136b3c320ed82" name="ab11d2468a4cc3ee277a136b3c320ed82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab11d2468a4cc3ee277a136b3c320ed82">&#9670;&#160;</a></span>generateCanonicalRequestUntilHeaders()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> generateCanonicalRequestUntilHeaders </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *&#160;</td>
          <td class="paramname"><em>pParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *&#160;</td>
          <td class="paramname"><em>pCanonicalContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pSignedHeaders</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pSignedHeadersLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate the canonical request but excluding the canonical headers and anything that goes after it. Write it onto <code>pSignedHeaders</code> and update it to point to the next location to write the rest of the canonical request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pParams</td><td>The application-defined parameters used to generate the canonical request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pCanonicalContext</td><td>The context of the canonical request. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pSignedHeaders</td><td>The location to start writing the canonical request and becomes the location to write the rest of it when this function returns. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pSignedHeadersLen</td><td>The amount of buffer available and becomes the number of bytes actually written when this function returns. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SigV4InsufficientMemory if the length of the canonical request output buffer cannot fit the actual request before the headers, <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627" title="The SigV4 library function completed successfully.">SigV4Success</a> otherwise. </dd></dl>

</div>
</div>
<a id="a9f32917686451e1952717e8a68f999a3" name="a9f32917686451e1952717e8a68f999a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f32917686451e1952717e8a68f999a3">&#9670;&#160;</a></span>generateAuthorizationValuePrefix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> generateAuthorizationValuePrefix </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *&#160;</td>
          <td class="paramname"><em>pParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pAlgorithm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>algorithmLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pSignedHeaders</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>signedHeadersLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pAuthBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pAuthPrefixLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates the prefix of the Authorization header of the format: "&lt;algorithm&gt; Credential=&lt;access key ID&gt;/&lt;credential scope&gt;, SignedHeaders=&lt;SignedHeaders&gt;, Signature=". </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pParams</td><td>The application-defined parameters used to generate the canonical request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pAlgorithm</td><td>The signing algorithm used for SigV4 authentication. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">algorithmLen</td><td>The length of <code>pAlgorithm</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pSignedHeaders</td><td>The signed headers of the SigV4 request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">signedHeadersLen</td><td>The length of <code>pSignedHeaders</code>. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pAuthBuf</td><td>The authorization buffer where to write the prefix. Pointer is updated with the next location to write the value of the signature. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pAuthPrefixLen</td><td>On input, it should contain the total length of <code>pAuthBuf</code>. On output, this will be filled with the length of the Authorization header, if operation is successful.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a2bb0cb0ecb7f2856a93b9c533d780e7c" title="The application buffer was not large enough for the specified hash function.">SigV4InsufficientMemory</a> if the length of the authorization buffer, <code>pAuthBuf</code> is insufficient to store the entire authorization header value (i.e. Prefix + HexEncoded Signature); otherwise <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627" title="The SigV4 library function completed successfully.">SigV4Success</a>. </dd></dl>

</div>
</div>
<a id="ab32ac5704f6143868e326b71ea0181d2" name="ab32ac5704f6143868e326b71ea0181d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab32ac5704f6143868e326b71ea0181d2">&#9670;&#160;</a></span>writeLineToCanonicalRequest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> writeLineToCanonicalRequest </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pLine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>lineLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *&#160;</td>
          <td class="paramname"><em>pCanonicalContext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write a line in the canonical request. </p>
<dl class="section note"><dt>Note</dt><dd>Used whenever there are components of the request that are already canonicalized.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pLine</td><td>The line to write to the canonical request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lineLen</td><td>The length of <code>pLine</code> </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pCanonicalContext</td><td>The canonical context where the line should be written. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SigV4InsufficientMemory if the length of the canonical request buffer cannot write the desired line, <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627" title="The SigV4 library function completed successfully.">SigV4Success</a> otherwise. </dd></dl>

</div>
</div>
<a id="a3e7468042ccd03c8686bfe4195441d1a" name="a3e7468042ccd03c8686bfe4195441d1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e7468042ccd03c8686bfe4195441d1a">&#9670;&#160;</a></span>setQueryParameterKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void setQueryParameterKey </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>currentParameter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>keyLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *&#160;</td>
          <td class="paramname"><em>pCanonicalRequest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a query parameter key in the canonical request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">currentParameter</td><td>The index of the query key to set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pKey</td><td>The pointer to the query key </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">keyLen</td><td>The length of <code>pKey</code> </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pCanonicalRequest</td><td>The canonical request containing the query parameter array of keys and values </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abcc91f0d413ad759a0cebbfef3f43a5d" name="abcc91f0d413ad759a0cebbfef3f43a5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcc91f0d413ad759a0cebbfef3f43a5d">&#9670;&#160;</a></span>setQueryParameterValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void setQueryParameterValue </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>currentParameter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>valueLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *&#160;</td>
          <td class="paramname"><em>pCanonicalRequest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a query parameter value in the canonical request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">currentParameter</td><td>The index of the query value to set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pValue</td><td>The pointer to the query value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">valueLen</td><td>The length of <code>pValue</code> </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pCanonicalRequest</td><td>The canonical request containing the query parameter array of keys and values </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0a8248a81a92ede551d475f46b7ebf16" name="a0a8248a81a92ede551d475f46b7ebf16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a8248a81a92ede551d475f46b7ebf16">&#9670;&#160;</a></span>lowercaseCharacter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char lowercaseCharacter </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>inputChar</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert the character to lowercase. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inputChar</td><td>character to be lowercased.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Input character converted to lowercase. </dd></dl>

</div>
</div>
<a id="a89c6d3f1ea6ba3bb3a8b69ba6013e8f7" name="a89c6d3f1ea6ba3bb3a8b69ba6013e8f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89c6d3f1ea6ba3bb3a8b69ba6013e8f7">&#9670;&#160;</a></span>writePayloadHashToCanonicalRequest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> writePayloadHashToCanonicalRequest </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *&#160;</td>
          <td class="paramname"><em>pParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *&#160;</td>
          <td class="paramname"><em>pCanonicalContext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the HTTP request payload hash to the canonical request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pParams</td><td>The application-defined parameters used for writing the payload hash. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pCanonicalContext</td><td>The canonical context where the payload hash should be written.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SigV4InsufficientMemory if the length of the canonical request buffer cannot write the desired line, <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627" title="The SigV4 library function completed successfully.">SigV4Success</a> otherwise. </dd></dl>

</div>
</div>
<a id="ae9366fa6817cf38befefe225a3d346f0" name="ae9366fa6817cf38befefe225a3d346f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9366fa6817cf38befefe225a3d346f0">&#9670;&#160;</a></span>hmacAddKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t hmacAddKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_hmac_context__t.html">HmacContext_t</a> *&#160;</td>
          <td class="paramname"><em>pHmacContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>keyLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isKeyPrefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates the key for the HMAC operation. </p>
<dl class="section note"><dt>Note</dt><dd>This function can be called multiple times before calling <a class="el" href="sigv4_8c.html#a91e0b178798f5ff4e3e88d8dc41f66aa" title="Generates the intermediate hash output in the HMAC signing process. This represents the H( K&#39; ^ i_pad...">hmacIntermediate</a>. Appending multiple substrings, then calling <a class="el" href="sigv4_8c.html#ae9366fa6817cf38befefe225a3d346f0" title="Generates the key for the HMAC operation.">hmacAddKey</a> on the appended string is also equivalent to calling <a class="el" href="sigv4_8c.html#ae9366fa6817cf38befefe225a3d346f0" title="Generates the key for the HMAC operation.">hmacAddKey</a> on each individual substring. </dd>
<dd>
This function accepts a const char * so that string literals can be passed in.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pHmacContext</td><td>The context used for HMAC calculation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pKey</td><td>The key used as input for HMAC calculation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">keyLen</td><td>The length of <code>pKey</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">isKeyPrefix</td><td>Flag to indicate whether the passed key is prefix of a complete key for an HMAC operation. If this is a prefix, then it will be stored in cache for use with remaining part of the key that will be provided in a subsequent call to <a class="el" href="sigv4_8c.html#ae9366fa6817cf38befefe225a3d346f0">hmacAddKey</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, all other return values are failures. </dd></dl>

</div>
</div>
<a id="a91e0b178798f5ff4e3e88d8dc41f66aa" name="a91e0b178798f5ff4e3e88d8dc41f66aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91e0b178798f5ff4e3e88d8dc41f66aa">&#9670;&#160;</a></span>hmacIntermediate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t hmacIntermediate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_hmac_context__t.html">HmacContext_t</a> *&#160;</td>
          <td class="paramname"><em>pHmacContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dataLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates the intermediate hash output in the HMAC signing process. This represents the H( K' ^ i_pad || message ) part of the HMAC algorithm. </p>
<dl class="section note"><dt>Note</dt><dd>This MUST be ONLY called after <a class="el" href="sigv4_8c.html#ae9366fa6817cf38befefe225a3d346f0" title="Generates the key for the HMAC operation.">hmacAddKey</a>; otherwise results in undefined behavior. Likewise, one SHOULD NOT call <a class="el" href="sigv4_8c.html#ae9366fa6817cf38befefe225a3d346f0" title="Generates the key for the HMAC operation.">hmacAddKey</a> after calling <a class="el" href="sigv4_8c.html#a91e0b178798f5ff4e3e88d8dc41f66aa" title="Generates the intermediate hash output in the HMAC signing process. This represents the H( K&#39; ^ i_pad...">hmacIntermediate</a>. One must call <a class="el" href="sigv4_8c.html#ab773cbedb30027889d6c3fd752c128f8" title="Generates the end output of the HMAC algorithm.">hmacFinal</a> first before calling <a class="el" href="sigv4_8c.html#ae9366fa6817cf38befefe225a3d346f0" title="Generates the key for the HMAC operation.">hmacAddKey</a> again.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pHmacContext</td><td>The context used for HMAC calculation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pData</td><td>The data used as input for HMAC calculation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dataLen</td><td>The length of <code>pData</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, all other return values are failures. </dd></dl>

</div>
</div>
<a id="ab773cbedb30027889d6c3fd752c128f8" name="ab773cbedb30027889d6c3fd752c128f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab773cbedb30027889d6c3fd752c128f8">&#9670;&#160;</a></span>hmacFinal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t hmacFinal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_hmac_context__t.html">HmacContext_t</a> *&#160;</td>
          <td class="paramname"><em>pHmacContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pMac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>macLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates the end output of the HMAC algorithm. </p>
<p>This represents the second hash operation in the HMAC algorithm: H( K' ^ o_pad || Intermediate Hash Output ) where the Intermediate Hash Output is generated from the call to <a class="el" href="sigv4_8c.html#a91e0b178798f5ff4e3e88d8dc41f66aa">hmacIntermediate</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pHmacContext</td><td>The context used for HMAC calculation. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pMac</td><td>The buffer onto which to write the HMAC digest. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">macLen</td><td>The length of <code>pMac</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, all other return values are failures. </dd></dl>

</div>
</div>
<a id="aa3c20454de317a6f7460d2cf0498c132" name="aa3c20454de317a6f7460d2cf0498c132"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3c20454de317a6f7460d2cf0498c132">&#9670;&#160;</a></span>completeHmac()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t completeHmac </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_hmac_context__t.html">HmacContext_t</a> *&#160;</td>
          <td class="paramname"><em>pHmacContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>keyLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pOutput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>outputLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates the complete HMAC digest given a key and value, then write the digest in the provided output buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pHmacContext</td><td>The context used for the current HMAC calculation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pKey</td><td>The key passed as input to the HMAC function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">keyLen</td><td>The length of <code>pKey</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pData</td><td>The data passed as input to the HMAC function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dataLen</td><td>The length of <code>pData</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pOutput</td><td>The buffer onto which to write the HMAC digest. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outputLen</td><td>The length of <code>pOutput</code> and must be greater than pCryptoInterface-&gt;hashDigestLen for this function to succeed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, all other return values are failures. </dd></dl>

</div>
</div>
<a id="a8528d08d3a3f4ce953ac0a18c5c4b7f9" name="a8528d08d3a3f4ce953ac0a18c5c4b7f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8528d08d3a3f4ce953ac0a18c5c4b7f9">&#9670;&#160;</a></span>completeHash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t completeHash </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pInput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inputLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pOutput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>outputLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_sig_v4_crypto_interface__t.html">SigV4CryptoInterface_t</a> *&#160;</td>
          <td class="paramname"><em>pCryptoInterface</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates the complete hash of an input string, then write the digest in the provided output buffer. </p>
<dl class="section note"><dt>Note</dt><dd>Unlike <a class="el" href="sigv4_8c.html#a76c455d7bda8ed3d4816c0ec0b546709" title="Generate the complete hash of an input string, then write the digest in an intermediary buffer before...">completeHashAndHexEncode</a>, this function will not encode the hash and will simply output the bytes written by the hash function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pInput</td><td>The data passed as input to the hash function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inputLen</td><td>The length of <code>pInput</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pOutput</td><td>The buffer onto which to write the hash. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outputLen</td><td>The length of <code>pOutput</code> and must be greater than pCryptoInterface-&gt;hashDigestLen for this function to succeed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pCryptoInterface</td><td>The interface used to call hash functions. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, all other return values are failures. </dd></dl>

</div>
</div>
<a id="a76c455d7bda8ed3d4816c0ec0b546709" name="a76c455d7bda8ed3d4816c0ec0b546709"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76c455d7bda8ed3d4816c0ec0b546709">&#9670;&#160;</a></span>completeHashAndHexEncode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> completeHashAndHexEncode </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pInput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inputLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pOutput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pOutputLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_sig_v4_crypto_interface__t.html">SigV4CryptoInterface_t</a> *&#160;</td>
          <td class="paramname"><em>pCryptoInterface</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate the complete hash of an input string, then write the digest in an intermediary buffer before hex encoding and writing it onto <code>pOutput</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pInput</td><td>The data passed as input to the hash function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inputLen</td><td>The length of <code>pInput</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pOutput</td><td>The buffer onto which to write the hex-encoded hash. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pOutputLen</td><td>The length of <code>pOutput</code> and must be greater than pCryptoInterface-&gt;hashDigestLen * 2 for this function to succeed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pCryptoInterface</td><td>The interface used to call hash functions. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, all other return values are failures. </dd></dl>

</div>
</div>
<a id="a6a982381960ca00aa2ce9055b2a24273" name="a6a982381960ca00aa2ce9055b2a24273"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a982381960ca00aa2ce9055b2a24273">&#9670;&#160;</a></span>writeStringToSignPrefix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t writeStringToSignPrefix </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pBufStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pAlgorithm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>algorithmLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pDateIso8601</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate the prefix of the string to sign containing the algorithm and date then write it onto <code>pBufStart</code>. </p>
<dl class="section note"><dt>Note</dt><dd>This function assumes that enough bytes remain in <code>pBufStart</code> in order to write the algorithm and date.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pBufStart</td><td>The starting location of the buffer to write the string to sign. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pAlgorithm</td><td>The algorithm used for generating the SigV4 signature. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">algorithmLen</td><td>The length of <code>pAlgorithm</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pDateIso8601</td><td>The date used as part of the string to sign. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes written to <code>pBufStart</code>. </dd></dl>

</div>
</div>
<a id="ac342ebde5d8f50559423b9eee8e5d84e" name="ac342ebde5d8f50559423b9eee8e5d84e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac342ebde5d8f50559423b9eee8e5d84e">&#9670;&#160;</a></span>writeStringToSign()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> writeStringToSign </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *&#160;</td>
          <td class="paramname"><em>pParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pAlgorithm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>algorithmLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_canonical_context__t.html">CanonicalContext_t</a> *&#160;</td>
          <td class="paramname"><em>pCanonicalContext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate the string to sign and write it onto a <a class="el" href="struct_sig_v4_string__t.html" title="A library structure holding the string and length values of parameters to be sorted and standardized....">SigV4String_t</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pParams</td><td>The application-defined parameters used to generate the string to sign. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pAlgorithm</td><td>The algorithm used for generating the SigV4 signature. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">algorithmLen</td><td>The length of <code>pAlgorithm</code>. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pCanonicalContext</td><td>The context of the canonical request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SigV4InsufficientMemory if the length of the canonical request output buffer cannot fit the string to sign, <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627" title="The SigV4 library function completed successfully.">SigV4Success</a> otherwise. </dd></dl>

</div>
</div>
<a id="a5fb52f313d91e0f65f36254e2505f240" name="a5fb52f313d91e0f65f36254e2505f240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fb52f313d91e0f65f36254e2505f240">&#9670;&#160;</a></span>generateSigningKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> generateSigningKey </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *&#160;</td>
          <td class="paramname"><em>pSigV4Params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_hmac_context__t.html">HmacContext_t</a> *&#160;</td>
          <td class="paramname"><em>pHmacContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_sig_v4_string__t.html">SigV4String_t</a> *&#160;</td>
          <td class="paramname"><em>pSigningKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pBytesRemaining</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate the signing key and write it onto a <a class="el" href="struct_sig_v4_string__t.html" title="A library structure holding the string and length values of parameters to be sorted and standardized....">SigV4String_t</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pSigV4Params</td><td>The application-defined parameters used to generate the signing key. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pHmacContext</td><td>The context used for the current HMAC calculation. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pSigningKey</td><td>The <a class="el" href="struct_sig_v4_string__t.html" title="A library structure holding the string and length values of parameters to be sorted and standardized....">SigV4String_t</a> onto which the signing key will be written. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pBytesRemaining</td><td>The number of bytes remaining in the canonical buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SigV4InsufficientMemory if the length of <code>pSigningKey</code> was insufficient to fit the actual signing key, <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627" title="The SigV4 library function completed successfully.">SigV4Success</a> otherwise. </dd></dl>

</div>
</div>
<a id="a44d258c14616fee40aae061a30bb825c" name="a44d258c14616fee40aae061a30bb825c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44d258c14616fee40aae061a30bb825c">&#9670;&#160;</a></span>generateCredentialScope()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void generateCredentialScope </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *&#160;</td>
          <td class="paramname"><em>pSigV4Params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_sig_v4_string__t.html">SigV4String_t</a> *&#160;</td>
          <td class="paramname"><em>pCredScope</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Format the credential scope for the authorization header. Credential scope includes the access key ID, date, region, and service parameters, and ends with "aws4_request" terminator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pSigV4Params</td><td>The application parameters defining the credential's scope. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pCredScope</td><td>The credential scope in the SigV4 format. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6675e05cc6d07aac4d6faa915e132230" name="a6675e05cc6d07aac4d6faa915e132230"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6675e05cc6d07aac4d6faa915e132230">&#9670;&#160;</a></span>checkLeap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> checkLeap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_sig_v4_date_time__t.html">SigV4DateTime_t</a> *&#160;</td>
          <td class="paramname"><em>pDateElements</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the date represents a valid leap year day. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDateElements</td><td>The date representation to be verified.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627" title="The SigV4 library function completed successfully.">SigV4Success</a> if the date corresponds to a valid leap year, <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a70fb09164f149921dbdabca0909aee1a" title="An error occurred while formatting the provided date header.">SigV4ISOFormattingError</a> otherwise. </dd></dl>

</div>
</div>
<a id="ad1d4b13610004d066894740c47e24db2" name="ad1d4b13610004d066894740c47e24db2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1d4b13610004d066894740c47e24db2">&#9670;&#160;</a></span>validateDateTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> validateDateTime </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_sig_v4_date_time__t.html">SigV4DateTime_t</a> *&#160;</td>
          <td class="paramname"><em>pDateElements</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Verify the date stored in a <a class="el" href="struct_sig_v4_date_time__t.html" title="An aggregator representing the individually parsed elements of the user-provided date parameter....">SigV4DateTime_t</a> date representation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDateElements</td><td>The date representation to be verified.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627" title="The SigV4 library function completed successfully.">SigV4Success</a> if the date is valid, and <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a70fb09164f149921dbdabca0909aee1a" title="An error occurred while formatting the provided date header.">SigV4ISOFormattingError</a> if any member of <a class="el" href="struct_sig_v4_date_time__t.html" title="An aggregator representing the individually parsed elements of the user-provided date parameter....">SigV4DateTime_t</a> is invalid or represents an out-of-range date. </dd></dl>

</div>
</div>
<a id="ab755ba4a4993e1b666ab9070c3b1be98" name="ab755ba4a4993e1b666ab9070c3b1be98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab755ba4a4993e1b666ab9070c3b1be98">&#9670;&#160;</a></span>addToDate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void addToDate </td>
          <td>(</td>
          <td class="paramtype">const char&#160;</td>
          <td class="paramname"><em>formatChar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_sig_v4_date_time__t.html">SigV4DateTime_t</a> *&#160;</td>
          <td class="paramname"><em>pDateElements</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Append the value of a date element to the internal date representation structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">formatChar</td><td>The specifier identifying the struct member to fill. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">result</td><td>The value to assign to the specified struct member. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pDateElements</td><td>The date representation structure to modify. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad1507dcc4a986cbb357cead564aec240" name="ad1507dcc4a986cbb357cead564aec240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1507dcc4a986cbb357cead564aec240">&#9670;&#160;</a></span>scanValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> scanValue </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char&#160;</td>
          <td class="paramname"><em>formatChar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>readLoc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>lenToRead</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_sig_v4_date_time__t.html">SigV4DateTime_t</a> *&#160;</td>
          <td class="paramname"><em>pDateElements</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interpret the value of the specified characters in date, based on the format specifier, and append to the internal date representation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDate</td><td>The date to be parsed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">formatChar</td><td>The format specifier used to interpret characters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">readLoc</td><td>The index of pDate to read from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lenToRead</td><td>The number of characters to read. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pDateElements</td><td>The date representation to modify.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627" title="The SigV4 library function completed successfully.">SigV4Success</a> if parsing succeeded, <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a70fb09164f149921dbdabca0909aee1a" title="An error occurred while formatting the provided date header.">SigV4ISOFormattingError</a> if the characters read did not match the format specifier. </dd></dl>

</div>
</div>
<a id="a826912da42f263c8bb18f498d7d1ab9b" name="a826912da42f263c8bb18f498d7d1ab9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a826912da42f263c8bb18f498d7d1ab9b">&#9670;&#160;</a></span>parseDate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> parseDate </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dateLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pFormat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>formatLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_sig_v4_date_time__t.html">SigV4DateTime_t</a> *&#160;</td>
          <td class="paramname"><em>pDateElements</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses date according to format string parameter, and populates date representation struct <a class="el" href="struct_sig_v4_date_time__t.html" title="An aggregator representing the individually parsed elements of the user-provided date parameter....">SigV4DateTime_t</a> with its elements. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDate</td><td>The date to be parsed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dateLen</td><td>Length of pDate, the date to be formatted. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pFormat</td><td>The format string used to extract date pDateElements from pDate. This string, among other characters, may contain specifiers of the form "%LV", where L is the number of characters to be read, and V is one of {Y, M, D, h, m, s, *}, representing a year, month, day, hour, minute, second, or skipped (un-parsed) value, respectively. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">formatLen</td><td>Length of the format string pFormat. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pDateElements</td><td>The deconstructed date representation of pDate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627" title="The SigV4 library function completed successfully.">SigV4Success</a> if all format specifiers were matched successfully, <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a70fb09164f149921dbdabca0909aee1a" title="An error occurred while formatting the provided date header.">SigV4ISOFormattingError</a> otherwise. </dd></dl>

</div>
</div>
<a id="a72386c1bb95ff33f62bfaf5c00596026" name="a72386c1bb95ff33f62bfaf5c00596026"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72386c1bb95ff33f62bfaf5c00596026">&#9670;&#160;</a></span>verifyParamsToGenerateAuthHeaderApi()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> verifyParamsToGenerateAuthHeaderApi </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *&#160;</td>
          <td class="paramname"><em>pParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pAuthBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t *&#160;</td>
          <td class="paramname"><em>authBufLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *const *&#160;</td>
          <td class="paramname"><em>pSignature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t *&#160;</td>
          <td class="paramname"><em>signatureLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Verify input parameters to the SigV4_GenerateHTTPAuthorization API. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pParams</td><td>Complete SigV4 configurations passed by application. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pAuthBuf</td><td>The user-supplied buffer for filling Authorization Header. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">authBufLen</td><td>The user-supplied size value of <code>pAuthBuf</code> buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pSignature</td><td>The user-supplied pointer memory to store starting location of Signature in Authorization Buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">signatureLen</td><td>The user-supplied pointer to store length of Signature.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627" title="The SigV4 library function completed successfully.">SigV4Success</a> if successful, <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9aca7601341caf16c3fb93a0927b9f6ab6" title="The SigV4 library function received an invalid input parameter.">SigV4InvalidParameter</a> otherwise. </dd></dl>

</div>
</div>
<a id="a0a1d1591d06b22fae9906c16d38f0025" name="a0a1d1591d06b22fae9906c16d38f0025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a1d1591d06b22fae9906c16d38f0025">&#9670;&#160;</a></span>assignDefaultArguments()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void assignDefaultArguments </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *&#160;</td>
          <td class="paramname"><em>pParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>pAlgorithm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>algorithmLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assign default arguments based on parameters set in <code>pParams</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pParams</td><td>Complete SigV4 configurations passed by application. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pAlgorithm</td><td>The algorithm used for SigV4 authentication. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">algorithmLen</td><td>The length of <code>pAlgorithm</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a67eb1d997c55d861014e7e0ba860b4ec" name="a67eb1d997c55d861014e7e0ba860b4ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67eb1d997c55d861014e7e0ba860b4ec">&#9670;&#160;</a></span>lowercaseHexEncode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> lowercaseHexEncode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_sig_v4_string__t.html">SigV4String_t</a> *&#160;</td>
          <td class="paramname"><em>pInputStr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_sig_v4_string__t.html">SigV4String_t</a> *&#160;</td>
          <td class="paramname"><em>pHexOutput</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hex digest of provided string parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pInputStr</td><td>String to encode. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pHexOutput</td><td>Hex representation of <code>pInputStr</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627" title="The SigV4 library function completed successfully.">SigV4Success</a> if successful, <a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a2bb0cb0ecb7f2856a93b9c533d780e7c" title="The application buffer was not large enough for the specified hash function.">SigV4InsufficientMemory</a> otherwise. </dd></dl>

</div>
</div>
<a id="a5191c6d026491e2d204323723d2dd47b" name="a5191c6d026491e2d204323723d2dd47b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5191c6d026491e2d204323723d2dd47b">&#9670;&#160;</a></span>sizeNeededForCredentialScope()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t sizeNeededForCredentialScope </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *&#160;</td>
          <td class="paramname"><em>pSigV4Params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate number of bytes needed for the credential scope. </p>
<dl class="section note"><dt>Note</dt><dd>This does not include the linefeed character.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pSigV4Params</td><td>SigV4 configurations passed by application.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes needed for credential scope. </dd></dl>

</div>
</div>
<a id="ac7d33915690b63b45059c39e14f67bf0" name="ac7d33915690b63b45059c39e14f67bf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7d33915690b63b45059c39e14f67bf0">&#9670;&#160;</a></span>copyString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t copyString </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy a string into a char * buffer. </p>
<dl class="section note"><dt>Note</dt><dd>This function can be used to copy a string literal without MISRA warnings.</dd>
<dd>
This function assumes the destination buffer is large enough to hold the string to copy, so will always write <code>length</code> bytes.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">destination</td><td>The buffer to write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>String to copy. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>Number of characters to copy.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>length</code> The number of characters written from <code>source</code> into <code>destination</code>. </dd></dl>

</div>
</div>
<a id="ac6f3d9773a15116d43b050ab09456c20" name="ac6f3d9773a15116d43b050ab09456c20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6f3d9773a15116d43b050ab09456c20">&#9670;&#160;</a></span>SigV4_AwsIotDateToIso8601()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> SigV4_AwsIotDateToIso8601 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dateLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pDateISO8601</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dateISO8601Len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the date header value from the AWS IoT response, and generate the formatted ISO 8601 date required for authentication. </p>
<p>This is an optional utility function available to the application, to assist with formatting of the date header obtained from AWS IoT (when requesting a temporary token or sending a POST request).</p>
<p>AWS SigV4 authentication requires an ISO 8601 date to be present in the "x-amz-date" request header, as well as in the credential scope (must be identical). For additional information on date handling, please see <a href="https://docs.aws.amazon.com/general/latest/gr/sigv4-date-handling.html">https://docs.aws.amazon.com/general/latest/gr/sigv4-date-handling.html</a>.</p>
<p>Acceptable Input Formats:</p><ul>
<li>RFC 5322 (ex. "Thu, 18 Jan 2018 09:18:06 GMT"), the preferred format in HTTP 'Date' response headers. If using this format, the date parameter should match "***, DD 'MMM' YYYY hh:mm:ss GMT" exactly.</li>
<li>RFC 3339 (ex. "2018-01-18T09:18:06Z"), found occasionally in 'Date' and expiration headers. If using this format, the date parameter should match "YYYY-MM-DD'T'hh:mm:ss'Z'" exactly.</li>
</ul>
<p>Formatted Output:</p><ul>
<li>The ISO8601-formatted date will be returned in the form "YYYYMMDD'T'HHMMSS'Z'" (ex. "20180118T091806Z").</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDate</td><td>The date header (in <a href="https://tools.ietf.org/html/rfc3339">RFC 3339</a> or <a href="https://tools.ietf.org/html/rfc5322">RFC 5322</a> formats). An acceptable date header can be found in the HTTP response returned by AWS IoT. This value should use UTC (with no time-zone offset), and be exactly 20 or 29 characters in length (excluding the null character), to comply with RFC 3339 and RFC 5322 formats, respectively. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dateLen</td><td>The length of the pDate header value. Must be either SIGV4_EXPECTED_LEN_RFC_3339 or SIGV4_EXPECTED_LEN_RFC_5322, for valid input parameters. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pDateISO8601</td><td>The formatted ISO8601-compliant date. The date value written to this buffer will be exactly 16 characters in length, to comply with the ISO8601 standard required for SigV4 authentication. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dateISO8601Len</td><td>The length of buffer pDateISO8601. Must be at least SIGV4_ISO_STRING_LEN bytes, for valid input parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627" title="The SigV4 library function completed successfully.">SigV4Success</a> code if successful, error code otherwise.</dd></dl>
<p><b>Example</b> </p><div class="fragment"><div class="line"><span class="comment">// The following example shows how to use the SigV4_AwsIotDateToIso8601</span></div>
<div class="line"><span class="comment">// function to convert an AWS IoT date header value to a ISO 8601 date.</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_enumeration" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> status = <a class="code hl_enumvalue" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627">SigV4Success</a>;</div>
<div class="line"><span class="keywordtype">char</span> pDateISO8601[<a class="code hl_define" href="group__sigv4__constants.html#gaa96f2b005c358892fc9ae3f1ecc7f757">SIGV4_ISO_STRING_LEN</a>] = {0};</div>
<div class="line"><span class="keywordtype">size_t</span> pDateISO8601Len = <a class="code hl_define" href="group__sigv4__constants.html#gaa96f2b005c358892fc9ae3f1ecc7f757">SIGV4_ISO_STRING_LEN</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// pDate and dateLen are the date header and length which are parsed from</span></div>
<div class="line"><span class="comment">// an AWS IoT Credential Provider HTTP response, using an HTTP library.</span></div>
<div class="line">status = <a class="code hl_function" href="sigv4_8c.html#ac6f3d9773a15116d43b050ab09456c20">SigV4_AwsIotDateToIso8601</a>( pDate, dateLen, pDateISO8601, pDateISO8601Len );</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span>( status != <a class="code hl_enumvalue" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627">SigV4Success</a> )</div>
<div class="line">{</div>
<div class="line">   <span class="comment">// Failed to parse date</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__sigv4__constants_html_gaa96f2b005c358892fc9ae3f1ecc7f757"><div class="ttname"><a href="group__sigv4__constants.html#gaa96f2b005c358892fc9ae3f1ecc7f757">SIGV4_ISO_STRING_LEN</a></div><div class="ttdeci">#define SIGV4_ISO_STRING_LEN</div><div class="ttdef"><b>Definition:</b> sigv4.h:77</div></div>
<div class="ttc" id="agroup__sigv4__enum__types_html_ga9473b37a4c9e1e9b1d45d90b062d8df9"><div class="ttname"><a href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a></div><div class="ttdeci">SigV4Status_t</div><div class="ttdoc">Return status of the SigV4 Library.</div><div class="ttdef"><b>Definition:</b> sigv4.h:152</div></div>
<div class="ttc" id="agroup__sigv4__enum__types_html_gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627"><div class="ttname"><a href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627">SigV4Success</a></div><div class="ttdeci">@ SigV4Success</div><div class="ttdoc">The SigV4 library function completed successfully.</div><div class="ttdef"><b>Definition:</b> sigv4.h:161</div></div>
<div class="ttc" id="asigv4_8c_html_ac6f3d9773a15116d43b050ab09456c20"><div class="ttname"><a href="sigv4_8c.html#ac6f3d9773a15116d43b050ab09456c20">SigV4_AwsIotDateToIso8601</a></div><div class="ttdeci">SigV4Status_t SigV4_AwsIotDateToIso8601(const char *pDate, size_t dateLen, char *pDateISO8601, size_t dateISO8601Len)</div><div class="ttdoc">Parse the date header value from the AWS IoT response, and generate the formatted ISO 8601 date requi...</div><div class="ttdef"><b>Definition:</b> sigv4.c:3041</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a46ab0bb656d9b24e3efdcf85c0b8a385" name="a46ab0bb656d9b24e3efdcf85c0b8a385"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46ab0bb656d9b24e3efdcf85c0b8a385">&#9670;&#160;</a></span>SigV4_GenerateHTTPAuthorization()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> SigV4_GenerateHTTPAuthorization </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> *&#160;</td>
          <td class="paramname"><em>pParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pAuthBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>authBufLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pSignature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>signatureLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates the HTTP Authorization header value. </p>
<dl class="section note"><dt>Note</dt><dd>The API does not support HTTP headers containing empty HTTP header keys or values.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pParams</td><td>Parameters for generating the SigV4 signature. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pAuthBuf</td><td>Buffer to hold the generated Authorization header value. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">authBufLen</td><td>Input: the length of <code>pAuthBuf</code>, output: the length of the authorization value written to the buffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pSignature</td><td>Location of the signature in the authorization string. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">signatureLen</td><td>The length of <code>pSignature</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627" title="The SigV4 library function completed successfully.">SigV4Success</a> if successful, error code otherwise.</dd></dl>
<p><b>Example</b> </p><div class="fragment"><div class="line"><span class="comment">// The following example shows how to use the SigV4_GenerateHTTPAuthorization</span></div>
<div class="line"><span class="comment">// function to generate the HTTP Authorization header value for HTTP requests</span></div>
<div class="line"><span class="comment">// to AWS services requiring SigV4 authentication.</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_enumeration" href="group__sigv4__enum__types.html#ga9473b37a4c9e1e9b1d45d90b062d8df9">SigV4Status_t</a> status = <a class="code hl_enumvalue" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627">SigV4Success</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Buffer to hold the authorization header.</span></div>
<div class="line"><span class="keywordtype">char</span> pSigv4Auth[ 2048U ];</div>
<div class="line"><span class="keywordtype">size_t</span> sigv4AuthLen = <span class="keyword">sizeof</span>( pSigv4Auth );</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Pointer to signature in the Authorization header that will be populated in</span></div>
<div class="line"><span class="comment">// pSigv4Auth by the SigV4_GenerateHTTPAuthorization API function.</span></div>
<div class="line"><span class="keywordtype">char</span> * signature = NULL;</div>
<div class="line"><span class="keywordtype">size_t</span> signatureLen = 0;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a> sigv4Params =</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Parsed temporary credentials obtained from AWS IoT Credential Provider.</span></div>
<div class="line">    .<a class="code hl_variable" href="struct_sig_v4_parameters__t.html#a5427dc690bbc4abdd61c334aed5cd256">pCredentials</a>     = &amp;sigv4Creds,</div>
<div class="line">    <span class="comment">// Date in ISO8601 format.</span></div>
<div class="line">    .pDateIso8601     = pDateISO8601,</div>
<div class="line">    <span class="comment">// The AWS region for the request.</span></div>
<div class="line">    .pRegion          = AWS_REGION,</div>
<div class="line">    .regionLen        = strlen( AWS_REGION ),</div>
<div class="line">    <span class="comment">// The AWS service for the request.</span></div>
<div class="line">    .pService         = AWS_SERVICE_NAME,</div>
<div class="line">    .serviceLen       = strlen( AWS_SERVICE_NAME ),</div>
<div class="line">    <span class="comment">// SigV4 crypto interface. See SigV4CryptoInterface_t interface documentation.</span></div>
<div class="line">    .pCryptoInterface = &amp;cryptoInterface,</div>
<div class="line">    <span class="comment">// HTTP parameters for the HTTP request to generate a SigV4 authorization header for.</span></div>
<div class="line">    .pHttpParameters  = &amp;sigv4HttpParams</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">status = <a class="code hl_function" href="sigv4_8c.html#a46ab0bb656d9b24e3efdcf85c0b8a385">SigV4_GenerateHTTPAuthorization</a>( &amp;sigv4Params, pSigv4Auth, &amp;sigv4AuthLen, &amp;signature, &amp;signatureLen );</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span>( status != <a class="code hl_enumvalue" href="group__sigv4__enum__types.html#gga9473b37a4c9e1e9b1d45d90b062d8df9a238f75db46434dcb1fa3e8bbdf048627">SigV4Success</a> )</div>
<div class="line">{</div>
<div class="line">   <span class="comment">// Failed to generate authorization header.</span></div>
<div class="line">}</div>
<div class="ttc" id="asigv4_8c_html_a46ab0bb656d9b24e3efdcf85c0b8a385"><div class="ttname"><a href="sigv4_8c.html#a46ab0bb656d9b24e3efdcf85c0b8a385">SigV4_GenerateHTTPAuthorization</a></div><div class="ttdeci">SigV4Status_t SigV4_GenerateHTTPAuthorization(const SigV4Parameters_t *pParams, char *pAuthBuf, size_t *authBufLen, char **pSignature, size_t *signatureLen)</div><div class="ttdoc">Generates the HTTP Authorization header value.</div><div class="ttdef"><b>Definition:</b> sigv4.c:3119</div></div>
<div class="ttc" id="astruct_sig_v4_parameters__t_html"><div class="ttname"><a href="struct_sig_v4_parameters__t.html">SigV4Parameters_t</a></div><div class="ttdoc">Complete configurations required for generating &quot;String to Sign&quot; and &quot;Signing Key&quot; values.</div><div class="ttdef"><b>Definition:</b> sigv4.h:396</div></div>
<div class="ttc" id="astruct_sig_v4_parameters__t_html_a5427dc690bbc4abdd61c334aed5cd256"><div class="ttname"><a href="struct_sig_v4_parameters__t.html#a5427dc690bbc4abdd61c334aed5cd256">SigV4Parameters_t::pCredentials</a></div><div class="ttdeci">SigV4Credentials_t * pCredentials</div><div class="ttdoc">The AccessKeyId, SecretAccessKey, and SecurityToken used to generate the Authorization header.</div><div class="ttdef"><b>Definition:</b> sigv4.h:401</div></div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="sigv4_8c.html">sigv4.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
