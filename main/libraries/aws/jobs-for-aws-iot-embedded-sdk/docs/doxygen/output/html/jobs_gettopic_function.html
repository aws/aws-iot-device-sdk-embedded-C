<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AWS IoT Jobs: Jobs_GetTopic</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AWS IoT Jobs<span id="projectnumber">&#160;v1.5.1</span>
   </div>
   <div id="projectbrief">Client library for AWS IoT Jobs</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('jobs_gettopic_function.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Jobs_GetTopic </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="fragment"><div class="line"><a class="code hl_enumeration" href="group__jobs__enum__types.html#gacc72f7076cee5bd66a46453420d97921">JobsStatus_t</a> <a class="code hl_function" href="jobs_8h.html#afe747bcbbd6eec4715b70df9f376de0a">Jobs_GetTopic</a>( <span class="keywordtype">char</span> * buffer,</div>
<div class="line">                            <span class="keywordtype">size_t</span> length,</div>
<div class="line">                            <span class="keyword">const</span> <span class="keywordtype">char</span> * thingName,</div>
<div class="line">                            uint16_t thingNameLength,</div>
<div class="line">                            <a class="code hl_enumeration" href="group__jobs__enum__types.html#ga315af209e86f50615c9e76948cf268ac">JobsTopic_t</a> api,</div>
<div class="line">                            <span class="keywordtype">size_t</span> * outLength );</div>
<div class="ttc" id="agroup__jobs__enum__types_html_ga315af209e86f50615c9e76948cf268ac"><div class="ttname"><a href="group__jobs__enum__types.html#ga315af209e86f50615c9e76948cf268ac">JobsTopic_t</a></div><div class="ttdeci">JobsTopic_t</div><div class="ttdoc">Topic values for subscription requests.</div><div class="ttdef"><b>Definition:</b> jobs.h:301</div></div>
<div class="ttc" id="agroup__jobs__enum__types_html_gacc72f7076cee5bd66a46453420d97921"><div class="ttname"><a href="group__jobs__enum__types.html#gacc72f7076cee5bd66a46453420d97921">JobsStatus_t</a></div><div class="ttdeci">JobsStatus_t</div><div class="ttdoc">Return codes from jobs functions.</div><div class="ttdef"><b>Definition:</b> jobs.h:255</div></div>
<div class="ttc" id="ajobs_8h_html_afe747bcbbd6eec4715b70df9f376de0a"><div class="ttname"><a href="jobs_8h.html#afe747bcbbd6eec4715b70df9f376de0a">Jobs_GetTopic</a></div><div class="ttdeci">JobsStatus_t Jobs_GetTopic(char *buffer, size_t length, const char *thingName, uint16_t thingNameLength, JobsTopic_t api, size_t *outLength)</div><div class="ttdoc">Populate a topic string for a subscription request.</div><div class="ttdef"><b>Definition:</b> jobs.c:276</div></div>
</div><!-- fragment --><p>Populate a topic string for a subscription request.  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>The buffer to contain the topic string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>The size of the buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">thingName</td><td>The device's thingName as registered with AWS IoT. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">thingNameLength</td><td>The length of the thingName. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">api</td><td>The desired Jobs API, e.g., JobsNextJobChanged. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outLength</td><td>The length of the topic string written to the buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__jobs__enum__types.html#ggacc72f7076cee5bd66a46453420d97921a23d9fa1f6d5d5e51f681e3682d9235f3" title="The buffer was properly written or a match was found.">JobsSuccess</a> if the topic was written to the buffer; <a class="el" href="group__jobs__enum__types.html#ggacc72f7076cee5bd66a46453420d97921a9b6dea4829e16d4d5e43c99f00286e0b" title="A function parameter was NULL or has an illegal value.">JobsBadParameter</a> if invalid parameters are passed; <a class="el" href="group__jobs__enum__types.html#ggacc72f7076cee5bd66a46453420d97921a12ff29ab79c3596a4a54cfa1a541cc79" title="The buffer write was truncated.">JobsBufferTooSmall</a> if the buffer cannot hold the full topic string.</dd></dl>
<p>When all parameters are valid, the topic string is written to the buffer up to one less than the buffer size. The topic is ended with a NUL character.</p>
<dl class="section note"><dt>Note</dt><dd>The thingName parameter does not need a NUL terminator.</dd>
<dd>
The AWS IoT Jobs service does not require clients to subscribe to the "/accepted" and "/rejected" response topics for the APIs that accept requests on PUBLISH topics. The Jobs service will send responses to requests from clients irrespective of whether they have subscribed to response topics or not. For more information, refer to the AWS docs here: <a href="https://docs.aws.amazon.com/iot/latest/developerguide/jobs-mqtt-api.html">https://docs.aws.amazon.com/iot/latest/developerguide/jobs-mqtt-api.html</a></dd></dl>
<p><b>Example</b> </p><div class="fragment"><div class="line"><span class="comment">// The following example shows usage of the Jobs_GetTopic API to</span></div>
<div class="line"><span class="comment">// generate topic string for the NextJobExecutionChanged API</span></div>
<div class="line"><span class="comment">// of AWS IoT Jobs service.</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Every device should have a unique thing name registered with AWS IoT Core.</span></div>
<div class="line"><span class="comment">// This example uses a dummy serial number for the thing name.</span></div>
<div class="line"><span class="preprocessor">#define THING_NAME           &quot;11223445566&quot;</span></div>
<div class="line"><span class="preprocessor">#define THING_NAME_LENGTH    ( sizeof( THING_NAME ) - 1U )</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// This example allocates a buffer of maximum length for a Jobs topic</span></div>
<div class="line"><span class="comment">// possible for the thing name using the JOBS_API_MAX_LENGTH macro.</span></div>
<div class="line"><span class="keywordtype">char</span> topicBuffer[ <a class="code hl_define" href="group__jobs__constants.html#gabb375381728f738d2bf931b7dbd91103">JOBS_API_MAX_LENGTH</a>( THING_NAME_LENGTH ) ] = { 0 };</div>
<div class="line">uint16_t topicLength = 0U;</div>
<div class="line"><a class="code hl_enumeration" href="group__jobs__enum__types.html#gacc72f7076cee5bd66a46453420d97921">JobsStatus_t</a> status = <a class="code hl_enumvalue" href="group__jobs__enum__types.html#ggacc72f7076cee5bd66a46453420d97921a23d9fa1f6d5d5e51f681e3682d9235f3">JobsSuccess</a>;</div>
<div class="line">status = <a class="code hl_function" href="jobs_8h.html#afe747bcbbd6eec4715b70df9f376de0a">Jobs_GetTopic</a>( topicBuffer,</div>
<div class="line">                        <span class="keyword">sizeof</span>( topicBuffer ),</div>
<div class="line">                        THING_NAME,</div>
<div class="line">                        THING_NAME_LENGTH,</div>
<div class="line">                        &amp;( topicLength ) );</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span>( status == <a class="code hl_enumvalue" href="group__jobs__enum__types.html#ggacc72f7076cee5bd66a46453420d97921a23d9fa1f6d5d5e51f681e3682d9235f3">JobsSuccess</a> )</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The topic string of length, topicLength, has been</span></div>
<div class="line">    <span class="comment">// generated in the buffer, topicBuffer, for the NextJobExecutionChanged API.</span></div>
<div class="line">    <span class="comment">// Subscribe to this topic using an MQTT client of your choice.</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__jobs__constants_html_gabb375381728f738d2bf931b7dbd91103"><div class="ttname"><a href="group__jobs__constants.html#gabb375381728f738d2bf931b7dbd91103">JOBS_API_MAX_LENGTH</a></div><div class="ttdeci">#define JOBS_API_MAX_LENGTH(thingNameLength)</div><div class="ttdoc">The size needed to hold the longest topic for a given thing name length.</div><div class="ttdef"><b>Definition:</b> jobs.h:245</div></div>
<div class="ttc" id="agroup__jobs__enum__types_html_ggacc72f7076cee5bd66a46453420d97921a23d9fa1f6d5d5e51f681e3682d9235f3"><div class="ttname"><a href="group__jobs__enum__types.html#ggacc72f7076cee5bd66a46453420d97921a23d9fa1f6d5d5e51f681e3682d9235f3">JobsSuccess</a></div><div class="ttdeci">@ JobsSuccess</div><div class="ttdoc">The buffer was properly written or a match was found.</div><div class="ttdef"><b>Definition:</b> jobs.h:257</div></div>
</div><!-- fragment --><p>See <a class="el" href="jobs_8h.html" title="Client library APIs for the AWS IoT Jobs service.">jobs.h</a> for docs.   </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
